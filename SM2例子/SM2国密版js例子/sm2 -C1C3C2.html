<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>SM2-TEST</title>
    <script src="crypto-js.js"></script>
    <script src="sm2.js"></script>
    <script>
    function encrypt() {
        //公钥，16进制格式，由后端生成
	
        // 需要加密的信息	
      const  pubkeyHex = "0465b2ab389023b3e0d3e571f8113023c13aaca0e95d5b3d0f6f035bada03c2fb3e523769673d4a6271727ebb768a9a5e7e1486e9dbe04effb5b774ca34d01bd36";
		
        var encryptData = sm2Encrypt("解密后信息:哈哈哈，嘿嘿嘿123456 mode=C1C3C2",pubkeyHex, 1);
        
       console.log(encryptData);

       const msg = '解密后信息:哈哈哈，嘿嘿嘿123456 cipher_mode =C1C3C2';
     
      const cipher_Mode = 1;
       const  pubkey_Hex = "0465b2ab389023b3e0d3e571f8113023c13aaca0e95d5b3d0f6f035bada03c2fb3e523769673d4a6271727ebb768a9a5e7e1486e9dbe04effb5b774ca34d01bd36";
     // 获取加密过后的密文
      const result = sm2Encrypt(msg, pubkey_Hex, cipher_Mode);
 console.log(result);
      
    }
    </script>
</head>
<body onload="encrypt()">
</body>
</html>