/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.2
 * @date    2022-03-28T20:13:51.046Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(g,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((g="undefined"!=typeof globalThis?globalThis:g||self).vis=g.vis||{})}(this,(function(g){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A=function(g){return g&&g.Math==Math&&g},e=A("object"==typeof globalThis&&globalThis)||A("object"==typeof window&&window)||A("object"==typeof self&&self)||A("object"==typeof t&&t)||function(){return this}()||Function("return this")(),C=function(g){try{return!!g()}catch(g){return!0}},I=!C((function(){var g=function(){}.bind();return"function"!=typeof g||g.hasOwnProperty("prototype")})),i=I,o=Function.prototype,n=o.apply,r=o.call,s="object"==typeof Reflect&&Reflect.apply||(i?r.bind(n):function(){return r.apply(n,arguments)}),a=I,d=Function.prototype,h=d.bind,l=d.call,c=a&&h.bind(l,l),u=a?function(g){return g&&c(g)}:function(g){return g&&function(){return l.apply(g,arguments)}},p=function(g){return"function"==typeof g},f={},v=!C((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=I,m=Function.prototype.call,b=y?m.bind(m):function(){return m.apply(m,arguments)},w={},k={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,E=x&&!k.call({1:2},1);w.f=E?function(g){var t=x(this,g);return!!t&&t.enumerable}:k;var O,T,D=function(g,t){return{enumerable:!(1&g),configurable:!(2&g),writable:!(4&g),value:t}},N=u,R=N({}.toString),P=N("".slice),M=function(g){return P(R(g),8,-1)},B=u,z=C,Z=M,S=e.Object,F=B("".split),G=z((function(){return!S("z").propertyIsEnumerable(0)}))?function(g){return"String"==Z(g)?F(g,""):S(g)}:S,L=e.TypeError,j=function(g){if(null==g)throw L("Can't call method on "+g);return g},V=G,Y=j,W=function(g){return V(Y(g))},Q=p,_=function(g){return"object"==typeof g?null!==g:Q(g)},U={},H=U,K=e,X=p,J=function(g){return X(g)?g:void 0},q=function(g,t){return arguments.length<2?J(H[g])||J(K[g]):H[g]&&H[g][t]||K[g]&&K[g][t]},$=u({}.isPrototypeOf),gg=q("navigator","userAgent")||"",tg=e,Ag=gg,eg=tg.process,Cg=tg.Deno,Ig=eg&&eg.versions||Cg&&Cg.version,ig=Ig&&Ig.v8;ig&&(T=(O=ig.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!T&&Ag&&(!(O=Ag.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=Ag.match(/Chrome\/(\d+)/))&&(T=+O[1]);var og=T,ng=og,rg=C,sg=!!Object.getOwnPropertySymbols&&!rg((function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&ng&&ng<41})),ag=sg&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dg=q,hg=p,lg=$,cg=ag,ug=e.Object,pg=cg?function(g){return"symbol"==typeof g}:function(g){var t=dg("Symbol");return hg(t)&&lg(t.prototype,ug(g))},fg=e.String,vg=function(g){try{return fg(g)}catch(g){return"Object"}},yg=p,mg=vg,bg=e.TypeError,wg=function(g){if(yg(g))return g;throw bg(mg(g)+" is not a function")},kg=wg,xg=function(g,t){var A=g[t];return null==A?void 0:kg(A)},Eg=b,Og=p,Tg=_,Dg=e.TypeError,Ng={exports:{}},Rg=e,Pg=Object.defineProperty,Mg=function(g,t){try{Pg(Rg,g,{value:t,configurable:!0,writable:!0})}catch(A){Rg[g]=t}return t},Bg="__core-js_shared__",zg=e[Bg]||Mg(Bg,{}),Zg=zg;(Ng.exports=function(g,t){return Zg[g]||(Zg[g]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Sg=j,Fg=e.Object,Gg=function(g){return Fg(Sg(g))},Lg=Gg,jg=u({}.hasOwnProperty),Vg=Object.hasOwn||function(g,t){return jg(Lg(g),t)},Yg=u,Wg=0,Qg=Math.random(),_g=Yg(1..toString),Ug=function(g){return"Symbol("+(void 0===g?"":g)+")_"+_g(++Wg+Qg,36)},Hg=e,Kg=Ng.exports,Xg=Vg,Jg=Ug,qg=sg,$g=ag,gt=Kg("wks"),tt=Hg.Symbol,At=tt&&tt.for,et=$g?tt:tt&&tt.withoutSetter||Jg,Ct=function(g){if(!Xg(gt,g)||!qg&&"string"!=typeof gt[g]){var t="Symbol."+g;qg&&Xg(tt,g)?gt[g]=tt[g]:gt[g]=$g&&At?At(t):et(t)}return gt[g]},It=b,it=_,ot=pg,nt=xg,rt=function(g,t){var A,e;if("string"===t&&Og(A=g.toString)&&!Tg(e=Eg(A,g)))return e;if(Og(A=g.valueOf)&&!Tg(e=Eg(A,g)))return e;if("string"!==t&&Og(A=g.toString)&&!Tg(e=Eg(A,g)))return e;throw Dg("Can't convert object to primitive value")},st=Ct,at=e.TypeError,dt=st("toPrimitive"),ht=function(g,t){if(!it(g)||ot(g))return g;var A,e=nt(g,dt);if(e){if(void 0===t&&(t="default"),A=It(e,g,t),!it(A)||ot(A))return A;throw at("Can't convert object to primitive value")}return void 0===t&&(t="number"),rt(g,t)},lt=pg,ct=function(g){var t=ht(g,"string");return lt(t)?t:t+""},ut=_,pt=e.document,ft=ut(pt)&&ut(pt.createElement),vt=function(g){return ft?pt.createElement(g):{}},yt=vt,mt=!v&&!C((function(){return 7!=Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a})),bt=v,wt=b,kt=w,xt=D,Et=W,Ot=ct,Tt=Vg,Dt=mt,Nt=Object.getOwnPropertyDescriptor;f.f=bt?Nt:function(g,t){if(g=Et(g),t=Ot(t),Dt)try{return Nt(g,t)}catch(g){}if(Tt(g,t))return xt(!wt(kt.f,g,t),g[t])};var Rt=C,Pt=p,Mt=/#|\.prototype\./,Bt=function(g,t){var A=Zt[zt(g)];return A==Ft||A!=St&&(Pt(t)?Rt(t):!!t)},zt=Bt.normalize=function(g){return String(g).replace(Mt,".").toLowerCase()},Zt=Bt.data={},St=Bt.NATIVE="N",Ft=Bt.POLYFILL="P",Gt=Bt,Lt=wg,jt=I,Vt=u(u.bind),Yt=function(g,t){return Lt(g),void 0===t?g:jt?Vt(g,t):function(){return g.apply(t,arguments)}},Wt={},Qt=v&&C((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),_t=e,Ut=_,Ht=_t.String,Kt=_t.TypeError,Xt=function(g){if(Ut(g))return g;throw Kt(Ht(g)+" is not an object")},Jt=v,qt=mt,$t=Qt,gA=Xt,tA=ct,AA=e.TypeError,eA=Object.defineProperty,CA=Object.getOwnPropertyDescriptor,IA="enumerable",iA="configurable",oA="writable";Wt.f=Jt?$t?function(g,t,A){if(gA(g),t=tA(t),gA(A),"function"==typeof g&&"prototype"===t&&"value"in A&&oA in A&&!A.writable){var e=CA(g,t);e&&e.writable&&(g[t]=A.value,A={configurable:iA in A?A.configurable:e.configurable,enumerable:IA in A?A.enumerable:e.enumerable,writable:!1})}return eA(g,t,A)}:eA:function(g,t,A){if(gA(g),t=tA(t),gA(A),qt)try{return eA(g,t,A)}catch(g){}if("get"in A||"set"in A)throw AA("Accessors not supported");return"value"in A&&(g[t]=A.value),g};var nA=Wt,rA=D,sA=v?function(g,t,A){return nA.f(g,t,rA(1,A))}:function(g,t,A){return g[t]=A,g},aA=e,dA=s,hA=u,lA=p,cA=f.f,uA=Gt,pA=U,fA=Yt,vA=sA,yA=Vg,mA=function(g){var t=function(A,e,C){if(this instanceof t){switch(arguments.length){case 0:return new g;case 1:return new g(A);case 2:return new g(A,e)}return new g(A,e,C)}return dA(g,this,arguments)};return t.prototype=g.prototype,t},bA=function(g,t){var A,e,C,I,i,o,n,r,s=g.target,a=g.global,d=g.stat,h=g.proto,l=a?aA:d?aA[s]:(aA[s]||{}).prototype,c=a?pA:pA[s]||vA(pA,s,{})[s],u=c.prototype;for(C in t)A=!uA(a?C:s+(d?".":"#")+C,g.forced)&&l&&yA(l,C),i=c[C],A&&(o=g.noTargetGet?(r=cA(l,C))&&r.value:l[C]),I=A&&o?o:t[C],A&&typeof i==typeof I||(n=g.bind&&A?fA(I,aA):g.wrap&&A?mA(I):h&&lA(I)?hA(I):I,(g.sham||I&&I.sham||i&&i.sham)&&vA(n,"sham",!0),vA(c,C,n),h&&(yA(pA,e=s+"Prototype")||vA(pA,e,{}),vA(pA[e],C,I),g.real&&u&&!u[C]&&vA(u,C,I)))},wA=Math.ceil,kA=Math.floor,xA=function(g){var t=+g;return t!=t||0===t?0:(t>0?kA:wA)(t)},EA=xA,OA=Math.max,TA=Math.min,DA=function(g,t){var A=EA(g);return A<0?OA(A+t,0):TA(A,t)},NA=xA,RA=Math.min,PA=function(g){return g>0?RA(NA(g),9007199254740991):0},MA=function(g){return PA(g.length)},BA=W,zA=DA,ZA=MA,SA=function(g){return function(t,A,e){var C,I=BA(t),i=ZA(I),o=zA(e,i);if(g&&A!=A){for(;i>o;)if((C=I[o++])!=C)return!0}else for(;i>o;o++)if((g||o in I)&&I[o]===A)return g||o||0;return!g&&-1}},FA={includes:SA(!0),indexOf:SA(!1)},GA={},LA=Vg,jA=W,VA=FA.indexOf,YA=GA,WA=u([].push),QA=function(g,t){var A,e=jA(g),C=0,I=[];for(A in e)!LA(YA,A)&&LA(e,A)&&WA(I,A);for(;t.length>C;)LA(e,A=t[C++])&&(~VA(I,A)||WA(I,A));return I},_A=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],UA=QA,HA=_A,KA=Object.keys||function(g){return UA(g,HA)},XA={};XA.f=Object.getOwnPropertySymbols;var JA=v,qA=u,$A=b,ge=C,te=KA,Ae=XA,ee=w,Ce=Gg,Ie=G,ie=Object.assign,oe=Object.defineProperty,ne=qA([].concat),re=!ie||ge((function(){if(JA&&1!==ie({b:1},ie(oe({},"a",{enumerable:!0,get:function(){oe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var g={},t={},A=Symbol(),e="abcdefghijklmnopqrst";return g[A]=7,e.split("").forEach((function(g){t[g]=g})),7!=ie({},g)[A]||te(ie({},t)).join("")!=e}))?function(g,t){for(var A=Ce(g),e=arguments.length,C=1,I=Ae.f,i=ee.f;e>C;)for(var o,n=Ie(arguments[C++]),r=I?ne(te(n),I(n)):te(n),s=r.length,a=0;s>a;)o=r[a++],JA&&!$A(i,n,o)||(A[o]=n[o]);return A}:ie,se=re;bA({target:"Object",stat:!0,forced:Object.assign!==se},{assign:se});var ae=U.Object.assign,de=u([].slice),he=u,le=wg,ce=_,ue=Vg,pe=de,fe=I,ve=e.Function,ye=he([].concat),me=he([].join),be={},we=function(g,t,A){if(!ue(be,t)){for(var e=[],C=0;C<t;C++)e[C]="a["+C+"]";be[t]=ve("C,a","return new C("+me(e,",")+")")}return be[t](g,A)},ke=fe?ve.bind:function(g){var t=le(this),A=t.prototype,e=pe(arguments,1),C=function(){var A=ye(e,pe(arguments));return this instanceof C?we(t,A.length,A):t.apply(g,A)};return ce(A)&&(C.prototype=A),C},xe=ke;bA({target:"Function",proto:!0,forced:Function.bind!==xe},{bind:xe});var Ee=U,Oe=function(g){return Ee[g+"Prototype"]},Te=Oe("Function").bind,De=$,Ne=Te,Re=Function.prototype,Pe=function(g){var t=g.bind;return g===Re||De(Re,g)&&t===Re.bind?Ne:t},Me=Pe;function Be(g,t,A,e){g.beginPath(),g.arc(t,A,e,0,2*Math.PI,!1),g.closePath()}function ze(g,t,A,e,C,I){var i=Math.PI/180;e-2*I<0&&(I=e/2),C-2*I<0&&(I=C/2),g.beginPath(),g.moveTo(t+I,A),g.lineTo(t+e-I,A),g.arc(t+e-I,A+I,I,270*i,360*i,!1),g.lineTo(t+e,A+C-I),g.arc(t+e-I,A+C-I,I,0,90*i,!1),g.lineTo(t+I,A+C),g.arc(t+I,A+C-I,I,90*i,180*i,!1),g.lineTo(t,A+I),g.arc(t+I,A+I,I,180*i,270*i,!1),g.closePath()}function Ze(g,t,A,e,C){var I=.5522848,i=e/2*I,o=C/2*I,n=t+e,r=A+C,s=t+e/2,a=A+C/2;g.beginPath(),g.moveTo(t,a),g.bezierCurveTo(t,a-o,s-i,A,s,A),g.bezierCurveTo(s+i,A,n,a-o,n,a),g.bezierCurveTo(n,a+o,s+i,r,s,r),g.bezierCurveTo(s-i,r,t,a+o,t,a),g.closePath()}function Se(g,t,A,e,C){var I=C*(1/3),i=.5522848,o=e/2*i,n=I/2*i,r=t+e,s=A+I,a=t+e/2,d=A+I/2,h=A+(C-I/2),l=A+C;g.beginPath(),g.moveTo(r,d),g.bezierCurveTo(r,d+n,a+o,s,a,s),g.bezierCurveTo(a-o,s,t,d+n,t,d),g.bezierCurveTo(t,d-n,a-o,A,a,A),g.bezierCurveTo(a+o,A,r,d-n,r,d),g.lineTo(r,h),g.bezierCurveTo(r,h+n,a+o,l,a,l),g.bezierCurveTo(a-o,l,t,h+n,t,h),g.lineTo(t,d)}function Fe(g,t,A,e,C,I){g.beginPath(),g.moveTo(t,A);for(var i=I.length,o=e-t,n=C-A,r=n/o,s=Math.sqrt(o*o+n*n),a=0,d=!0,h=0,l=+I[0];s>=.1;)(l=+I[a++%i])>s&&(l=s),h=Math.sqrt(l*l/(1+r*r)),t+=h=o<0?-h:h,A+=r*h,!0===d?g.lineTo(t,A):g.moveTo(t,A),s-=l,d=!d}var Ge={circle:Be,dashedLine:Fe,database:Se,diamond:function(g,t,A,e){g.beginPath(),g.lineTo(t,A+e),g.lineTo(t+e,A),g.lineTo(t,A-e),g.lineTo(t-e,A),g.closePath()},ellipse:Ze,ellipse_vis:Ze,hexagon:function(g,t,A,e){g.beginPath();var C=2*Math.PI/6;g.moveTo(t+e,A);for(var I=1;I<6;I++)g.lineTo(t+e*Math.cos(C*I),A+e*Math.sin(C*I));g.closePath()},roundRect:ze,square:function(g,t,A,e){g.beginPath(),g.rect(t-e,A-e,2*e,2*e),g.closePath()},star:function(g,t,A,e){g.beginPath(),A+=.1*(e*=.82);for(var C=0;C<10;C++){var I=C%2==0?1.3*e:.5*e;g.lineTo(t+I*Math.sin(2*C*Math.PI/10),A-I*Math.cos(2*C*Math.PI/10))}g.closePath()},triangle:function(g,t,A,e){g.beginPath(),A+=.275*(e*=1.15);var C=2*e,I=C/2,i=Math.sqrt(3)/6*C,o=Math.sqrt(C*C-I*I);g.moveTo(t,A-(o-i)),g.lineTo(t+I,A+i),g.lineTo(t-I,A+i),g.lineTo(t,A-(o-i)),g.closePath()},triangleDown:function(g,t,A,e){g.beginPath(),A-=.275*(e*=1.15);var C=2*e,I=C/2,i=Math.sqrt(3)/6*C,o=Math.sqrt(C*C-I*I);g.moveTo(t,A+(o-i)),g.lineTo(t+I,A-i),g.lineTo(t-I,A-i),g.lineTo(t,A+(o-i)),g.closePath()}};function Le(g,t){void 0===t&&(t={});var A=t.insertAt;if(g&&"undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css","top"===A&&e.firstChild?e.insertBefore(C,e.firstChild):e.appendChild(C),C.styleSheet?C.styleSheet.cssText=g:C.appendChild(document.createTextNode(g))}}Le(".vis-overlay{bottom:0;left:0;position:absolute;right:0;top:0;z-index:10}.vis-active{box-shadow:0 0 10px #86d5f8}");Le(".vis [class*=span]{min-height:0;width:auto}");Le('div.vis-color-picker{background-color:#fff;border-radius:15px;box-shadow:0 0 10px 0 rgba(0,0,0,.5);display:none;height:444px;left:30px;margin-left:30px;margin-top:-140px;padding:10px;position:absolute;top:0;width:310px;z-index:1}div.vis-color-picker div.vis-arrow{left:5px;position:absolute;top:147px}div.vis-color-picker div.vis-arrow:after,div.vis-color-picker div.vis-arrow:before{border:solid transparent;content:" ";height:0;pointer-events:none;position:absolute;right:100%;top:50%;width:0}div.vis-color-picker div.vis-arrow:after{border-color:hsla(0,0%,100%,0) #fff hsla(0,0%,100%,0) hsla(0,0%,100%,0);border-width:30px;margin-top:-30px}div.vis-color-picker div.vis-color{cursor:pointer;height:289px;position:absolute;width:289px}div.vis-color-picker div.vis-brightness{position:absolute;top:313px}div.vis-color-picker div.vis-opacity{position:absolute;top:350px}div.vis-color-picker div.vis-selector{background:#4c4c4c;background:-moz-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#4c4c4c),color-stop(12%,#595959),color-stop(25%,#666),color-stop(39%,#474747),color-stop(50%,#2c2c2c),color-stop(51%,#000),color-stop(60%,#111),color-stop(76%,#2b2b2b),color-stop(91%,#1c1c1c),color-stop(100%,#131313));background:-webkit-linear-gradient(top,#4c4c4c,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313);background:-o-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-ms-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:linear-gradient(180deg,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313);border:1px solid #fff;border-radius:15px;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#4c4c4c",endColorstr="#131313",GradientType=0);height:15px;left:137px;position:absolute;top:137px;width:15px}div.vis-color-picker div.vis-new-color{left:159px;padding-right:2px;text-align:right}div.vis-color-picker div.vis-initial-color,div.vis-color-picker div.vis-new-color{border:1px solid rgba(0,0,0,.1);border-radius:5px;color:rgba(0,0,0,.4);font-size:10px;height:20px;line-height:20px;position:absolute;top:380px;vertical-align:middle;width:140px}div.vis-color-picker div.vis-initial-color{left:10px;padding-left:2px;text-align:left}div.vis-color-picker div.vis-label{left:10px;position:absolute;width:300px}div.vis-color-picker div.vis-label.vis-brightness{top:300px}div.vis-color-picker div.vis-label.vis-opacity{top:338px}div.vis-color-picker div.vis-button{background-color:#f7f7f7;border:2px solid #d9d9d9;border-radius:10px;cursor:pointer;height:25px;line-height:25px;position:absolute;text-align:center;top:410px;vertical-align:middle;width:68px}div.vis-color-picker div.vis-button.vis-cancel{left:5px}div.vis-color-picker div.vis-button.vis-load{left:82px}div.vis-color-picker div.vis-button.vis-apply{left:159px}div.vis-color-picker div.vis-button.vis-save{left:236px}div.vis-color-picker input.vis-range{height:20px;width:290px}');Le('div.vis-configuration{display:block;float:left;font-size:12px;position:relative}div.vis-configuration-wrapper{display:block;width:700px}div.vis-configuration-wrapper:after{clear:both;content:"";display:block}div.vis-configuration.vis-config-option-container{background-color:#fff;border:2px solid #f7f8fa;border-radius:4px;display:block;left:10px;margin-top:20px;padding-left:5px;width:495px}div.vis-configuration.vis-config-button{background-color:#f7f8fa;border:2px solid #ceced0;border-radius:4px;cursor:pointer;display:block;height:25px;left:10px;line-height:25px;margin-bottom:30px;margin-top:20px;padding-left:5px;vertical-align:middle;width:495px}div.vis-configuration.vis-config-button.hover{background-color:#4588e6;border:2px solid #214373;color:#fff}div.vis-configuration.vis-config-item{display:block;float:left;height:25px;line-height:25px;vertical-align:middle;width:495px}div.vis-configuration.vis-config-item.vis-config-s2{background-color:#f7f8fa;border-radius:3px;left:10px;padding-left:5px}div.vis-configuration.vis-config-item.vis-config-s3{background-color:#e4e9f0;border-radius:3px;left:20px;padding-left:5px}div.vis-configuration.vis-config-item.vis-config-s4{background-color:#cfd8e6;border-radius:3px;left:30px;padding-left:5px}div.vis-configuration.vis-config-header{font-size:18px;font-weight:700}div.vis-configuration.vis-config-label{height:25px;line-height:25px;width:120px}div.vis-configuration.vis-config-label.vis-config-s3{width:110px}div.vis-configuration.vis-config-label.vis-config-s4{width:100px}div.vis-configuration.vis-config-colorBlock{border:1px solid #444;border-radius:2px;cursor:pointer;height:19px;margin:0;padding:0;top:1px;width:30px}input.vis-configuration.vis-config-checkbox{left:-5px}input.vis-configuration.vis-config-rangeinput{margin:0;padding:1px;pointer-events:none;position:relative;top:-5px;width:60px}input.vis-configuration.vis-config-range{-webkit-appearance:none;background-color:transparent;border:0 solid #fff;height:20px;width:300px}input.vis-configuration.vis-config-range::-webkit-slider-runnable-track{background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(180deg,#dedede 0,#c8c8c8 99%);border:1px solid #999;border-radius:3px;box-shadow:0 0 3px 0 #aaa;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#dedede",endColorstr="#c8c8c8",GradientType=0);height:5px;width:300px}input.vis-configuration.vis-config-range::-webkit-slider-thumb{-webkit-appearance:none;background:#3876c2;background:-moz-linear-gradient(top,#3876c2 0,#385380 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3876c2),color-stop(100%,#385380));background:-webkit-linear-gradient(top,#3876c2,#385380);background:-o-linear-gradient(top,#3876c2 0,#385380 100%);background:-ms-linear-gradient(top,#3876c2 0,#385380 100%);background:linear-gradient(180deg,#3876c2 0,#385380);border:1px solid #14334b;border-radius:50%;box-shadow:0 0 1px 0 #111927;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#3876c2",endColorstr="#385380",GradientType=0);height:17px;margin-top:-7px;width:17px}input.vis-configuration.vis-config-range:focus{outline:none}input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track{background:#9d9d9d;background:-moz-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#9d9d9d),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#9d9d9d,#c8c8c8 99%);background:-o-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:linear-gradient(180deg,#9d9d9d 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#9d9d9d",endColorstr="#c8c8c8",GradientType=0)}input.vis-configuration.vis-config-range::-moz-range-track{background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(180deg,#dedede 0,#c8c8c8 99%);border:1px solid #999;border-radius:3px;box-shadow:0 0 3px 0 #aaa;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#dedede",endColorstr="#c8c8c8",GradientType=0);height:10px;width:300px}input.vis-configuration.vis-config-range::-moz-range-thumb{background:#385380;border:none;border-radius:50%;height:16px;width:16px}input.vis-configuration.vis-config-range:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}input.vis-configuration.vis-config-range::-ms-track{background:transparent;border-color:transparent;border-width:6px 0;color:transparent;height:5px;width:300px}input.vis-configuration.vis-config-range::-ms-fill-lower{background:#777;border-radius:10px}input.vis-configuration.vis-config-range::-ms-fill-upper{background:#ddd;border-radius:10px}input.vis-configuration.vis-config-range::-ms-thumb{background:#385380;border:none;border-radius:50%;height:16px;width:16px}input.vis-configuration.vis-config-range:focus::-ms-fill-lower{background:#888}input.vis-configuration.vis-config-range:focus::-ms-fill-upper{background:#ccc}.vis-configuration-popup{background:rgba(57,76,89,.85);border:2px solid #f2faff;border-radius:4px;color:#fff;font-size:14px;height:30px;line-height:30px;position:absolute;text-align:center;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;width:150px}.vis-configuration-popup:after,.vis-configuration-popup:before{border:solid transparent;content:" ";height:0;left:100%;pointer-events:none;position:absolute;top:50%;width:0}.vis-configuration-popup:after{border-color:rgba(136,183,213,0) rgba(136,183,213,0) rgba(136,183,213,0) rgba(57,76,89,.85);border-width:8px;margin-top:-8px}.vis-configuration-popup:before{border-color:rgba(194,225,245,0) rgba(194,225,245,0) rgba(194,225,245,0) #f2faff;border-width:12px;margin-top:-12px}');Le("div.vis-tooltip{background-color:#f5f4ed;border:1px solid #808074;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;box-shadow:3px 3px 10px rgba(0,0,0,.2);color:#000;font-family:verdana;font-size:14px;padding:5px;pointer-events:none;position:absolute;visibility:hidden;white-space:nowrap;z-index:5}");var je={exports:{}};!function(g){function t(g){if(g)return function(g){for(var A in t.prototype)g[A]=t.prototype[A];return g}(g)}g.exports=t,t.prototype.on=t.prototype.addEventListener=function(g,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+g]=this._callbacks["$"+g]||[]).push(t),this},t.prototype.once=function(g,t){function A(){this.off(g,A),t.apply(this,arguments)}return A.fn=t,this.on(g,A),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(g,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var A,e=this._callbacks["$"+g];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+g],this;for(var C=0;C<e.length;C++)if((A=e[C])===t||A.fn===t){e.splice(C,1);break}return 0===e.length&&delete this._callbacks["$"+g],this},t.prototype.emit=function(g){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),A=this._callbacks["$"+g],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(A){e=0;for(var C=(A=A.slice(0)).length;e<C;++e)A[e].apply(this,t)}return this},t.prototype.listeners=function(g){return this._callbacks=this._callbacks||{},this._callbacks["$"+g]||[]},t.prototype.hasListeners=function(g){return!!this.listeners(g).length}}(je);var Ve=je.exports,Ye={};Ye[Ct("toStringTag")]="z";var We="[object z]"===String(Ye),Qe=e,_e=We,Ue=p,He=M,Ke=Ct("toStringTag"),Xe=Qe.Object,Je="Arguments"==He(function(){return arguments}()),qe=_e?He:function(g){var t,A,e;return void 0===g?"Undefined":null===g?"Null":"string"==typeof(A=function(g,t){try{return g[t]}catch(g){}}(t=Xe(g),Ke))?A:Je?He(t):"Object"==(e=He(t))&&Ue(t.callee)?"Arguments":e},$e=qe,gC=e.String,tC=function(g){if("Symbol"===$e(g))throw TypeError("Cannot convert a Symbol value to a string");return gC(g)},AC=u,eC=xA,CC=tC,IC=j,iC=AC("".charAt),oC=AC("".charCodeAt),nC=AC("".slice),rC=function(g){return function(t,A){var e,C,I=CC(IC(t)),i=eC(A),o=I.length;return i<0||i>=o?g?"":void 0:(e=oC(I,i))<55296||e>56319||i+1===o||(C=oC(I,i+1))<56320||C>57343?g?iC(I,i):e:g?nC(I,i,i+2):C-56320+(e-55296<<10)+65536}},sC={codeAt:rC(!1),charAt:rC(!0)},aC=p,dC=zg,hC=u(Function.toString);aC(dC.inspectSource)||(dC.inspectSource=function(g){return hC(g)});var lC,cC,uC,pC=dC.inspectSource,fC=p,vC=pC,yC=e.WeakMap,mC=fC(yC)&&/native code/.test(vC(yC)),bC=Ng.exports,wC=Ug,kC=bC("keys"),xC=function(g){return kC[g]||(kC[g]=wC(g))},EC=mC,OC=e,TC=u,DC=_,NC=sA,RC=Vg,PC=zg,MC=xC,BC=GA,zC="Object already initialized",ZC=OC.TypeError,SC=OC.WeakMap;if(EC||PC.state){var FC=PC.state||(PC.state=new SC),GC=TC(FC.get),LC=TC(FC.has),jC=TC(FC.set);lC=function(g,t){if(LC(FC,g))throw new ZC(zC);return t.facade=g,jC(FC,g,t),t},cC=function(g){return GC(FC,g)||{}},uC=function(g){return LC(FC,g)}}else{var VC=MC("state");BC[VC]=!0,lC=function(g,t){if(RC(g,VC))throw new ZC(zC);return t.facade=g,NC(g,VC,t),t},cC=function(g){return RC(g,VC)?g[VC]:{}},uC=function(g){return RC(g,VC)}}var YC={set:lC,get:cC,has:uC,enforce:function(g){return uC(g)?cC(g):lC(g,{})},getterFor:function(g){return function(t){var A;if(!DC(t)||(A=cC(t)).type!==g)throw ZC("Incompatible receiver, "+g+" required");return A}}},WC=v,QC=Vg,_C=Function.prototype,UC=WC&&Object.getOwnPropertyDescriptor,HC=QC(_C,"name"),KC={EXISTS:HC,PROPER:HC&&"something"===function(){}.name,CONFIGURABLE:HC&&(!WC||WC&&UC(_C,"name").configurable)},XC={},JC=v,qC=Qt,$C=Wt,gI=Xt,tI=W,AI=KA;XC.f=JC&&!qC?Object.defineProperties:function(g,t){gI(g);for(var A,e=tI(t),C=AI(t),I=C.length,i=0;I>i;)$C.f(g,A=C[i++],e[A]);return g};var eI,CI=q("document","documentElement"),II=Xt,iI=XC,oI=_A,nI=GA,rI=CI,sI=vt,aI=xC("IE_PROTO"),dI=function(){},hI=function(g){return"<script>"+g+"</"+"script>"},lI=function(g){g.write(hI("")),g.close();var t=g.parentWindow.Object;return g=null,t},cI=function(){try{eI=new ActiveXObject("htmlfile")}catch(g){}var g,t;cI="undefined"!=typeof document?document.domain&&eI?lI(eI):((t=sI("iframe")).style.display="none",rI.appendChild(t),t.src=String("javascript:"),(g=t.contentWindow.document).open(),g.write(hI("document.F=Object")),g.close(),g.F):lI(eI);for(var A=oI.length;A--;)delete cI.prototype[oI[A]];return cI()};nI[aI]=!0;var uI,pI,fI,vI=Object.create||function(g,t){var A;return null!==g?(dI.prototype=II(g),A=new dI,dI.prototype=null,A[aI]=g):A=cI(),void 0===t?A:iI.f(A,t)},yI=!C((function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})),mI=e,bI=Vg,wI=p,kI=Gg,xI=yI,EI=xC("IE_PROTO"),OI=mI.Object,TI=OI.prototype,DI=xI?OI.getPrototypeOf:function(g){var t=kI(g);if(bI(t,EI))return t[EI];var A=t.constructor;return wI(A)&&t instanceof A?A.prototype:t instanceof OI?TI:null},NI=sA,RI=function(g,t,A,e){e&&e.enumerable?g[t]=A:NI(g,t,A)},PI=C,MI=p,BI=vI,zI=DI,ZI=RI,SI=Ct("iterator"),FI=!1;[].keys&&("next"in(fI=[].keys())?(pI=zI(zI(fI)))!==Object.prototype&&(uI=pI):FI=!0);var GI=null==uI||PI((function(){var g={};return uI[SI].call(g)!==g}));MI((uI=GI?{}:BI(uI))[SI])||ZI(uI,SI,(function(){return this}));var LI={IteratorPrototype:uI,BUGGY_SAFARI_ITERATORS:FI},jI=qe,VI=We?{}.toString:function(){return"[object "+jI(this)+"]"},YI=We,WI=Wt.f,QI=sA,_I=Vg,UI=VI,HI=Ct("toStringTag"),KI=function(g,t,A,e){if(g){var C=A?g:g.prototype;_I(C,HI)||WI(C,HI,{configurable:!0,value:t}),e&&!YI&&QI(C,"toString",UI)}},XI={},JI=LI.IteratorPrototype,qI=vI,$I=D,gi=KI,ti=XI,Ai=function(){return this},ei=e,Ci=p,Ii=ei.String,ii=ei.TypeError,oi=u,ni=Xt,ri=function(g){if("object"==typeof g||Ci(g))return g;throw ii("Can't set "+Ii(g)+" as a prototype")},si=Object.setPrototypeOf||("__proto__"in{}?function(){var g,t=!1,A={};try{(g=oi(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(A,[]),t=A instanceof Array}catch(g){}return function(A,e){return ni(A),ri(e),t?g(A,e):A.__proto__=e,A}}():void 0),ai=bA,di=b,hi=function(g,t,A,e){var C=t+" Iterator";return g.prototype=qI(JI,{next:$I(+!e,A)}),gi(g,C,!1,!0),ti[C]=Ai,g},li=DI,ci=KI,ui=RI,pi=XI,fi=KC.PROPER,vi=LI.BUGGY_SAFARI_ITERATORS,yi=Ct("iterator"),mi="keys",bi="values",wi="entries",ki=function(){return this},xi=function(g,t,A,e,C,I,i){hi(A,t,e);var o,n,r,s=function(g){if(g===C&&c)return c;if(!vi&&g in h)return h[g];switch(g){case mi:case bi:case wi:return function(){return new A(this,g)}}return function(){return new A(this)}},a=t+" Iterator",d=!1,h=g.prototype,l=h[yi]||h["@@iterator"]||C&&h[C],c=!vi&&l||s(C),u="Array"==t&&h.entries||l;if(u&&(o=li(u.call(new g)))!==Object.prototype&&o.next&&(ci(o,a,!0,!0),pi[a]=ki),fi&&C==bi&&l&&l.name!==bi&&(d=!0,c=function(){return di(l,this)}),C)if(n={values:s(bi),keys:I?c:s(mi),entries:s(wi)},i)for(r in n)(vi||d||!(r in h))&&ui(h,r,n[r]);else ai({target:t,proto:!0,forced:vi||d},n);return i&&h[yi]!==c&&ui(h,yi,c,{name:C}),pi[t]=c,n},Ei=sC.charAt,Oi=tC,Ti=YC,Di=xi,Ni="String Iterator",Ri=Ti.set,Pi=Ti.getterFor(Ni);Di(String,"String",(function(g){Ri(this,{type:Ni,string:Oi(g),index:0})}),(function(){var g,t=Pi(this),A=t.string,e=t.index;return e>=A.length?{value:void 0,done:!0}:(g=Ei(A,e),t.index+=g.length,{value:g,done:!1})}));var Mi=b,Bi=Xt,zi=xg,Zi=function(g,t,A){var e,C;Bi(g);try{if(!(e=zi(g,"return"))){if("throw"===t)throw A;return A}e=Mi(e,g)}catch(g){C=!0,e=g}if("throw"===t)throw A;if(C)throw e;return Bi(e),A},Si=Xt,Fi=Zi,Gi=XI,Li=Ct("iterator"),ji=Array.prototype,Vi=function(g){return void 0!==g&&(Gi.Array===g||ji[Li]===g)},Yi=u,Wi=C,Qi=p,_i=qe,Ui=pC,Hi=function(){},Ki=[],Xi=q("Reflect","construct"),Ji=/^\s*(?:class|function)\b/,qi=Yi(Ji.exec),$i=!Ji.exec(Hi),go=function(g){if(!Qi(g))return!1;try{return Xi(Hi,Ki,g),!0}catch(g){return!1}},to=function(g){if(!Qi(g))return!1;switch(_i(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $i||!!qi(Ji,Ui(g))}catch(g){return!0}};to.sham=!0;var Ao=!Xi||Wi((function(){var g;return go(go.call)||!go(Object)||!go((function(){g=!0}))||g}))?to:go,eo=ct,Co=Wt,Io=D,io=function(g,t,A){var e=eo(t);e in g?Co.f(g,e,Io(0,A)):g[e]=A},oo=qe,no=xg,ro=XI,so=Ct("iterator"),ao=function(g){if(null!=g)return no(g,so)||no(g,"@@iterator")||ro[oo(g)]},ho=b,lo=wg,co=Xt,uo=vg,po=ao,fo=e.TypeError,vo=function(g,t){var A=arguments.length<2?po(g):t;if(lo(A))return co(ho(A,g));throw fo(uo(g)+" is not iterable")},yo=Yt,mo=b,bo=Gg,wo=function(g,t,A,e){try{return e?t(Si(A)[0],A[1]):t(A)}catch(t){Fi(g,"throw",t)}},ko=Vi,xo=Ao,Eo=MA,Oo=io,To=vo,Do=ao,No=e.Array,Ro=Ct("iterator"),Po=!1;try{var Mo=0,Bo={next:function(){return{done:!!Mo++}},return:function(){Po=!0}};Bo[Ro]=function(){return this},Array.from(Bo,(function(){throw 2}))}catch(g){}var zo=function(g){var t=bo(g),A=xo(this),e=arguments.length,C=e>1?arguments[1]:void 0,I=void 0!==C;I&&(C=yo(C,e>2?arguments[2]:void 0));var i,o,n,r,s,a,d=Do(t),h=0;if(!d||this==No&&ko(d))for(i=Eo(t),o=A?new this(i):No(i);i>h;h++)a=I?C(t[h],h):t[h],Oo(o,h,a);else for(s=(r=To(t,d)).next,o=A?new this:[];!(n=mo(s,r)).done;h++)a=I?wo(r,C,[n.value,h],!0):n.value,Oo(o,h,a);return o.length=h,o},Zo=function(g,t){if(!t&&!Po)return!1;var A=!1;try{var e={};e[Ro]=function(){return{next:function(){return{done:A=!0}}}},g(e)}catch(g){}return A};bA({target:"Array",stat:!0,forced:!Zo((function(g){Array.from(g)}))},{from:zo});var So=U.Array.from,Fo=So,Go=W,Lo=XI,jo=YC;Wt.f;var Vo=xi,Yo="Array Iterator",Wo=jo.set,Qo=jo.getterFor(Yo);Vo(Array,"Array",(function(g,t){Wo(this,{type:Yo,target:Go(g),index:0,kind:t})}),(function(){var g=Qo(this),t=g.target,A=g.kind,e=g.index++;return!t||e>=t.length?(g.target=void 0,{value:void 0,done:!0}):"keys"==A?{value:e,done:!1}:"values"==A?{value:t[e],done:!1}:{value:[e,t[e]],done:!1}}),"values"),Lo.Arguments=Lo.Array;var _o=ao,Uo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ho=e,Ko=qe,Xo=sA,Jo=XI,qo=Ct("toStringTag");for(var $o in Uo){var gn=Ho[$o],tn=gn&&gn.prototype;tn&&Ko(tn)!==qo&&Xo(tn,qo,$o),Jo[$o]=Jo.Array}var An=_o,en=M,Cn=Array.isArray||function(g){return"Array"==en(g)},In={},on=QA,nn=_A.concat("length","prototype");In.f=Object.getOwnPropertyNames||function(g){return on(g,nn)};var rn={},sn=DA,an=MA,dn=io,hn=e.Array,ln=Math.max,cn=function(g,t,A){for(var e=an(g),C=sn(t,e),I=sn(void 0===A?e:A,e),i=hn(ln(I-C,0)),o=0;C<I;C++,o++)dn(i,o,g[C]);return i.length=o,i},un=M,pn=W,fn=In.f,vn=cn,yn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];rn.f=function(g){return yn&&"Window"==un(g)?function(g){try{return fn(g)}catch(g){return vn(yn)}}(g):fn(pn(g))};var mn={},bn=Ct;mn.f=bn;var wn=U,kn=Vg,xn=mn,En=Wt.f,On=function(g){var t=wn.Symbol||(wn.Symbol={});kn(t,g)||En(t,g,{value:xn.f(g)})},Tn=e,Dn=Cn,Nn=Ao,Rn=_,Pn=Ct("species"),Mn=Tn.Array,Bn=function(g){var t;return Dn(g)&&(t=g.constructor,(Nn(t)&&(t===Mn||Dn(t.prototype))||Rn(t)&&null===(t=t[Pn]))&&(t=void 0)),void 0===t?Mn:t},zn=function(g,t){return new(Bn(g))(0===t?0:t)},Zn=Yt,Sn=G,Fn=Gg,Gn=MA,Ln=zn,jn=u([].push),Vn=function(g){var t=1==g,A=2==g,e=3==g,C=4==g,I=6==g,i=7==g,o=5==g||I;return function(n,r,s,a){for(var d,h,l=Fn(n),c=Sn(l),u=Zn(r,s),p=Gn(c),f=0,v=a||Ln,y=t?v(n,p):A||i?v(n,0):void 0;p>f;f++)if((o||f in c)&&(h=u(d=c[f],f,l),g))if(t)y[f]=h;else if(h)switch(g){case 3:return!0;case 5:return d;case 6:return f;case 2:jn(y,d)}else switch(g){case 4:return!1;case 7:jn(y,d)}return I?-1:e||C?C:y}},Yn={forEach:Vn(0),map:Vn(1),filter:Vn(2),some:Vn(3),every:Vn(4),find:Vn(5),findIndex:Vn(6),filterReject:Vn(7)},Wn=bA,Qn=e,_n=q,Un=s,Hn=b,Kn=u,Xn=v,Jn=sg,qn=C,$n=Vg,gr=Cn,tr=p,Ar=_,er=$,Cr=pg,Ir=Xt,ir=Gg,or=W,nr=ct,rr=tC,sr=D,ar=vI,dr=KA,hr=In,lr=rn,cr=XA,ur=f,pr=Wt,fr=XC,vr=w,yr=de,mr=RI,br=Ng.exports,wr=GA,kr=Ug,xr=Ct,Er=mn,Or=On,Tr=KI,Dr=YC,Nr=Yn.forEach,Rr=xC("hidden"),Pr="Symbol",Mr=xr("toPrimitive"),Br=Dr.set,zr=Dr.getterFor(Pr),Zr=Object.prototype,Sr=Qn.Symbol,Fr=Sr&&Sr.prototype,Gr=Qn.TypeError,Lr=Qn.QObject,jr=_n("JSON","stringify"),Vr=ur.f,Yr=pr.f,Wr=lr.f,Qr=vr.f,_r=Kn([].push),Ur=br("symbols"),Hr=br("op-symbols"),Kr=br("string-to-symbol-registry"),Xr=br("symbol-to-string-registry"),Jr=br("wks"),qr=!Lr||!Lr.prototype||!Lr.prototype.findChild,$r=Xn&&qn((function(){return 7!=ar(Yr({},"a",{get:function(){return Yr(this,"a",{value:7}).a}})).a}))?function(g,t,A){var e=Vr(Zr,t);e&&delete Zr[t],Yr(g,t,A),e&&g!==Zr&&Yr(Zr,t,e)}:Yr,gs=function(g,t){var A=Ur[g]=ar(Fr);return Br(A,{type:Pr,tag:g,description:t}),Xn||(A.description=t),A},ts=function(g,t,A){g===Zr&&ts(Hr,t,A),Ir(g);var e=nr(t);return Ir(A),$n(Ur,e)?(A.enumerable?($n(g,Rr)&&g[Rr][e]&&(g[Rr][e]=!1),A=ar(A,{enumerable:sr(0,!1)})):($n(g,Rr)||Yr(g,Rr,sr(1,{})),g[Rr][e]=!0),$r(g,e,A)):Yr(g,e,A)},As=function(g,t){Ir(g);var A=or(t),e=dr(A).concat(is(A));return Nr(e,(function(t){Xn&&!Hn(es,A,t)||ts(g,t,A[t])})),g},es=function(g){var t=nr(g),A=Hn(Qr,this,t);return!(this===Zr&&$n(Ur,t)&&!$n(Hr,t))&&(!(A||!$n(this,t)||!$n(Ur,t)||$n(this,Rr)&&this[Rr][t])||A)},Cs=function(g,t){var A=or(g),e=nr(t);if(A!==Zr||!$n(Ur,e)||$n(Hr,e)){var C=Vr(A,e);return!C||!$n(Ur,e)||$n(A,Rr)&&A[Rr][e]||(C.enumerable=!0),C}},Is=function(g){var t=Wr(or(g)),A=[];return Nr(t,(function(g){$n(Ur,g)||$n(wr,g)||_r(A,g)})),A},is=function(g){var t=g===Zr,A=Wr(t?Hr:or(g)),e=[];return Nr(A,(function(g){!$n(Ur,g)||t&&!$n(Zr,g)||_r(e,Ur[g])})),e};if(Jn||(Sr=function(){if(er(Fr,this))throw Gr("Symbol is not a constructor");var g=arguments.length&&void 0!==arguments[0]?rr(arguments[0]):void 0,t=kr(g),A=function(g){this===Zr&&Hn(A,Hr,g),$n(this,Rr)&&$n(this[Rr],t)&&(this[Rr][t]=!1),$r(this,t,sr(1,g))};return Xn&&qr&&$r(Zr,t,{configurable:!0,set:A}),gs(t,g)},mr(Fr=Sr.prototype,"toString",(function(){return zr(this).tag})),mr(Sr,"withoutSetter",(function(g){return gs(kr(g),g)})),vr.f=es,pr.f=ts,fr.f=As,ur.f=Cs,hr.f=lr.f=Is,cr.f=is,Er.f=function(g){return gs(xr(g),g)},Xn&&Yr(Fr,"description",{configurable:!0,get:function(){return zr(this).description}})),Wn({global:!0,wrap:!0,forced:!Jn,sham:!Jn},{Symbol:Sr}),Nr(dr(Jr),(function(g){Or(g)})),Wn({target:Pr,stat:!0,forced:!Jn},{for:function(g){var t=rr(g);if($n(Kr,t))return Kr[t];var A=Sr(t);return Kr[t]=A,Xr[A]=t,A},keyFor:function(g){if(!Cr(g))throw Gr(g+" is not a symbol");if($n(Xr,g))return Xr[g]},useSetter:function(){qr=!0},useSimple:function(){qr=!1}}),Wn({target:"Object",stat:!0,forced:!Jn,sham:!Xn},{create:function(g,t){return void 0===t?ar(g):As(ar(g),t)},defineProperty:ts,defineProperties:As,getOwnPropertyDescriptor:Cs}),Wn({target:"Object",stat:!0,forced:!Jn},{getOwnPropertyNames:Is,getOwnPropertySymbols:is}),Wn({target:"Object",stat:!0,forced:qn((function(){cr.f(1)}))},{getOwnPropertySymbols:function(g){return cr.f(ir(g))}}),jr){var os=!Jn||qn((function(){var g=Sr();return"[null]"!=jr([g])||"{}"!=jr({a:g})||"{}"!=jr(Object(g))}));Wn({target:"JSON",stat:!0,forced:os},{stringify:function(g,t,A){var e=yr(arguments),C=t;if((Ar(t)||void 0!==g)&&!Cr(g))return gr(t)||(t=function(g,t){if(tr(C)&&(t=Hn(C,this,g,t)),!Cr(t))return t}),e[1]=t,Un(jr,null,e)}})}if(!Fr[Mr]){var ns=Fr.valueOf;mr(Fr,Mr,(function(g){return Hn(ns,this)}))}Tr(Sr,Pr),wr[Rr]=!0;var rs=U.Object.getOwnPropertySymbols,ss={exports:{}},as=bA,ds=C,hs=W,ls=f.f,cs=v,us=ds((function(){ls(1)}));as({target:"Object",stat:!0,forced:!cs||us,sham:!cs},{getOwnPropertyDescriptor:function(g,t){return ls(hs(g),t)}});var ps=U.Object,fs=ss.exports=function(g,t){return ps.getOwnPropertyDescriptor(g,t)};ps.getOwnPropertyDescriptor.sham&&(fs.sham=!0);var vs=ss.exports,ys=vs,ms=q,bs=In,ws=XA,ks=Xt,xs=u([].concat),Es=ms("Reflect","ownKeys")||function(g){var t=bs.f(ks(g)),A=ws.f;return A?xs(t,A(g)):t},Os=Es,Ts=W,Ds=f,Ns=io;bA({target:"Object",stat:!0,sham:!v},{getOwnPropertyDescriptors:function(g){for(var t,A,e=Ts(g),C=Ds.f,I=Os(e),i={},o=0;I.length>o;)void 0!==(A=C(e,t=I[o++]))&&Ns(i,t,A);return i}});var Rs=U.Object.getOwnPropertyDescriptors,Ps={exports:{}},Ms=bA,Bs=v,zs=XC.f;Ms({target:"Object",stat:!0,forced:Object.defineProperties!==zs,sham:!Bs},{defineProperties:zs});var Zs=U.Object,Ss=Ps.exports=function(g,t){return Zs.defineProperties(g,t)};Zs.defineProperties.sham&&(Ss.sham=!0);var Fs=Ps.exports,Gs={exports:{}},Ls=bA,js=v,Vs=Wt.f;Ls({target:"Object",stat:!0,forced:Object.defineProperty!==Vs,sham:!js},{defineProperty:Vs});var Ys=U.Object,Ws=Gs.exports=function(g,t,A){return Ys.defineProperty(g,t,A)};Ys.defineProperty.sham&&(Ws.sham=!0);var Qs=Gs.exports,_s=Qs;function Us(g,t){if(!(g instanceof t))throw new TypeError("Cannot call a class as a function")}var Hs=Qs;function Ks(g,t){for(var A=0;A<t.length;A++){var e=t[A];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Hs(g,e.key,e)}}function Xs(g,t,A){return t&&Ks(g.prototype,t),A&&Ks(g,A),Hs(g,"prototype",{writable:!1}),g}function Js(g,t,A){return t in g?Hs(g,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):g[t]=A,g}bA({target:"Array",stat:!0},{isArray:Cn});var qs=U.Array.isArray,$s=qs;var ga=C,ta=og,Aa=Ct("species"),ea=function(g){return ta>=51||!ga((function(){var t=[];return(t.constructor={})[Aa]=function(){return{foo:1}},1!==t[g](Boolean).foo}))},Ca=bA,Ia=e,ia=C,oa=Cn,na=_,ra=Gg,sa=MA,aa=io,da=zn,ha=ea,la=og,ca=Ct("isConcatSpreadable"),ua=9007199254740991,pa="Maximum allowed index exceeded",fa=Ia.TypeError,va=la>=51||!ia((function(){var g=[];return g[ca]=!1,g.concat()[0]!==g})),ya=ha("concat"),ma=function(g){if(!na(g))return!1;var t=g[ca];return void 0!==t?!!t:oa(g)};Ca({target:"Array",proto:!0,forced:!va||!ya},{concat:function(g){var t,A,e,C,I,i=ra(this),o=da(i,0),n=0;for(t=-1,e=arguments.length;t<e;t++)if(ma(I=-1===t?i:arguments[t])){if(n+(C=sa(I))>ua)throw fa(pa);for(A=0;A<C;A++,n++)A in I&&aa(o,n,I[A])}else{if(n>=ua)throw fa(pa);aa(o,n++,I)}return o.length=n,o}}),On("asyncIterator"),On("hasInstance"),On("isConcatSpreadable"),On("iterator"),On("match"),On("matchAll"),On("replace"),On("search"),On("species"),On("split"),On("toPrimitive"),On("toStringTag"),On("unscopables"),KI(e.JSON,"JSON",!0);var ba=U.Symbol,wa=ba;On("asyncDispose"),On("dispose"),On("matcher"),On("metadata"),On("observable"),On("patternMatch"),On("replaceAll");var ka=wa;var xa=bA,Ea=e,Oa=Cn,Ta=Ao,Da=_,Na=DA,Ra=MA,Pa=W,Ma=io,Ba=Ct,za=de,Za=ea("slice"),Sa=Ba("species"),Fa=Ea.Array,Ga=Math.max;xa({target:"Array",proto:!0,forced:!Za},{slice:function(g,t){var A,e,C,I=Pa(this),i=Ra(I),o=Na(g,i),n=Na(void 0===t?i:t,i);if(Oa(I)&&(A=I.constructor,(Ta(A)&&(A===Fa||Oa(A.prototype))||Da(A)&&null===(A=A[Sa]))&&(A=void 0),A===Fa||void 0===A))return za(I,o,n);for(e=new(void 0===A?Fa:A)(Ga(n-o,0)),C=0;o<n;o++,C++)o in I&&Ma(e,C,I[o]);return e.length=C,e}});var La=Oe("Array").slice,ja=$,Va=La,Ya=Array.prototype,Wa=function(g){var t=g.slice;return g===Ya||ja(Ya,g)&&t===Ya.slice?Va:t},Qa=Wa,_a=Qa,Ua=So;function Ha(g,t){(null==t||t>g.length)&&(t=g.length);for(var A=0,e=new Array(t);A<t;A++)e[A]=g[A];return e}function Ka(g,t){var A;if(g){if("string"==typeof g)return Ha(g,t);var e=_a(A=Object.prototype.toString.call(g)).call(A,8,-1);return"Object"===e&&g.constructor&&(e=g.constructor.name),"Map"===e||"Set"===e?Ua(g):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ha(g,t):void 0}}function Xa(g,t){return function(g){if($s(g))return g}(g)||function(g,t){var A=null==g?null:void 0!==ka&&An(g)||g["@@iterator"];if(null!=A){var e,C,I=[],i=!0,o=!1;try{for(A=A.call(g);!(i=(e=A.next()).done)&&(I.push(e.value),!t||I.length!==t);i=!0);}catch(g){o=!0,C=g}finally{try{i||null==A.return||A.return()}finally{if(o)throw C}}return I}}(g,t)||Ka(g,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ja=mn.f("iterator"),qa=Ja;function $a(g){return $a="function"==typeof ka&&"symbol"==typeof qa?function(g){return typeof g}:function(g){return g&&"function"==typeof ka&&g.constructor===ka&&g!==ka.prototype?"symbol":typeof g},$a(g)}function gd(g){return function(g){if($s(g))return Ha(g)}(g)||function(g){if(void 0!==ka&&null!=An(g)||null!=g["@@iterator"])return Ua(g)}(g)||Ka(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var td=ba,Ad=Oe("Array").concat,ed=$,Cd=Ad,Id=Array.prototype,id=function(g){var t=g.concat;return g===Id||ed(Id,g)&&t===Id.concat?Cd:t},od=id,nd=Qa;bA({target:"Reflect",stat:!0},{ownKeys:Es});var rd=U.Reflect.ownKeys,sd=qs,ad=Yn.map;bA({target:"Array",proto:!0,forced:!ea("map")},{map:function(g){return ad(this,g,arguments.length>1?arguments[1]:void 0)}});var dd=Oe("Array").map,hd=$,ld=dd,cd=Array.prototype,ud=function(g){var t=g.map;return g===cd||hd(cd,g)&&t===cd.map?ld:t},pd=ud,fd=Gg,vd=KA;bA({target:"Object",stat:!0,forced:C((function(){vd(1)}))},{keys:function(g){return vd(fd(g))}});var yd=U.Object.keys,md=bA,bd=u,wd=e.Date,kd=bd(wd.prototype.getTime);md({target:"Date",stat:!0},{now:function(){return kd(new wd)}});var xd=U.Date.now,Ed=C,Od=function(g,t){var A=[][g];return!!A&&Ed((function(){A.call(null,t||function(){return 1},1)}))},Td=Yn.forEach,Dd=Od("forEach")?[].forEach:function(g){return Td(this,g,arguments.length>1?arguments[1]:void 0)};bA({target:"Array",proto:!0,forced:[].forEach!=Dd},{forEach:Dd});var Nd=Oe("Array").forEach,Rd=qe,Pd=Vg,Md=$,Bd=Nd,zd=Array.prototype,Zd={DOMTokenList:!0,NodeList:!0},Sd=function(g){var t=g.forEach;return g===zd||Md(zd,g)&&t===zd.forEach||Pd(Zd,Rd(g))?Bd:t},Fd=bA,Gd=Cn,Ld=u([].reverse),jd=[1,2];Fd({target:"Array",proto:!0,forced:String(jd)===String(jd.reverse())},{reverse:function(){return Gd(this)&&(this.length=this.length),Ld(this)}});var Vd=Oe("Array").reverse,Yd=$,Wd=Vd,Qd=Array.prototype,_d=function(g){var t=g.reverse;return g===Qd||Yd(Qd,g)&&t===Qd.reverse?Wd:t},Ud=_d,Hd=bA,Kd=e,Xd=DA,Jd=xA,qd=MA,$d=Gg,gh=zn,th=io,Ah=ea("splice"),eh=Kd.TypeError,Ch=Math.max,Ih=Math.min,ih=9007199254740991,oh="Maximum allowed length exceeded";Hd({target:"Array",proto:!0,forced:!Ah},{splice:function(g,t){var A,e,C,I,i,o,n=$d(this),r=qd(n),s=Xd(g,r),a=arguments.length;if(0===a?A=e=0:1===a?(A=0,e=r-s):(A=a-2,e=Ih(Ch(Jd(t),0),r-s)),r+A-e>ih)throw eh(oh);for(C=gh(n,e),I=0;I<e;I++)(i=s+I)in n&&th(C,I,n[i]);if(C.length=e,A<e){for(I=s;I<r-e;I++)o=I+A,(i=I+e)in n?n[o]=n[i]:delete n[o];for(I=r;I>r-e+A;I--)delete n[I-1]}else if(A>e)for(I=r-e;I>s;I--)o=I+A-1,(i=I+e-1)in n?n[o]=n[i]:delete n[o];for(I=0;I<A;I++)n[I+s]=arguments[I+2];return n.length=r-e+A,C}});var nh=Oe("Array").splice,rh=$,sh=nh,ah=Array.prototype,dh=function(g){var t=g.splice;return g===ah||rh(ah,g)&&t===ah.splice?sh:t},hh=dh,lh=FA.includes;bA({target:"Array",proto:!0},{includes:function(g){return lh(this,g,arguments.length>1?arguments[1]:void 0)}});var ch=Oe("Array").includes,uh=_,ph=M,fh=Ct("match"),vh=function(g){var t;return uh(g)&&(void 0!==(t=g[fh])?!!t:"RegExp"==ph(g))},yh=e.TypeError,mh=Ct("match"),bh=bA,wh=function(g){if(vh(g))throw yh("The method doesn't accept regular expressions");return g},kh=j,xh=tC,Eh=function(g){var t=/./;try{"/./"[g](t)}catch(A){try{return t[mh]=!1,"/./"[g](t)}catch(g){}}return!1},Oh=u("".indexOf);bh({target:"String",proto:!0,forced:!Eh("includes")},{includes:function(g){return!!~Oh(xh(kh(this)),xh(wh(g)),arguments.length>1?arguments[1]:void 0)}});var Th=Oe("String").includes,Dh=$,Nh=ch,Rh=Th,Ph=Array.prototype,Mh=String.prototype,Bh=function(g){var t=g.includes;return g===Ph||Dh(Ph,g)&&t===Ph.includes?Nh:"string"==typeof g||g===Mh||Dh(Mh,g)&&t===Mh.includes?Rh:t},zh=Bh,Zh=Gg,Sh=DI,Fh=yI;bA({target:"Object",stat:!0,forced:C((function(){Sh(1)})),sham:!Fh},{getPrototypeOf:function(g){return Sh(Zh(g))}});var Gh=U.Object.getPrototypeOf,Lh=Gh,jh=Yn.filter;bA({target:"Array",proto:!0,forced:!ea("filter")},{filter:function(g){return jh(this,g,arguments.length>1?arguments[1]:void 0)}});var Vh=Oe("Array").filter,Yh=$,Wh=Vh,Qh=Array.prototype,_h=function(g){var t=g.filter;return g===Qh||Yh(Qh,g)&&t===Qh.filter?Wh:t},Uh=_h,Hh=v,Kh=u,Xh=KA,Jh=W,qh=Kh(w.f),$h=Kh([].push),gl=function(g){return function(t){for(var A,e=Jh(t),C=Xh(e),I=C.length,i=0,o=[];I>i;)A=C[i++],Hh&&!qh(e,A)||$h(o,g?[A,e[A]]:e[A]);return o}},tl={entries:gl(!0),values:gl(!1)}.values;bA({target:"Object",stat:!0},{values:function(g){return tl(g)}}),U.Object.values;var Al="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",el=j,Cl=tC,Il=u("".replace),il="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",ol=RegExp("^"+il+il+"*"),nl=RegExp(il+il+"*$"),rl=function(g){return function(t){var A=Cl(el(t));return 1&g&&(A=Il(A,ol,"")),2&g&&(A=Il(A,nl,"")),A}},sl={start:rl(1),end:rl(2),trim:rl(3)},al=e,dl=C,hl=u,ll=tC,cl=sl.trim,ul=Al,pl=al.parseInt,fl=al.Symbol,vl=fl&&fl.iterator,yl=/^[+-]?0x/i,ml=hl(yl.exec),bl=8!==pl(ul+"08")||22!==pl(ul+"0x16")||vl&&!dl((function(){pl(Object(vl))}))?function(g,t){var A=cl(ll(g));return pl(A,t>>>0||(ml(yl,A)?16:10))}:pl;bA({global:!0,forced:parseInt!=bl},{parseInt:bl});var wl=U.parseInt,kl=bA,xl=FA.indexOf,El=Od,Ol=u([].indexOf),Tl=!!Ol&&1/Ol([1],1,-0)<0,Dl=El("indexOf");kl({target:"Array",proto:!0,forced:Tl||!Dl},{indexOf:function(g){var t=arguments.length>1?arguments[1]:void 0;return Tl?Ol(this,g,t)||0:xl(this,g,t)}});var Nl=Oe("Array").indexOf,Rl=$,Pl=Nl,Ml=Array.prototype,Bl=function(g){var t=g.indexOf;return g===Ml||Rl(Ml,g)&&t===Ml.indexOf?Pl:t},zl=Bl,Zl=KC.PROPER,Sl=C,Fl=Al,Gl=sl.trim;bA({target:"String",proto:!0,forced:function(g){return Sl((function(){return!!Fl[g]()||"âÂá "!=="âÂá "[g]()||Zl&&Fl[g].name!==g}))}("trim")},{trim:function(){return Gl(this)}}),Oe("String").trim,bA({target:"Object",stat:!0,sham:!v},{create:vI});var Ll=U.Object,jl=function(g,t){return Ll.create(g,t)},Vl=jl,Yl=bA,Wl=q,Ql=s,_l=u,Ul=C,Hl=e.Array,Kl=Wl("JSON","stringify"),Xl=_l(/./.exec),Jl=_l("".charAt),ql=_l("".charCodeAt),$l=_l("".replace),gc=_l(1..toString),tc=/[\uD800-\uDFFF]/g,Ac=/^[\uD800-\uDBFF]$/,ec=/^[\uDC00-\uDFFF]$/,Cc=function(g,t,A){var e=Jl(A,t-1),C=Jl(A,t+1);return Xl(Ac,g)&&!Xl(ec,C)||Xl(ec,g)&&!Xl(Ac,e)?"\\u"+gc(ql(g,0),16):g},Ic=Ul((function(){return'"\\udf06\\ud834"'!==Kl("\udf06\ud834")||'"\\udead"'!==Kl("\udead")}));Kl&&Yl({target:"JSON",stat:!0,forced:Ic},{stringify:function(g,t,A){for(var e=0,C=arguments.length,I=Hl(C);e<C;e++)I[e]=arguments[e];var i=Ql(Kl,null,I);return"string"==typeof i?$l(i,tc,Cc):i}});var ic=U,oc=s;ic.JSON||(ic.JSON={stringify:JSON.stringify});var nc=function(g,t,A){return oc(ic.JSON.stringify,null,arguments)},rc=nc,sc=e.TypeError,ac=bA,dc=e,hc=s,lc=p,cc=de,uc=function(g,t){if(g<t)throw sc("Not enough arguments");return g},pc=/MSIE .\./.test(gg),fc=dc.Function,vc=function(g){return function(t,A){var e=uc(arguments.length,1)>2,C=lc(t)?t:fc(t),I=e?cc(arguments,2):void 0;return g(e?function(){hc(C,this,I)}:C,A)}};ac({global:!0,bind:!0,forced:pc},{setTimeout:vc(dc.setTimeout),setInterval:vc(dc.setInterval)});var yc=U.setTimeout,mc=Gg,bc=DA,wc=MA,kc=function(g){for(var t=mc(this),A=wc(t),e=arguments.length,C=bc(e>1?arguments[1]:void 0,A),I=e>2?arguments[2]:void 0,i=void 0===I?A:bc(I,A);i>C;)t[C++]=g;return t};bA({target:"Array",proto:!0},{fill:kc});var xc,Ec=Oe("Array").fill,Oc=$,Tc=Ec,Dc=Array.prototype,Nc=function(g){var t=g.fill;return g===Dc||Oc(Dc,g)&&t===Dc.fill?Tc:t},Rc=Nc;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
function Pc(){return Pc=Object.assign||function(g){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var e in A)Object.prototype.hasOwnProperty.call(A,e)&&(g[e]=A[e])}return g},Pc.apply(this,arguments)}function Mc(g,t){g.prototype=Object.create(t.prototype),g.prototype.constructor=g,g.__proto__=t}function Bc(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}xc="function"!=typeof Object.assign?function(g){if(null==g)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(g),A=1;A<arguments.length;A++){var e=arguments[A];if(null!=e)for(var C in e)e.hasOwnProperty(C)&&(t[C]=e[C])}return t}:Object.assign;var zc,Zc=xc,Sc=["","webkit","Moz","MS","ms","o"],Fc="undefined"==typeof document?{style:{}}:document.createElement("div"),Gc=Math.round,Lc=Math.abs,jc=Date.now;function Vc(g,t){for(var A,e,C=t[0].toUpperCase()+t.slice(1),I=0;I<Sc.length;){if((e=(A=Sc[I])?A+C:t)in g)return e;I++}}zc="undefined"==typeof window?{}:window;var Yc=Vc(Fc.style,"touchAction"),Wc=void 0!==Yc;var Qc="compute",_c="auto",Uc="manipulation",Hc="none",Kc="pan-x",Xc="pan-y",Jc=function(){if(!Wc)return!1;var g={},t=zc.CSS&&zc.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(A){return g[A]=!t||zc.CSS.supports("touch-action",A)})),g}(),qc="ontouchstart"in zc,$c=void 0!==Vc(zc,"PointerEvent"),gu=qc&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),tu="touch",Au="mouse",eu=16,Cu=24,Iu=["x","y"],iu=["clientX","clientY"];function ou(g,t,A){var e;if(g)if(g.forEach)g.forEach(t,A);else if(void 0!==g.length)for(e=0;e<g.length;)t.call(A,g[e],e,g),e++;else for(e in g)g.hasOwnProperty(e)&&t.call(A,g[e],e,g)}function nu(g,t){return"function"==typeof g?g.apply(t&&t[0]||void 0,t):g}function ru(g,t){return g.indexOf(t)>-1}var su=function(){function g(g,t){this.manager=g,this.set(t)}var t=g.prototype;return t.set=function(g){g===Qc&&(g=this.compute()),Wc&&this.manager.element.style&&Jc[g]&&(this.manager.element.style[Yc]=g),this.actions=g.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var g=[];return ou(this.manager.recognizers,(function(t){nu(t.options.enable,[t])&&(g=g.concat(t.getTouchAction()))})),function(g){if(ru(g,Hc))return Hc;var t=ru(g,Kc),A=ru(g,Xc);return t&&A?Hc:t||A?t?Kc:Xc:ru(g,Uc)?Uc:_c}(g.join(" "))},t.preventDefaults=function(g){var t=g.srcEvent,A=g.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var e=this.actions,C=ru(e,Hc)&&!Jc.none,I=ru(e,Xc)&&!Jc["pan-y"],i=ru(e,Kc)&&!Jc["pan-x"];if(C){var o=1===g.pointers.length,n=g.distance<2,r=g.deltaTime<250;if(o&&n&&r)return}if(!i||!I)return C||I&&6&A||i&&A&Cu?this.preventSrc(t):void 0}},t.preventSrc=function(g){this.manager.session.prevented=!0,g.preventDefault()},g}();function au(g,t){for(;g;){if(g===t)return!0;g=g.parentNode}return!1}function du(g){var t=g.length;if(1===t)return{x:Gc(g[0].clientX),y:Gc(g[0].clientY)};for(var A=0,e=0,C=0;C<t;)A+=g[C].clientX,e+=g[C].clientY,C++;return{x:Gc(A/t),y:Gc(e/t)}}function hu(g){for(var t=[],A=0;A<g.pointers.length;)t[A]={clientX:Gc(g.pointers[A].clientX),clientY:Gc(g.pointers[A].clientY)},A++;return{timeStamp:jc(),pointers:t,center:du(t),deltaX:g.deltaX,deltaY:g.deltaY}}function lu(g,t,A){A||(A=Iu);var e=t[A[0]]-g[A[0]],C=t[A[1]]-g[A[1]];return Math.sqrt(e*e+C*C)}function cu(g,t,A){A||(A=Iu);var e=t[A[0]]-g[A[0]],C=t[A[1]]-g[A[1]];return 180*Math.atan2(C,e)/Math.PI}function uu(g,t){return g===t?1:Lc(g)>=Lc(t)?g<0?2:4:t<0?8:eu}function pu(g,t,A){return{x:t/g||0,y:A/g||0}}function fu(g,t){var A=g.session,e=t.pointers,C=e.length;A.firstInput||(A.firstInput=hu(t)),C>1&&!A.firstMultiple?A.firstMultiple=hu(t):1===C&&(A.firstMultiple=!1);var I=A.firstInput,i=A.firstMultiple,o=i?i.center:I.center,n=t.center=du(e);t.timeStamp=jc(),t.deltaTime=t.timeStamp-I.timeStamp,t.angle=cu(o,n),t.distance=lu(o,n),function(g,t){var A=t.center,e=g.offsetDelta||{},C=g.prevDelta||{},I=g.prevInput||{};1!==t.eventType&&4!==I.eventType||(C=g.prevDelta={x:I.deltaX||0,y:I.deltaY||0},e=g.offsetDelta={x:A.x,y:A.y}),t.deltaX=C.x+(A.x-e.x),t.deltaY=C.y+(A.y-e.y)}(A,t),t.offsetDirection=uu(t.deltaX,t.deltaY);var r,s,a=pu(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=a.x,t.overallVelocityY=a.y,t.overallVelocity=Lc(a.x)>Lc(a.y)?a.x:a.y,t.scale=i?(r=i.pointers,lu((s=e)[0],s[1],iu)/lu(r[0],r[1],iu)):1,t.rotation=i?function(g,t){return cu(t[1],t[0],iu)+cu(g[1],g[0],iu)}(i.pointers,e):0,t.maxPointers=A.prevInput?t.pointers.length>A.prevInput.maxPointers?t.pointers.length:A.prevInput.maxPointers:t.pointers.length,function(g,t){var A,e,C,I,i=g.lastInterval||t,o=t.timeStamp-i.timeStamp;if(8!==t.eventType&&(o>25||void 0===i.velocity)){var n=t.deltaX-i.deltaX,r=t.deltaY-i.deltaY,s=pu(o,n,r);e=s.x,C=s.y,A=Lc(s.x)>Lc(s.y)?s.x:s.y,I=uu(n,r),g.lastInterval=t}else A=i.velocity,e=i.velocityX,C=i.velocityY,I=i.direction;t.velocity=A,t.velocityX=e,t.velocityY=C,t.direction=I}(A,t);var d,h=g.element,l=t.srcEvent;au(d=l.composedPath?l.composedPath()[0]:l.path?l.path[0]:l.target,h)&&(h=d),t.target=h}function vu(g,t,A){var e=A.pointers.length,C=A.changedPointers.length,I=1&t&&e-C==0,i=12&t&&e-C==0;A.isFirst=!!I,A.isFinal=!!i,I&&(g.session={}),A.eventType=t,fu(g,A),g.emit("hammer.input",A),g.recognize(A),g.session.prevInput=A}function yu(g){return g.trim().split(/\s+/g)}function mu(g,t,A){ou(yu(t),(function(t){g.addEventListener(t,A,!1)}))}function bu(g,t,A){ou(yu(t),(function(t){g.removeEventListener(t,A,!1)}))}function wu(g){var t=g.ownerDocument||g;return t.defaultView||t.parentWindow||window}var ku=function(){function g(g,t){var A=this;this.manager=g,this.callback=t,this.element=g.element,this.target=g.options.inputTarget,this.domHandler=function(t){nu(g.options.enable,[g])&&A.handler(t)},this.init()}var t=g.prototype;return t.handler=function(){},t.init=function(){this.evEl&&mu(this.element,this.evEl,this.domHandler),this.evTarget&&mu(this.target,this.evTarget,this.domHandler),this.evWin&&mu(wu(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&bu(this.element,this.evEl,this.domHandler),this.evTarget&&bu(this.target,this.evTarget,this.domHandler),this.evWin&&bu(wu(this.element),this.evWin,this.domHandler)},g}();function xu(g,t,A){if(g.indexOf&&!A)return g.indexOf(t);for(var e=0;e<g.length;){if(A&&g[e][A]==t||!A&&g[e]===t)return e;e++}return-1}var Eu={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ou={2:tu,3:"pen",4:Au,5:"kinect"},Tu="pointerdown",Du="pointermove pointerup pointercancel";zc.MSPointerEvent&&!zc.PointerEvent&&(Tu="MSPointerDown",Du="MSPointerMove MSPointerUp MSPointerCancel");var Nu=function(g){function t(){var A,e=t.prototype;return e.evEl=Tu,e.evWin=Du,(A=g.apply(this,arguments)||this).store=A.manager.session.pointerEvents=[],A}return Mc(t,g),t.prototype.handler=function(g){var t=this.store,A=!1,e=g.type.toLowerCase().replace("ms",""),C=Eu[e],I=Ou[g.pointerType]||g.pointerType,i=I===tu,o=xu(t,g.pointerId,"pointerId");1&C&&(0===g.button||i)?o<0&&(t.push(g),o=t.length-1):12&C&&(A=!0),o<0||(t[o]=g,this.callback(this.manager,C,{pointers:t,changedPointers:[g],pointerType:I,srcEvent:g}),A&&t.splice(o,1))},t}(ku);function Ru(g){return Array.prototype.slice.call(g,0)}function Pu(g,t,A){for(var e=[],C=[],I=0;I<g.length;){var i=t?g[I][t]:g[I];xu(C,i)<0&&e.push(g[I]),C[I]=i,I++}return A&&(e=t?e.sort((function(g,A){return g[t]>A[t]})):e.sort()),e}var Mu={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Bu="touchstart touchmove touchend touchcancel",zu=function(g){function t(){var A;return t.prototype.evTarget=Bu,(A=g.apply(this,arguments)||this).targetIds={},A}return Mc(t,g),t.prototype.handler=function(g){var t=Mu[g.type],A=Zu.call(this,g,t);A&&this.callback(this.manager,t,{pointers:A[0],changedPointers:A[1],pointerType:tu,srcEvent:g})},t}(ku);function Zu(g,t){var A,e,C=Ru(g.touches),I=this.targetIds;if(3&t&&1===C.length)return I[C[0].identifier]=!0,[C,C];var i=Ru(g.changedTouches),o=[],n=this.target;if(e=C.filter((function(g){return au(g.target,n)})),1===t)for(A=0;A<e.length;)I[e[A].identifier]=!0,A++;for(A=0;A<i.length;)I[i[A].identifier]&&o.push(i[A]),12&t&&delete I[i[A].identifier],A++;return o.length?[Pu(e.concat(o),"identifier",!0),o]:void 0}var Su={mousedown:1,mousemove:2,mouseup:4},Fu="mousedown",Gu="mousemove mouseup",Lu=function(g){function t(){var A,e=t.prototype;return e.evEl=Fu,e.evWin=Gu,(A=g.apply(this,arguments)||this).pressed=!1,A}return Mc(t,g),t.prototype.handler=function(g){var t=Su[g.type];1&t&&0===g.button&&(this.pressed=!0),2&t&&1!==g.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[g],changedPointers:[g],pointerType:Au,srcEvent:g}))},t}(ku);function ju(g){var t=g.changedPointers[0];if(t.identifier===this.primaryTouch){var A={x:t.clientX,y:t.clientY},e=this.lastTouches;this.lastTouches.push(A);setTimeout((function(){var g=e.indexOf(A);g>-1&&e.splice(g,1)}),2500)}}function Vu(g,t){1&g?(this.primaryTouch=t.changedPointers[0].identifier,ju.call(this,t)):12&g&&ju.call(this,t)}function Yu(g){for(var t=g.srcEvent.clientX,A=g.srcEvent.clientY,e=0;e<this.lastTouches.length;e++){var C=this.lastTouches[e],I=Math.abs(t-C.x),i=Math.abs(A-C.y);if(I<=25&&i<=25)return!0}return!1}var Wu=function(){return function(g){function t(t,A){var e;return(e=g.call(this,t,A)||this).handler=function(g,t,A){var C=A.pointerType===tu,I=A.pointerType===Au;if(!(I&&A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents)){if(C)Vu.call(Bc(Bc(e)),t,A);else if(I&&Yu.call(Bc(Bc(e)),A))return;e.callback(g,t,A)}},e.touch=new zu(e.manager,e.handler),e.mouse=new Lu(e.manager,e.handler),e.primaryTouch=null,e.lastTouches=[],e}return Mc(t,g),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(ku)}();function Qu(g,t,A){return!!Array.isArray(g)&&(ou(g,A[t],A),!0)}var _u=32,Uu=1;function Hu(g,t){var A=t.manager;return A?A.get(g):g}function Ku(g){return 16&g?"cancel":8&g?"end":4&g?"move":2&g?"start":""}var Xu=function(){function g(g){void 0===g&&(g={}),this.options=Pc({enable:!0},g),this.id=Uu++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=g.prototype;return t.set=function(g){return Zc(this.options,g),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(g){if(Qu(g,"recognizeWith",this))return this;var t=this.simultaneous;return t[(g=Hu(g,this)).id]||(t[g.id]=g,g.recognizeWith(this)),this},t.dropRecognizeWith=function(g){return Qu(g,"dropRecognizeWith",this)||(g=Hu(g,this),delete this.simultaneous[g.id]),this},t.requireFailure=function(g){if(Qu(g,"requireFailure",this))return this;var t=this.requireFail;return-1===xu(t,g=Hu(g,this))&&(t.push(g),g.requireFailure(this)),this},t.dropRequireFailure=function(g){if(Qu(g,"dropRequireFailure",this))return this;g=Hu(g,this);var t=xu(this.requireFail,g);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(g){return!!this.simultaneous[g.id]},t.emit=function(g){var t=this,A=this.state;function e(A){t.manager.emit(A,g)}A<8&&e(t.options.event+Ku(A)),e(t.options.event),g.additionalEvent&&e(g.additionalEvent),A>=8&&e(t.options.event+Ku(A))},t.tryEmit=function(g){if(this.canEmit())return this.emit(g);this.state=_u},t.canEmit=function(){for(var g=0;g<this.requireFail.length;){if(!(33&this.requireFail[g].state))return!1;g++}return!0},t.recognize=function(g){var t=Zc({},g);if(!nu(this.options.enable,[this,t]))return this.reset(),void(this.state=_u);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(g){},t.getTouchAction=function(){},t.reset=function(){},g}(),Ju=function(g){function t(t){var A;return void 0===t&&(t={}),(A=g.call(this,Pc({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,A.pCenter=!1,A._timer=null,A._input=null,A.count=0,A}Mc(t,g);var A=t.prototype;return A.getTouchAction=function(){return[Uc]},A.process=function(g){var t=this,A=this.options,e=g.pointers.length===A.pointers,C=g.distance<A.threshold,I=g.deltaTime<A.time;if(this.reset(),1&g.eventType&&0===this.count)return this.failTimeout();if(C&&I&&e){if(4!==g.eventType)return this.failTimeout();var i=!this.pTime||g.timeStamp-this.pTime<A.interval,o=!this.pCenter||lu(this.pCenter,g.center)<A.posThreshold;if(this.pTime=g.timeStamp,this.pCenter=g.center,o&&i?this.count+=1:this.count=1,this._input=g,0===this.count%A.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),A.interval),2):8}return _u},A.failTimeout=function(){var g=this;return this._timer=setTimeout((function(){g.state=_u}),this.options.interval),_u},A.reset=function(){clearTimeout(this._timer)},A.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Xu),qu=function(g){function t(t){return void 0===t&&(t={}),g.call(this,Pc({pointers:1},t))||this}Mc(t,g);var A=t.prototype;return A.attrTest=function(g){var t=this.options.pointers;return 0===t||g.pointers.length===t},A.process=function(g){var t=this.state,A=g.eventType,e=6&t,C=this.attrTest(g);return e&&(8&A||!C)?16|t:e||C?4&A?8|t:2&t?4|t:2:_u},t}(Xu);function $u(g){return g===eu?"down":8===g?"up":2===g?"left":4===g?"right":""}var gp=function(g){function t(t){var A;return void 0===t&&(t={}),(A=g.call(this,Pc({event:"pan",threshold:10,pointers:1,direction:30},t))||this).pX=null,A.pY=null,A}Mc(t,g);var A=t.prototype;return A.getTouchAction=function(){var g=this.options.direction,t=[];return 6&g&&t.push(Xc),g&Cu&&t.push(Kc),t},A.directionTest=function(g){var t=this.options,A=!0,e=g.distance,C=g.direction,I=g.deltaX,i=g.deltaY;return C&t.direction||(6&t.direction?(C=0===I?1:I<0?2:4,A=I!==this.pX,e=Math.abs(g.deltaX)):(C=0===i?1:i<0?8:eu,A=i!==this.pY,e=Math.abs(g.deltaY))),g.direction=C,A&&e>t.threshold&&C&t.direction},A.attrTest=function(g){return qu.prototype.attrTest.call(this,g)&&(2&this.state||!(2&this.state)&&this.directionTest(g))},A.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var A=$u(t.direction);A&&(t.additionalEvent=this.options.event+A),g.prototype.emit.call(this,t)},t}(qu),tp=function(g){function t(t){return void 0===t&&(t={}),g.call(this,Pc({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},t))||this}Mc(t,g);var A=t.prototype;return A.getTouchAction=function(){return gp.prototype.getTouchAction.call(this)},A.attrTest=function(t){var A,e=this.options.direction;return 30&e?A=t.overallVelocity:6&e?A=t.overallVelocityX:e&Cu&&(A=t.overallVelocityY),g.prototype.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&Lc(A)>this.options.velocity&&4&t.eventType},A.emit=function(g){var t=$u(g.offsetDirection);t&&this.manager.emit(this.options.event+t,g),this.manager.emit(this.options.event,g)},t}(qu),Ap=function(g){function t(t){return void 0===t&&(t={}),g.call(this,Pc({event:"pinch",threshold:0,pointers:2},t))||this}Mc(t,g);var A=t.prototype;return A.getTouchAction=function(){return[Hc]},A.attrTest=function(t){return g.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},A.emit=function(t){if(1!==t.scale){var A=t.scale<1?"in":"out";t.additionalEvent=this.options.event+A}g.prototype.emit.call(this,t)},t}(qu),ep=function(g){function t(t){return void 0===t&&(t={}),g.call(this,Pc({event:"rotate",threshold:0,pointers:2},t))||this}Mc(t,g);var A=t.prototype;return A.getTouchAction=function(){return[Hc]},A.attrTest=function(t){return g.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(qu),Cp=function(g){function t(t){var A;return void 0===t&&(t={}),(A=g.call(this,Pc({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,A._input=null,A}Mc(t,g);var A=t.prototype;return A.getTouchAction=function(){return[_c]},A.process=function(g){var t=this,A=this.options,e=g.pointers.length===A.pointers,C=g.distance<A.threshold,I=g.deltaTime>A.time;if(this._input=g,!C||!e||12&g.eventType&&!I)this.reset();else if(1&g.eventType)this.reset(),this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),A.time);else if(4&g.eventType)return 8;return _u},A.reset=function(){clearTimeout(this._timer)},A.emit=function(g){8===this.state&&(g&&4&g.eventType?this.manager.emit(this.options.event+"up",g):(this._input.timeStamp=jc(),this.manager.emit(this.options.event,this._input)))},t}(Xu),Ip={domEvents:!1,touchAction:Qc,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ip=[[ep,{enable:!1}],[Ap,{enable:!1},["rotate"]],[tp,{direction:6}],[gp,{direction:6},["swipe"]],[Ju],[Ju,{event:"doubletap",taps:2},["tap"]],[Cp]];function op(g,t){var A,e=g.element;e.style&&(ou(g.options.cssProps,(function(C,I){A=Vc(e.style,I),t?(g.oldCssProps[A]=e.style[A],e.style[A]=C):e.style[A]=g.oldCssProps[A]||""})),t||(g.oldCssProps={}))}var np=function(){function g(g,t){var A,e=this;this.options=Zc({},Ip,t||{}),this.options.inputTarget=this.options.inputTarget||g,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=g,this.input=new((A=this).options.inputClass||($c?Nu:gu?zu:qc?Wu:Lu))(A,vu),this.touchAction=new su(this,this.options.touchAction),op(this,!0),ou(this.options.recognizers,(function(g){var t=e.add(new g[0](g[1]));g[2]&&t.recognizeWith(g[2]),g[3]&&t.requireFailure(g[3])}),this)}var t=g.prototype;return t.set=function(g){return Zc(this.options,g),g.touchAction&&this.touchAction.update(),g.inputTarget&&(this.input.destroy(),this.input.target=g.inputTarget,this.input.init()),this},t.stop=function(g){this.session.stopped=g?2:1},t.recognize=function(g){var t=this.session;if(!t.stopped){var A;this.touchAction.preventDefaults(g);var e=this.recognizers,C=t.curRecognizer;(!C||C&&8&C.state)&&(t.curRecognizer=null,C=null);for(var I=0;I<e.length;)A=e[I],2===t.stopped||C&&A!==C&&!A.canRecognizeWith(C)?A.reset():A.recognize(g),!C&&14&A.state&&(t.curRecognizer=A,C=A),I++}},t.get=function(g){if(g instanceof Xu)return g;for(var t=this.recognizers,A=0;A<t.length;A++)if(t[A].options.event===g)return t[A];return null},t.add=function(g){if(Qu(g,"add",this))return this;var t=this.get(g.options.event);return t&&this.remove(t),this.recognizers.push(g),g.manager=this,this.touchAction.update(),g},t.remove=function(g){if(Qu(g,"remove",this))return this;var t=this.get(g);if(g){var A=this.recognizers,e=xu(A,t);-1!==e&&(A.splice(e,1),this.touchAction.update())}return this},t.on=function(g,t){if(void 0===g||void 0===t)return this;var A=this.handlers;return ou(yu(g),(function(g){A[g]=A[g]||[],A[g].push(t)})),this},t.off=function(g,t){if(void 0===g)return this;var A=this.handlers;return ou(yu(g),(function(g){t?A[g]&&A[g].splice(xu(A[g],t),1):delete A[g]})),this},t.emit=function(g,t){this.options.domEvents&&function(g,t){var A=document.createEvent("Event");A.initEvent(g,!0,!0),A.gesture=t,t.target.dispatchEvent(A)}(g,t);var A=this.handlers[g]&&this.handlers[g].slice();if(A&&A.length){t.type=g,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var e=0;e<A.length;)A[e](t),e++}},t.destroy=function(){this.element&&op(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},g}(),rp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},sp="touchstart",ap="touchstart touchmove touchend touchcancel",dp=function(g){function t(){var A,e=t.prototype;return e.evTarget=sp,e.evWin=ap,(A=g.apply(this,arguments)||this).started=!1,A}return Mc(t,g),t.prototype.handler=function(g){var t=rp[g.type];if(1===t&&(this.started=!0),this.started){var A=hp.call(this,g,t);12&t&&A[0].length-A[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:A[0],changedPointers:A[1],pointerType:tu,srcEvent:g})}},t}(ku);function hp(g,t){var A=Ru(g.touches),e=Ru(g.changedTouches);return 12&t&&(A=Pu(A.concat(e),"identifier",!0)),[A,e]}function lp(g,t,A){var e="DEPRECATED METHOD: "+t+"\n"+A+" AT \n";return function(){var t=new Error("get-stack-trace"),A=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",C=window.console&&(window.console.warn||window.console.log);return C&&C.call(window.console,e,A),g.apply(this,arguments)}}var cp=lp((function(g,t,A){for(var e=Object.keys(t),C=0;C<e.length;)(!A||A&&void 0===g[e[C]])&&(g[e[C]]=t[e[C]]),C++;return g}),"extend","Use `assign`."),up=lp((function(g,t){return cp(g,t,!0)}),"merge","Use `assign`.");function pp(g,t,A){var e,C=t.prototype;(e=g.prototype=Object.create(C)).constructor=g,e._super=C,A&&Zc(e,A)}function fp(g,t){return function(){return g.apply(t,arguments)}}var vp=function(){var g=function(g,t){return void 0===t&&(t={}),new np(g,Pc({recognizers:ip.concat()},t))};return g.VERSION="2.0.17-rc",g.DIRECTION_ALL=30,g.DIRECTION_DOWN=eu,g.DIRECTION_LEFT=2,g.DIRECTION_RIGHT=4,g.DIRECTION_UP=8,g.DIRECTION_HORIZONTAL=6,g.DIRECTION_VERTICAL=Cu,g.DIRECTION_NONE=1,g.DIRECTION_DOWN=eu,g.INPUT_START=1,g.INPUT_MOVE=2,g.INPUT_END=4,g.INPUT_CANCEL=8,g.STATE_POSSIBLE=1,g.STATE_BEGAN=2,g.STATE_CHANGED=4,g.STATE_ENDED=8,g.STATE_RECOGNIZED=8,g.STATE_CANCELLED=16,g.STATE_FAILED=_u,g.Manager=np,g.Input=ku,g.TouchAction=su,g.TouchInput=zu,g.MouseInput=Lu,g.PointerEventInput=Nu,g.TouchMouseInput=Wu,g.SingleTouchInput=dp,g.Recognizer=Xu,g.AttrRecognizer=qu,g.Tap=Ju,g.Pan=gp,g.Swipe=tp,g.Pinch=Ap,g.Rotate=ep,g.Press=Cp,g.on=mu,g.off=bu,g.each=ou,g.merge=up,g.extend=cp,g.bindFn=fp,g.assign=Zc,g.inherit=pp,g.bindFn=fp,g.prefixed=Vc,g.toArray=Ru,g.inArray=xu,g.uniqueArray=Pu,g.splitStr=yu,g.boolOrFn=nu,g.hasParent=au,g.addEventListeners=mu,g.removeEventListeners=bu,g.defaults=Zc({},Ip,{preset:ip}),g}(),yp=vp;function mp(g,t){var A=void 0!==td&&An(g)||g["@@iterator"];if(!A){if(sd(g)||(A=function(g,t){var A;if(!g)return;if("string"==typeof g)return bp(g,t);var e=nd(A=Object.prototype.toString.call(g)).call(A,8,-1);"Object"===e&&g.constructor&&(e=g.constructor.name);if("Map"===e||"Set"===e)return Fo(g);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return bp(g,t)}(g))||t&&g&&"number"==typeof g.length){A&&(g=A);var e=0,C=function(){};return{s:C,n:function(){return e>=g.length?{done:!0}:{done:!1,value:g[e++]}},e:function(g){throw g},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,i=!0,o=!1;return{s:function(){A=A.call(g)},n:function(){var g=A.next();return i=g.done,g},e:function(g){o=!0,I=g},f:function(){try{i||null==A.return||A.return()}finally{if(o)throw I}}}}function bp(g,t){(null==t||t>g.length)&&(t=g.length);for(var A=0,e=new Array(t);A<t;A++)e[A]=g[A];return e}var wp=td("DELETE");function kp(){var g=xp.apply(void 0,arguments);return Op(g),g}function xp(){for(var g=arguments.length,t=new Array(g),A=0;A<g;A++)t[A]=arguments[A];if(t.length<2)return t[0];var e;if(t.length>2)return xp.apply(void 0,od(e=[kp(t[0],t[1])]).call(e,gd(nd(t).call(t,2))));var C,I=t[0],i=t[1],o=mp(rd(i));try{for(o.s();!(C=o.n()).done;){var n=C.value;Object.prototype.propertyIsEnumerable.call(i,n)&&(i[n]===wp?delete I[n]:null===I[n]||null===i[n]||"object"!==$a(I[n])||"object"!==$a(i[n])||sd(I[n])||sd(i[n])?I[n]=Ep(i[n]):I[n]=xp(I[n],i[n]))}}catch(g){o.e(g)}finally{o.f()}return I}function Ep(g){return sd(g)?pd(g).call(g,(function(g){return Ep(g)})):"object"===$a(g)&&null!==g?xp({},g):g}function Op(g){for(var t=0,A=yd(g);t<A.length;t++){var e=A[t];g[e]===wp?delete g[e]:"object"===$a(g[e])&&null!==g[e]&&Op(g[e])}}function Tp(){for(var g=arguments.length,t=new Array(g),A=0;A<g;A++)t[A]=arguments[A];return Dp(t.length?t:[xd()])}function Dp(g){var t=function(){for(var g=Np(),t=g(" "),A=g(" "),e=g(" "),C=0;C<arguments.length;C++)(t-=g(C<0||arguments.length<=C?void 0:arguments[C]))<0&&(t+=1),(A-=g(C<0||arguments.length<=C?void 0:arguments[C]))<0&&(A+=1),(e-=g(C<0||arguments.length<=C?void 0:arguments[C]))<0&&(e+=1);return[t,A,e]}(g),A=Xa(t,3),e=A[0],C=A[1],I=A[2],i=1,o=function(){var g=2091639*e+2.3283064365386963e-10*i;return e=C,C=I,I=g-(i=0|g)};return o.uint32=function(){return 4294967296*o()},o.fract53=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.algorithm="Alea",o.seed=g,o.version="0.9",o}function Np(){var g=4022871197;return function(t){for(var A=t.toString(),e=0;e<A.length;e++){var C=.02519603282416938*(g+=A.charCodeAt(e));C-=g=C>>>0,g=(C*=g)>>>0,g+=4294967296*(C-=g)}return 2.3283064365386963e-10*(g>>>0)}}var Rp="undefined"!=typeof window?window.Hammer||yp:function(){return function(){var g=function(){};return{on:g,off:g,destroy:g,emit:g,get:function(){return{set:g}}}}()};function Pp(g){var t,A=this;this._cleanupQueue=[],this.active=!1,this._dom={container:g,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){A._dom.overlay.parentNode.removeChild(A._dom.overlay)}));var e=Rp(this._dom.overlay);e.on("tap",Me(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push((function(){e.destroy()}));var C=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Sd(C).call(C,(function(g){e.on(g,(function(g){g.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(t){(function(g,t){for(;g;){if(g===t)return!0;g=g.parentNode}return!1})(t.target,g)||A.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",A._onClick)}))),this._escListener=function(g){("key"in g?"Escape"===g.key:27===g.keyCode)&&A.deactivate()}}Ve(Pp.prototype),Pp.current=null,Pp.prototype.destroy=function(){var g,t;this.deactivate();var A,e=mp(Ud(g=hh(t=this._cleanupQueue).call(t,0)).call(g));try{for(e.s();!(A=e.n()).done;){(0,A.value)()}}catch(g){e.e(g)}finally{e.f()}},Pp.prototype.activate=function(){Pp.current&&Pp.current.deactivate(),Pp.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Pp.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Pp.prototype._onTapOverlay=function(g){this.activate(),g.srcEvent.stopPropagation()};var Mp=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Bp=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,zp=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Zp=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Sp(g){if(g)for(;!0===g.hasChildNodes();){var t=g.firstChild;t&&(Sp(t),g.removeChild(t))}}function Fp(g){return g instanceof String||"string"==typeof g}function Gp(g){return"object"===$a(g)&&null!==g}function Lp(g,t,A,e){var C=!1;!0===e&&(C=null===t[A]&&void 0!==g[A]),C?delete g[A]:g[A]=t[A]}function jp(g,t){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var e in g)if(void 0!==t[e])if(null===t[e]||"object"!==$a(t[e]))Lp(g,t,e,A);else{var C=g[e],I=t[e];Gp(C)&&Gp(I)&&jp(C,I,A)}}function Vp(g,t,A){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(sd(A))throw new TypeError("Arrays are not supported by deepExtend");for(var C=0;C<g.length;C++){var I=g[C];if(Object.prototype.hasOwnProperty.call(A,I))if(A[I]&&A[I].constructor===Object)void 0===t[I]&&(t[I]={}),t[I].constructor===Object?Wp(t[I],A[I],!1,e):Lp(t,A,I,e);else{if(sd(A[I]))throw new TypeError("Arrays are not supported by deepExtend");Lp(t,A,I,e)}}return t}function Yp(g,t,A){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(sd(A))throw new TypeError("Arrays are not supported by deepExtend");for(var C in A)if(Object.prototype.hasOwnProperty.call(A,C)&&!zh(g).call(g,C))if(A[C]&&A[C].constructor===Object)void 0===t[C]&&(t[C]={}),t[C].constructor===Object?Wp(t[C],A[C]):Lp(t,A,C,e);else if(sd(A[C])){t[C]=[];for(var I=0;I<A[C].length;I++)t[C].push(A[C][I])}else Lp(t,A,C,e);return t}function Wp(g,t){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var C in t)if(Object.prototype.hasOwnProperty.call(t,C)||!0===A)if("object"===$a(t[C])&&null!==t[C]&&Lh(t[C])===Object.prototype)void 0===g[C]?g[C]=Wp({},t[C],A):"object"===$a(g[C])&&null!==g[C]&&Lh(g[C])===Object.prototype?Wp(g[C],t[C],A):Lp(g,t,C,e);else if(sd(t[C])){var I;g[C]=nd(I=t[C]).call(I)}else Lp(g,t,C,e);return g}function Qp(g,t){var A;return od(A=[]).call(A,gd(g),[t])}function _p(g){return nd(g).call(g)}function Up(g){return g.getBoundingClientRect().top}function Hp(g,t){if(sd(g))for(var A=g.length,e=0;e<A;e++)t(g[e],e,g);else for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&t(g[C],C,g)}function Kp(g){var t;switch(g.length){case 3:case 4:return(t=Bp.exec(g))?{r:wl(t[1]+t[1],16),g:wl(t[2]+t[2],16),b:wl(t[3]+t[3],16)}:null;case 6:case 7:return(t=Mp.exec(g))?{r:wl(t[1],16),g:wl(t[2],16),b:wl(t[3],16)}:null;default:return null}}function Xp(g,t){if(zh(g).call(g,"rgba"))return g;if(zh(g).call(g,"rgb")){var A=g.substr(zl(g).call(g,"(")+1).replace(")","").split(",");return"rgba("+A[0]+","+A[1]+","+A[2]+","+t+")"}var e=Kp(g);return null==e?g:"rgba("+e.r+","+e.g+","+e.b+","+t+")"}function Jp(g,t,A){var e;return"#"+nd(e=((1<<24)+(g<<16)+(t<<8)+A).toString(16)).call(e,1)}function qp(g,t){if(Fp(g)){var A=g;if(ef(A)){var e,C=pd(e=A.substr(4).substr(0,A.length-5).split(",")).call(e,(function(g){return wl(g)}));A=Jp(C[0],C[1],C[2])}if(!0===Af(A)){var I=function(g){var t=Kp(g);if(!t)throw new TypeError("'".concat(g,"' is not a valid color."));return $p(t.r,t.g,t.b)}(A),i={h:I.h,s:.8*I.s,v:Math.min(1,1.02*I.v)},o={h:I.h,s:Math.min(1,1.25*I.s),v:.8*I.v},n=tf(o.h,o.s,o.v),r=tf(i.h,i.s,i.v);return{background:A,border:n,highlight:{background:r,border:n},hover:{background:r,border:n}}}return{background:A,border:A,highlight:{background:A,border:A},hover:{background:A,border:A}}}return t?{background:g.background||t.background,border:g.border||t.border,highlight:Fp(g.highlight)?{border:g.highlight,background:g.highlight}:{background:g.highlight&&g.highlight.background||t.highlight.background,border:g.highlight&&g.highlight.border||t.highlight.border},hover:Fp(g.hover)?{border:g.hover,background:g.hover}:{border:g.hover&&g.hover.border||t.hover.border,background:g.hover&&g.hover.background||t.hover.background}}:{background:g.background||void 0,border:g.border||void 0,highlight:Fp(g.highlight)?{border:g.highlight,background:g.highlight}:{background:g.highlight&&g.highlight.background||void 0,border:g.highlight&&g.highlight.border||void 0},hover:Fp(g.hover)?{border:g.hover,background:g.hover}:{border:g.hover&&g.hover.border||void 0,background:g.hover&&g.hover.background||void 0}}}function $p(g,t,A){g/=255,t/=255,A/=255;var e=Math.min(g,Math.min(t,A)),C=Math.max(g,Math.max(t,A));return e===C?{h:0,s:0,v:e}:{h:60*((g===e?3:A===e?1:5)-(g===e?t-A:A===e?g-t:A-g)/(C-e))/360,s:(C-e)/C,v:C}}function gf(g,t,A){var e,C,I,i=Math.floor(6*g),o=6*g-i,n=A*(1-t),r=A*(1-o*t),s=A*(1-(1-o)*t);switch(i%6){case 0:e=A,C=s,I=n;break;case 1:e=r,C=A,I=n;break;case 2:e=n,C=A,I=s;break;case 3:e=n,C=r,I=A;break;case 4:e=s,C=n,I=A;break;case 5:e=A,C=n,I=r}return{r:Math.floor(255*e),g:Math.floor(255*C),b:Math.floor(255*I)}}function tf(g,t,A){var e=gf(g,t,A);return Jp(e.r,e.g,e.b)}function Af(g){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(g)}function ef(g){return zp.test(g)}function Cf(g){return Zp.test(g)}function If(g){if(null===g||"object"!==$a(g))return null;if(g instanceof Element)return g;var t=Vl(g);for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&"object"==$a(g[A])&&(t[A]=If(g[A]));return t}function of(g,t,A){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},C=function(g){return null!=g},I=function(g){return null!==g&&"object"===$a(g)},i=function(g){for(var t in g)if(Object.prototype.hasOwnProperty.call(g,t))return!1;return!0};if(!I(g))throw new Error("Parameter mergeTarget must be an object");if(!I(t))throw new Error("Parameter options must be an object");if(!C(A))throw new Error("Parameter option must have a value");if(!I(e))throw new Error("Parameter globalOptions must be an object");var o=function(g,t,A){I(g[A])||(g[A]={});var e=t[A],C=g[A];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(C[i]=e[i])},n=t[A],r=I(e)&&!i(e),s=r?e[A]:void 0,a=s?s.enabled:void 0;if(void 0!==n){if("boolean"==typeof n)return I(g[A])||(g[A]={}),void(g[A].enabled=n);if(null===n&&!I(g[A])){if(!C(s))return;g[A]=Vl(s)}if(I(n)){var d=!0;void 0!==n.enabled?d=n.enabled:void 0!==a&&(d=s.enabled),o(g,t,A),g[A].enabled=d}}}var nf={linear:function(g){return g},easeInQuad:function(g){return g*g},easeOutQuad:function(g){return g*(2-g)},easeInOutQuad:function(g){return g<.5?2*g*g:(4-2*g)*g-1},easeInCubic:function(g){return g*g*g},easeOutCubic:function(g){return--g*g*g+1},easeInOutCubic:function(g){return g<.5?4*g*g*g:(g-1)*(2*g-2)*(2*g-2)+1},easeInQuart:function(g){return g*g*g*g},easeOutQuart:function(g){return 1- --g*g*g*g},easeInOutQuart:function(g){return g<.5?8*g*g*g*g:1-8*--g*g*g*g},easeInQuint:function(g){return g*g*g*g*g},easeOutQuint:function(g){return 1+--g*g*g*g*g},easeInOutQuint:function(g){return g<.5?16*g*g*g*g*g:1+16*--g*g*g*g*g}};function rf(g,t){var A;sd(t)||(t=[t]);var e,C=mp(g);try{for(C.s();!(e=C.n()).done;){var I=e.value;if(I){A=I[t[0]];for(var i=1;i<t.length;i++)A&&(A=A[t[i]]);if(void 0!==A)break}}}catch(g){C.e(g)}finally{C.f()}return A}var sf={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},af=function(){function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Us(this,g),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Xs(g,[{key:"insertTo",value:function(g){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=g,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(g){if("function"!=typeof g)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=g}},{key:"setCloseCallback",value:function(g){if("function"!=typeof g)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=g}},{key:"_isColorString",value:function(g){if("string"==typeof g)return sf[g]}},{key:"setColor",value:function(g){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==g){var A,e=this._isColorString(g);if(void 0!==e&&(g=e),!0===Fp(g)){if(!0===ef(g)){var C=g.substr(4).substr(0,g.length-5).split(",");A={r:C[0],g:C[1],b:C[2],a:1}}else if(!0===Cf(g)){var I=g.substr(5).substr(0,g.length-6).split(",");A={r:I[0],g:I[1],b:I[2],a:I[3]}}else if(!0===Af(g)){var i=Kp(g);A={r:i.r,g:i.g,b:i.b,a:1}}}else if(g instanceof Object&&void 0!==g.r&&void 0!==g.g&&void 0!==g.b){var o=void 0!==g.a?g.a:"1.0";A={r:g.r,g:g.g,b:g.b,a:o}}if(void 0===A)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+rc(g));this._setColor(A,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var g=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=ae({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",yc((function(){void 0!==g.closeCallback&&(g.closeCallback(),g.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(g){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===t&&(this.initialColor=ae({},g)),this.color=g;var A=$p(g.r,g.g,g.b),e=2*Math.PI,C=this.r*A.s,I=this.centerCoordinates.x+C*Math.sin(e*A.h),i=this.centerCoordinates.y+C*Math.cos(e*A.h);this.colorPickerSelector.style.left=I-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=i-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(g)}},{key:"_setOpacity",value:function(g){this.color.a=g/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(g){var t=$p(this.color.r,this.color.g,this.color.b);t.v=g/100;var A=gf(t.h,t.s,t.v);A.a=this.color.a,this.color=A,this._updatePicker()}},{key:"_updatePicker",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=$p(g.r,g.g,g.b),A=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(A.webkitBackingStorePixelRatio||A.mozBackingStorePixelRatio||A.msBackingStorePixelRatio||A.oBackingStorePixelRatio||A.backingStorePixelRatio||1)),A.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,C=this.colorPickerCanvas.clientHeight;A.clearRect(0,0,e,C),A.putImageData(this.hueCircle,0,0),A.fillStyle="rgba(0,0,0,"+(1-t.v)+")",A.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Rc(A).call(A),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*g.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var g,t,A,e;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var C=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var I=document.createElement("DIV");I.style.color="red",I.style.fontWeight="bold",I.style.padding="10px",I.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(I)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(g){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(g){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Me(g=this._hide).call(g,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Me(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Me(A=this._save).call(A,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Me(e=this._loadLast).call(e,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var g=this;this.drag={},this.pinch={},this.hammer=new Rp(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(t){t.isFirst&&g._moveSelector(t)})),this.hammer.on("tap",(function(t){g._moveSelector(t)})),this.hammer.on("panstart",(function(t){g._moveSelector(t)})),this.hammer.on("panmove",(function(t){g._moveSelector(t)})),this.hammer.on("panend",(function(t){g._moveSelector(t)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var g=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1)),g.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,A,e,C,I=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;g.clearRect(0,0,I,i),this.centerCoordinates={x:.5*I,y:.5*i},this.r=.49*I;var o,n=2*Math.PI/360,r=1/this.r;for(e=0;e<360;e++)for(C=0;C<this.r;C++)t=this.centerCoordinates.x+C*Math.sin(n*e),A=this.centerCoordinates.y+C*Math.cos(n*e),o=gf(.002777777777777778*e,C*r,1),g.fillStyle="rgb("+o.r+","+o.g+","+o.b+")",g.fillRect(t-.5,A-.5,2,2);g.strokeStyle="rgba(0,0,0,1)",g.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),g.stroke(),this.hueCircle=g.getImageData(0,0,I,i)}this.generated=!0}},{key:"_moveSelector",value:function(g){var t=this.colorPickerDiv.getBoundingClientRect(),A=g.center.x-t.left,e=g.center.y-t.top,C=.5*this.colorPickerDiv.clientHeight,I=.5*this.colorPickerDiv.clientWidth,i=A-I,o=e-C,n=Math.atan2(i,o),r=.98*Math.min(Math.sqrt(i*i+o*o),I),s=Math.cos(n)*r+C,a=Math.sin(n)*r+I;this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px";var d=n/(2*Math.PI);d=d<0?d+1:d;var h=r/this.r,l=$p(this.color.r,this.color.g,this.color.b);l.h=d,l.s=h;var c=gf(l.h,l.s,l.v);c.a=this.color.a,this.color=c,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),g}();function df(){for(var g=arguments.length,t=new Array(g),A=0;A<g;A++)t[A]=arguments[A];if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);var e=document.createElement(t[0]);return e.appendChild(df.apply(void 0,gd(nd(t).call(t,1)))),e}var hf,lf=function(){function g(t,A,e){var C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,I=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Us(this,g),this.parent=t,this.changedOptions=[],this.container=A,this.allowCreation=!1,this.hideOption=I,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ae(this.options,this.defaultOptions),this.configureOptions=e,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new af(C),this.wrapper=void 0}return Xs(g,[{key:"setOptions",value:function(g){if(void 0!==g){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof g)this.options.filter=g;else if(sd(g))this.options.filter=g.join();else if("object"===$a(g)){if(null==g)throw new TypeError("options cannot be null");void 0!==g.container&&(this.options.container=g.container),void 0!==Uh(g)&&(this.options.filter=Uh(g)),void 0!==g.showButton&&(this.options.showButton=g.showButton),void 0!==g.enabled&&(t=g.enabled)}else"boolean"==typeof g?(this.options.filter=!0,t=g):"function"==typeof g&&(this.options.filter=g,t=!0);!1===Uh(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(g){this.moduleOptions=g,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var g=Uh(this.options),t=0,A=!1;for(var e in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,e)&&(this.allowCreation=!1,A=!1,"function"==typeof g?A=(A=g(e,[]))||this._handleObject(this.configureOptions[e],[e],!0):!0!==g&&-1===zl(g).call(g,e)||(A=!0),!1!==A&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(e),this._handleObject(this.configureOptions[e],[e])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var g=0;g<this.domElements.length;g++)this.wrapper.appendChild(this.domElements[g]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var g=0;g<this.domElements.length;g++)this.wrapper.removeChild(this.domElements[g]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(g){for(var t=this.moduleOptions,A=0;A<g.length;A++){if(void 0===t[g[A]]){t=void 0;break}t=t[g[A]]}return t}},{key:"_makeItem",value:function(g){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+g.length;for(var A=arguments.length,e=new Array(A>1?A-1:0),C=1;C<A;C++)e[C-1]=arguments[C];return Sd(e).call(e,(function(g){t.appendChild(g)})),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(g){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=g,this._makeItem([],t)}},{key:"_makeLabel",value:function(g,t){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=document.createElement("div");if(e.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===A){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(df("i","b",g))}else e.innerText=g+":";return e}},{key:"_makeDropdown",value:function(g,t,A){var e=document.createElement("select");e.className="vis-configuration vis-config-select";var C=0;void 0!==t&&-1!==zl(g).call(g,t)&&(C=zl(g).call(g,t));for(var I=0;I<g.length;I++){var i=document.createElement("option");i.value=g[I],I===C&&(i.selected="selected"),i.innerText=g[I],e.appendChild(i)}var o=this;e.onchange=function(){o._update(this.value,A)};var n=this._makeLabel(A[A.length-1],A);this._makeItem(A,n,e)}},{key:"_makeRange",value:function(g,t,A){var e=g[0],C=g[1],I=g[2],i=g[3],o=document.createElement("input");o.className="vis-configuration vis-config-range";try{o.type="range",o.min=C,o.max=I}catch(g){}o.step=i;var n="",r=0;if(void 0!==t){var s=1.2;t<0&&t*s<C?(o.min=Math.ceil(t*s),r=o.min,n="range increased"):t/s<C&&(o.min=Math.ceil(t/s),r=o.min,n="range increased"),t*s>I&&1!==I&&(o.max=Math.ceil(t*s),r=o.max,n="range increased"),o.value=t}else o.value=e;var a=document.createElement("input");a.className="vis-configuration vis-config-rangeinput",a.value=o.value;var d=this;o.onchange=function(){a.value=this.value,d._update(Number(this.value),A)},o.oninput=function(){a.value=this.value};var h=this._makeLabel(A[A.length-1],A),l=this._makeItem(A,h,o,a);""!==n&&this.popupHistory[l]!==r&&(this.popupHistory[l]=r,this._setupPopup(n,l))}},{key:"_makeButton",value:function(){var g=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){g._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(g,t){var A=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var e=document.createElement("div");e.id="vis-configuration-popup",e.className="vis-configuration-popup",e.innerText=g,e.onclick=function(){A._removePopup()},this.popupCounter+=1,this.popupDiv={html:e,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var g=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=yc((function(){g.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=yc((function(){g._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(g,t,A){var e=document.createElement("input");e.type="checkbox",e.className="vis-configuration vis-config-checkbox",e.checked=g,void 0!==t&&(e.checked=t,t!==g&&("object"===$a(g)?t!==g.enabled&&this.changedOptions.push({path:A,value:t}):this.changedOptions.push({path:A,value:t})));var C=this;e.onchange=function(){C._update(this.checked,A)};var I=this._makeLabel(A[A.length-1],A);this._makeItem(A,I,e)}},{key:"_makeTextInput",value:function(g,t,A){var e=document.createElement("input");e.type="text",e.className="vis-configuration vis-config-text",e.value=t,t!==g&&this.changedOptions.push({path:A,value:t});var C=this;e.onchange=function(){C._update(this.value,A)};var I=this._makeLabel(A[A.length-1],A);this._makeItem(A,I,e)}},{key:"_makeColorField",value:function(g,t,A){var e=this,C=g[1],I=document.createElement("div");"none"!==(t=void 0===t?C:t)?(I.className="vis-configuration vis-config-colorBlock",I.style.backgroundColor=t):I.className="vis-configuration vis-config-colorBlock none",t=void 0===t?C:t,I.onclick=function(){e._showColorPicker(t,I,A)};var i=this._makeLabel(A[A.length-1],A);this._makeItem(A,i,I)}},{key:"_showColorPicker",value:function(g,t,A){var e=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(g),this.colorPicker.setUpdateCallback((function(g){var C="rgba("+g.r+","+g.g+","+g.b+","+g.a+")";t.style.backgroundColor=C,e._update(C,A)})),this.colorPicker.setCloseCallback((function(){t.onclick=function(){e._showColorPicker(g,t,A)}}))}},{key:"_handleObject",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],A=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=!1,C=Uh(this.options),I=!1;for(var i in g)if(Object.prototype.hasOwnProperty.call(g,i)){e=!0;var o=g[i],n=Qp(t,i);if("function"==typeof C&&!1===(e=C(i,t))&&!sd(o)&&"string"!=typeof o&&"boolean"!=typeof o&&o instanceof Object&&(this.allowCreation=!1,e=this._handleObject(o,n,!0),this.allowCreation=!1===A),!1!==e){I=!0;var r=this._getValue(n);if(sd(o))this._handleArray(o,r,n);else if("string"==typeof o)this._makeTextInput(o,r,n);else if("boolean"==typeof o)this._makeCheckbox(o,r,n);else if(o instanceof Object){if(!this.hideOption(t,i,this.moduleOptions))if(void 0!==o.enabled){var s=Qp(n,"enabled"),a=this._getValue(s);if(!0===a){var d=this._makeLabel(i,n,!0);this._makeItem(n,d),I=this._handleObject(o,n)||I}else this._makeCheckbox(o,a,n)}else{var h=this._makeLabel(i,n,!0);this._makeItem(n,h),I=this._handleObject(o,n)||I}}else console.error("dont know how to handle",o,i,n)}}return I}},{key:"_handleArray",value:function(g,t,A){"string"==typeof g[0]&&"color"===g[0]?(this._makeColorField(g,t,A),g[1]!==t&&this.changedOptions.push({path:A,value:t})):"string"==typeof g[0]?(this._makeDropdown(g,t,A),g[0]!==t&&this.changedOptions.push({path:A,value:t})):"number"==typeof g[0]&&(this._makeRange(g,t,A),g[0]!==t&&this.changedOptions.push({path:A,value:Number(t)}))}},{key:"_update",value:function(g,t){var A=this._constructOptions(g,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",A),this.initialized=!0,this.parent.setOptions(A)}},{key:"_constructOptions",value:function(g,t){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=A;g="false"!==(g="true"===g||g)&&g;for(var C=0;C<t.length;C++)"global"!==t[C]&&(void 0===e[t[C]]&&(e[t[C]]={}),C!==t.length-1?e=e[t[C]]:e[t[C]]=g);return A}},{key:"_printOptions",value:function(){for(var g=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(df("pre","const options = "+rc(g,null,2)))}},{key:"getOptions",value:function(){for(var g={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,g);return g}}]),g}(),cf=function(){function g(t,A){Us(this,g),this.container=t,this.overflowMethod=A||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Xs(g,[{key:"setPosition",value:function(g,t){this.x=wl(g),this.y=wl(t)}},{key:"setText",value:function(g){if(g instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(g)}else this.frame.innerText=g}},{key:"show",value:function(g){if(void 0===g&&(g=!0),!0===g){var t=this.frame.clientHeight,A=this.frame.clientWidth,e=this.frame.parentNode.clientHeight,C=this.frame.parentNode.clientWidth,I=0,i=0;if("flip"==this.overflowMethod){var o=!1,n=!0;this.y-t<this.padding&&(n=!1),this.x+A>C-this.padding&&(o=!0),I=o?this.x-A:this.x,i=n?this.y-t:this.y}else(i=this.y-t)+t+this.padding>e&&(i=e-t-this.padding),i<this.padding&&(i=this.padding),(I=this.x)+A+this.padding>C&&(I=C-A-this.padding),I<this.padding&&(I=this.padding);this.frame.style.left=I+"px",this.frame.style.top=i+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),g}(),uf=!1,pf="background: #FFeeee; color: #dd0000",ff=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"validate",value:function(t,A,e){uf=!1,hf=A;var C=A;return void 0!==e&&(C=A[e]),g.parse(t,C,[]),uf}},{key:"parse",value:function(t,A,e){for(var C in t)Object.prototype.hasOwnProperty.call(t,C)&&g.check(C,t,A,e)}},{key:"check",value:function(t,A,e,C){if(void 0!==e[t]||void 0!==e.__any__){var I=t,i=!0;void 0===e[t]&&void 0!==e.__any__&&(I="__any__",i="object"===g.getType(A[t]));var o=e[I];i&&void 0!==o.__type__&&(o=o.__type__),g.checkFields(t,A,e,I,o,C)}else g.getSuggestion(t,e,C)}},{key:"checkFields",value:function(t,A,e,C,I,i){var o=function(A){console.error("%c"+A+g.printLocation(i,t),pf)},n=g.getType(A[t]),r=I[n];void 0!==r?"array"===g.getType(r)&&-1===zl(r).call(r,A[t])?(o('Invalid option detected in "'+t+'". Allowed values are:'+g.print(r)+' not "'+A[t]+'". '),uf=!0):"object"===n&&"__any__"!==C&&(i=Qp(i,t),g.parse(A[t],e[C],i)):void 0===I.any&&(o('Invalid type received for "'+t+'". Expected: '+g.print(yd(I))+". Received ["+n+'] "'+A[t]+'"'),uf=!0)}},{key:"getType",value:function(g){var t=$a(g);return"object"===t?null===g?"null":g instanceof Boolean?"boolean":g instanceof Number?"number":g instanceof String?"string":sd(g)?"array":g instanceof Date?"date":void 0!==g.nodeType?"dom":!0===g._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,A,e){var C,I=g.findInOptions(t,A,e,!1),i=g.findInOptions(t,hf,[],!0);C=void 0!==I.indexMatch?" in "+g.printLocation(I.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+I.indexMatch+'"?\n\n':i.distance<=4&&I.distance>i.distance?" in "+g.printLocation(I.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+g.printLocation(i.path,i.closestMatch,""):I.distance<=8?'. Did you mean "'+I.closestMatch+'"?'+g.printLocation(I.path,t):". Did you mean one of these: "+g.print(yd(A))+g.printLocation(e,t),console.error('%cUnknown option detected: "'+t+'"'+C,pf),uf=!0}},{key:"findInOptions",value:function(t,A,e){var C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],I=1e9,i="",o=[],n=t.toLowerCase(),r=void 0;for(var s in A){var a=void 0;if(void 0!==A[s].__type__&&!0===C){var d=g.findInOptions(t,A[s],Qp(e,s));I>d.distance&&(i=d.closestMatch,o=d.path,I=d.distance,r=d.indexMatch)}else{var h;-1!==zl(h=s.toLowerCase()).call(h,n)&&(r=s),I>(a=g.levenshteinDistance(t,s))&&(i=s,o=_p(e),I=a)}}return{closestMatch:i,path:o,distance:I,indexMatch:r}}},{key:"printLocation",value:function(g,t){for(var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",e="\n\n"+A+"options = {\n",C=0;C<g.length;C++){for(var I=0;I<C+1;I++)e+="  ";e+=g[C]+": {\n"}for(var i=0;i<g.length+1;i++)e+="  ";e+=t+"\n";for(var o=0;o<g.length+1;o++){for(var n=0;n<g.length-o;n++)e+="  ";e+="}\n"}return e+"\n\n"}},{key:"print",value:function(g){return rc(g).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(g,t){if(0===g.length)return t.length;if(0===t.length)return g.length;var A,e,C=[];for(A=0;A<=t.length;A++)C[A]=[A];for(e=0;e<=g.length;e++)C[0][e]=e;for(A=1;A<=t.length;A++)for(e=1;e<=g.length;e++)t.charAt(A-1)==g.charAt(e-1)?C[A][e]=C[A-1][e-1]:C[A][e]=Math.min(C[A-1][e-1]+1,Math.min(C[A][e-1]+1,C[A-1][e]+1));return C[t.length][g.length]}}]),g}(),vf=Pp,yf=lf,mf=Rp,bf=cf,wf=pf,kf=ff;function xf(g){return Mf=g,function(){var g={};Bf=0,void(zf=Mf.charAt(0)),_f(),"strict"===Zf&&(g.strict=!0,_f());"graph"!==Zf&&"digraph"!==Zf||(g.type=Zf,_f());Sf===Nf&&(g.id=Zf,_f());if("{"!=Zf)throw qf("Angle bracket { expected");if(_f(),Uf(g),"}"!=Zf)throw qf("Angle bracket } expected");if(_f(),""!==Zf)throw qf("End of file expected");return _f(),delete g.node,delete g.edge,delete g.graph,g}()}var Ef={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Of=Vl(Ef);Of.color="color.color",Of.style="dashes";var Tf=0,Df=1,Nf=2,Rf=3,Pf={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Mf="",Bf=0,zf="",Zf="",Sf=Tf;function Ff(){Bf++,zf=Mf.charAt(Bf)}function Gf(){return Mf.charAt(Bf+1)}function Lf(g){var t=g.charCodeAt(0);return t<47?35===t||46===t:t<59?t>47:t<91?t>64:t<96?95===t:t<123&&t>96}function jf(g,t){if(g||(g={}),t)for(var A in t)t.hasOwnProperty(A)&&(g[A]=t[A]);return g}function Vf(g,t,A){for(var e=t.split("."),C=g;e.length;){var I=e.shift();e.length?(C[I]||(C[I]={}),C=C[I]):C[I]=A}}function Yf(g,t){for(var A,e,C=null,I=[g],i=g;i.parent;)I.push(i.parent),i=i.parent;if(i.nodes)for(A=0,e=i.nodes.length;A<e;A++)if(t.id===i.nodes[A].id){C=i.nodes[A];break}for(C||(C={id:t.id},g.node&&(C.attr=jf(C.attr,g.node))),A=I.length-1;A>=0;A--){var o,n=I[A];n.nodes||(n.nodes=[]),-1===zl(o=n.nodes).call(o,C)&&n.nodes.push(C)}t.attr&&(C.attr=jf(C.attr,t.attr))}function Wf(g,t){if(g.edges||(g.edges=[]),g.edges.push(t),g.edge){var A=jf({},g.edge);t.attr=jf(A,t.attr)}}function Qf(g,t,A,e,C){var I={from:t,to:A,type:e};return g.edge&&(I.attr=jf({},g.edge)),I.attr=jf(I.attr||{},C),null!=C&&C.hasOwnProperty("arrows")&&null!=C.arrows&&(I.arrows={to:{enabled:!0,type:C.arrows.type}},C.arrows=null),I}function _f(){for(Sf=Tf,Zf="";" "===zf||"\t"===zf||"\n"===zf||"\r"===zf;)Ff();do{var g=!1;if("#"===zf){for(var t=Bf-1;" "===Mf.charAt(t)||"\t"===Mf.charAt(t);)t--;if("\n"===Mf.charAt(t)||""===Mf.charAt(t)){for(;""!=zf&&"\n"!=zf;)Ff();g=!0}}if("/"===zf&&"/"===Gf()){for(;""!=zf&&"\n"!=zf;)Ff();g=!0}if("/"===zf&&"*"===Gf()){for(;""!=zf;){if("*"===zf&&"/"===Gf()){Ff(),Ff();break}Ff()}g=!0}for(;" "===zf||"\t"===zf||"\n"===zf||"\r"===zf;)Ff()}while(g);if(""!==zf){var A=zf+Gf();if(Pf[A])return Sf=Df,Zf=A,Ff(),void Ff();if(Pf[zf])return Sf=Df,Zf=zf,void Ff();if(Lf(zf)||"-"===zf){for(Zf+=zf,Ff();Lf(zf);)Zf+=zf,Ff();return"false"===Zf?Zf=!1:"true"===Zf?Zf=!0:isNaN(Number(Zf))||(Zf=Number(Zf)),void(Sf=Nf)}if('"'===zf){for(Ff();""!=zf&&('"'!=zf||'"'===zf&&'"'===Gf());)'"'===zf?(Zf+=zf,Ff()):"\\"===zf&&"n"===Gf()?(Zf+="\n",Ff()):Zf+=zf,Ff();if('"'!=zf)throw qf('End of string " expected');return Ff(),void(Sf=Nf)}for(Sf=Rf;""!=zf;)Zf+=zf,Ff();throw new SyntaxError('Syntax error in part "'+$f(Zf,30)+'"')}Sf=Df}function Uf(g){for(;""!==Zf&&"}"!=Zf;)Hf(g),";"===Zf&&_f()}function Hf(g){var t=Kf(g);if(t)Xf(g,t);else{var A=function(g){if("node"===Zf)return _f(),g.node=Jf(),"node";if("edge"===Zf)return _f(),g.edge=Jf(),"edge";if("graph"===Zf)return _f(),g.graph=Jf(),"graph";return null}(g);if(!A){if(Sf!=Nf)throw qf("Identifier expected");var e=Zf;if(_f(),"="===Zf){if(_f(),Sf!=Nf)throw qf("Identifier expected");g[e]=Zf,_f()}else!function(g,t){var A={id:t},e=Jf();e&&(A.attr=e);Yf(g,A),Xf(g,t)}(g,e)}}}function Kf(g){var t=null;if("subgraph"===Zf&&((t={}).type="subgraph",_f(),Sf===Nf&&(t.id=Zf,_f())),"{"===Zf){if(_f(),t||(t={}),t.parent=g,t.node=g.node,t.edge=g.edge,t.graph=g.graph,Uf(t),"}"!=Zf)throw qf("Angle bracket } expected");_f(),delete t.node,delete t.edge,delete t.graph,delete t.parent,g.subgraphs||(g.subgraphs=[]),g.subgraphs.push(t)}return t}function Xf(g,t){for(;"->"===Zf||"--"===Zf;){var A,e=Zf;_f();var C=Kf(g);if(C)A=C;else{if(Sf!=Nf)throw qf("Identifier or subgraph expected");Yf(g,{id:A=Zf}),_f()}Wf(g,Qf(g,t,A,e,Jf())),t=A}}function Jf(){for(var g,t,A=null,e={dashed:!0,solid:!1,dotted:[1,5]},C={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},I=new Array,i=new Array;"["===Zf;){for(_f(),A={};""!==Zf&&"]"!=Zf;){if(Sf!=Nf)throw qf("Attribute name expected");var o=Zf;if(_f(),"="!=Zf)throw qf("Equal sign = expected");if(_f(),Sf!=Nf)throw qf("Attribute value expected");var n=Zf;"style"===o&&(n=e[n]),"arrowhead"===o&&(o="arrows",n={to:{enabled:!0,type:C[n]}}),"arrowtail"===o&&(o="arrows",n={from:{enabled:!0,type:C[n]}}),I.push({attr:A,name:o,value:n}),i.push(o),_f(),","==Zf&&_f()}if("]"!=Zf)throw qf("Bracket ] expected");_f()}if(zh(i).call(i,"dir")){var r={arrows:{}};for(g=0;g<I.length;g++)if("arrows"===I[g].name)if(null!=I[g].value.to)r.arrows.to=g;else{if(null==I[g].value.from)throw qf("Invalid value of arrows");r.arrows.from=g}else"dir"===I[g].name&&(r.dir=g);var s,a,d=I[r.dir].value;if(!zh(i).call(i,"arrows"))if("both"===d)I.push({attr:I[r.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),r.arrows.to=I.length-1,I.push({attr:I[r.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),r.arrows.from=I.length-1;else if("forward"===d)I.push({attr:I[r.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),r.arrows.to=I.length-1;else if("back"===d)I.push({attr:I[r.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),r.arrows.from=I.length-1;else{if("none"!==d)throw qf('Invalid dir type "'+d+'"');I.push({attr:I[r.dir].attr,name:"arrows",value:""}),r.arrows.to=I.length-1}if("both"===d)r.arrows.to&&r.arrows.from?(a=I[r.arrows.to].value.to.type,s=I[r.arrows.from].value.from.type,I[r.arrows.to]={attr:I[r.arrows.to].attr,name:I[r.arrows.to].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}},hh(I).call(I,r.arrows.from,1)):r.arrows.to?(a=I[r.arrows.to].value.to.type,s="arrow",I[r.arrows.to]={attr:I[r.arrows.to].attr,name:I[r.arrows.to].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}}):r.arrows.from&&(a="arrow",s=I[r.arrows.from].value.from.type,I[r.arrows.from]={attr:I[r.arrows.from].attr,name:I[r.arrows.from].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}});else if("back"===d)r.arrows.to&&r.arrows.from?(a="",s=I[r.arrows.from].value.from.type,I[r.arrows.from]={attr:I[r.arrows.from].attr,name:I[r.arrows.from].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}}):r.arrows.to?(a="",s="arrow",r.arrows.from=r.arrows.to,I[r.arrows.from]={attr:I[r.arrows.from].attr,name:I[r.arrows.from].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}}):r.arrows.from&&(a="",s=I[r.arrows.from].value.from.type,I[r.arrows.to]={attr:I[r.arrows.from].attr,name:I[r.arrows.from].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}}),I[r.arrows.from]={attr:I[r.arrows.from].attr,name:I[r.arrows.from].name,value:{from:{enabled:!0,type:I[r.arrows.from].value.from.type}}};else if("none"===d){var h;I[h=r.arrows.to?r.arrows.to:r.arrows.from]={attr:I[h].attr,name:I[h].name,value:""}}else{if("forward"!==d)throw qf('Invalid dir type "'+d+'"');r.arrows.to&&r.arrows.from||r.arrows.to?(a=I[r.arrows.to].value.to.type,s="",I[r.arrows.to]={attr:I[r.arrows.to].attr,name:I[r.arrows.to].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}}):r.arrows.from&&(a="arrow",s="",r.arrows.to=r.arrows.from,I[r.arrows.to]={attr:I[r.arrows.to].attr,name:I[r.arrows.to].name,value:{to:{enabled:!0,type:a},from:{enabled:!0,type:s}}}),I[r.arrows.to]={attr:I[r.arrows.to].attr,name:I[r.arrows.to].name,value:{to:{enabled:!0,type:I[r.arrows.to].value.to.type}}}}hh(I).call(I,r.dir,1)}if(zh(i).call(i,"penwidth")){var l=[];for(t=I.length,g=0;g<t;g++)"width"!==I[g].name&&("penwidth"===I[g].name&&(I[g].name="width"),l.push(I[g]));I=l}for(t=I.length,g=0;g<t;g++)Vf(I[g].attr,I[g].name,I[g].value);return A}function qf(g){return new SyntaxError(g+', got "'+$f(Zf,30)+'" (char '+Bf+")")}function $f(g,t){return g.length<=t?g:g.substr(0,27)+"..."}function gv(g,t,A){for(var e=t.split("."),C=e.pop(),I=g,i=0;i<e.length;i++){var o=e[i];o in I||(I[o]={}),I=I[o]}return I[C]=A,g}function tv(g,t){var A={};for(var e in g)if(g.hasOwnProperty(e)){var C=t[e];sd(C)?Sd(C).call(C,(function(t){gv(A,t,g[e])})):gv(A,"string"==typeof C?C:e,g[e])}return A}function Av(g){var t,A=xf(g),e={nodes:[],edges:[],options:{}};A.nodes&&Sd(t=A.nodes).call(t,(function(g){var t={id:g.id,label:String(g.label||g.id)};jf(t,tv(g.attr,Ef)),t.image&&(t.shape="image"),e.nodes.push(t)}));if(A.edges){var C,I=function(g){var t={from:g.from,to:g.to};return jf(t,tv(g.attr,Of)),null==t.arrows&&"->"===g.type&&(t.arrows="to"),t};Sd(C=A.edges).call(C,(function(g){var t,A,C,i,o,n,r;(t=g.from instanceof Object?g.from.nodes:{id:g.from},A=g.to instanceof Object?g.to.nodes:{id:g.to},g.from instanceof Object&&g.from.edges)&&Sd(C=g.from.edges).call(C,(function(g){var t=I(g);e.edges.push(t)}));(o=A,n=function(t,A){var C=Qf(e,t.id,A.id,g.type,g.attr),i=I(C);e.edges.push(i)},sd(i=t)?Sd(i).call(i,(function(g){sd(o)?Sd(o).call(o,(function(t){n(g,t)})):n(g,o)})):sd(o)?Sd(o).call(o,(function(g){n(i,g)})):n(i,o),g.to instanceof Object&&g.to.edges)&&Sd(r=g.to.edges).call(r,(function(g){var t=I(g);e.edges.push(t)}))}))}return A.attr&&(e.options=A.attr),e}var ev=Object.freeze({__proto__:null,parseDOT:xf,DOTToGraph:Av});function Cv(g,t){var A,e={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(e.nodes.fixed=t.fixed),null!=t.parseColor&&(e.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(e.edges.inheritColor=t.inheritColor));var C=g.edges,I=pd(C).call(C,(function(g){var t={from:g.source,id:g.id,to:g.target};return null!=g.attributes&&(t.attributes=g.attributes),null!=g.label&&(t.label=g.label),null!=g.attributes&&null!=g.attributes.title&&(t.title=g.attributes.title),"Directed"===g.type&&(t.arrows="to"),g.color&&!1===e.edges.inheritColor&&(t.color=g.color),t}));return{nodes:pd(A=g.nodes).call(A,(function(g){var t={id:g.id,fixed:e.nodes.fixed&&null!=g.x&&null!=g.y};return null!=g.attributes&&(t.attributes=g.attributes),null!=g.label&&(t.label=g.label),null!=g.size&&(t.size=g.size),null!=g.attributes&&null!=g.attributes.title&&(t.title=g.attributes.title),null!=g.title&&(t.title=g.title),null!=g.x&&(t.x=g.x),null!=g.y&&(t.y=g.y),null!=g.color&&(!0===e.nodes.parseColor?t.color=g.color:t.color={background:g.color,border:g.color,highlight:{background:g.color,border:g.color},hover:{background:g.color,border:g.color}}),t})),edges:I}}var Iv=Object.freeze({__proto__:null,parseGephi:Cv}),iv=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},ru:{addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},cn:{addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},uk:{addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},cs:{addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"}});var ov=function(){function g(){Us(this,g),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Xs(g,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var g=this.image.width,t=this.image.height;this.width=g,this.height=t;var A=Math.floor(t/2),e=Math.floor(t/4),C=Math.floor(t/8),I=Math.floor(t/16),i=Math.floor(g/2),o=Math.floor(g/4),n=Math.floor(g/8),r=Math.floor(g/16);this.canvas.width=3*o,this.canvas.height=A,this.coordinates=[[0,0,i,A],[i,0,o,e],[i,e,n,C],[5*n,e,r,I]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var g=this.canvas.getContext("2d"),t=this.coordinates[0];g.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var A=1;A<this.NUM_ITERATIONS;A++){var e=this.coordinates[A-1],C=this.coordinates[A];g.drawImage(this.canvas,e[0],e[1],e[2],e[3],C[0],C[1],C[2],C[3])}}},{key:"drawImageAtPosition",value:function(g,t,A,e,C,I){if(this.initialized())if(t>2){t*=.5;for(var i=0;t>2&&i<this.NUM_ITERATIONS;)t*=.5,i+=1;i>=this.NUM_ITERATIONS&&(i=this.NUM_ITERATIONS-1);var o=this.coordinates[i];g.drawImage(this.canvas,o[0],o[1],o[2],o[3],A,e,C,I)}else g.drawImage(this.image,A,e,C,I)}}]),g}(),nv=function(){function g(t){Us(this,g),this.images={},this.imageBroken={},this.callback=t}return Xs(g,[{key:"_tryloadBrokenUrl",value:function(g,t,A){void 0!==g&&void 0!==A&&(void 0!==t?(A.image.onerror=function(){console.error("Could not load brokenImage:",t)},A.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(g){this.callback&&this.callback(g)}},{key:"load",value:function(g,t){var A=this,e=this.images[g];if(e)return e;var C=new ov;return this.images[g]=C,C.image.onload=function(){A._fixImageCoordinates(C.image),C.init(),A._redrawWithImage(C)},C.image.onerror=function(){console.error("Could not load image:",g),A._tryloadBrokenUrl(g,t,C)},C.image.src=g,C}},{key:"_fixImageCoordinates",value:function(g){0===g.width&&(document.body.appendChild(g),g.width=g.offsetWidth,g.height=g.offsetHeight,document.body.removeChild(g))}}]),g}(),rv={exports:{}},sv=C((function(){if("function"==typeof ArrayBuffer){var g=new ArrayBuffer(8);Object.isExtensible(g)&&Object.defineProperty(g,"a",{value:8})}})),av=C,dv=_,hv=M,lv=sv,cv=Object.isExtensible,uv=av((function(){cv(1)}))||lv?function(g){return!!dv(g)&&((!lv||"ArrayBuffer"!=hv(g))&&(!cv||cv(g)))}:cv,pv=!C((function(){return Object.isExtensible(Object.preventExtensions({}))})),fv=bA,vv=u,yv=GA,mv=_,bv=Vg,wv=Wt.f,kv=In,xv=rn,Ev=uv,Ov=pv,Tv=!1,Dv=Ug("meta"),Nv=0,Rv=function(g){wv(g,Dv,{value:{objectID:"O"+Nv++,weakData:{}}})},Pv=rv.exports={enable:function(){Pv.enable=function(){},Tv=!0;var g=kv.f,t=vv([].splice),A={};A[Dv]=1,g(A).length&&(kv.f=function(A){for(var e=g(A),C=0,I=e.length;C<I;C++)if(e[C]===Dv){t(e,C,1);break}return e},fv({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:xv.f}))},fastKey:function(g,t){if(!mv(g))return"symbol"==typeof g?g:("string"==typeof g?"S":"P")+g;if(!bv(g,Dv)){if(!Ev(g))return"F";if(!t)return"E";Rv(g)}return g[Dv].objectID},getWeakData:function(g,t){if(!bv(g,Dv)){if(!Ev(g))return!0;if(!t)return!1;Rv(g)}return g[Dv].weakData},onFreeze:function(g){return Ov&&Tv&&Ev(g)&&!bv(g,Dv)&&Rv(g),g}};yv[Dv]=!0;var Mv=Yt,Bv=b,zv=Xt,Zv=vg,Sv=Vi,Fv=MA,Gv=$,Lv=vo,jv=ao,Vv=Zi,Yv=e.TypeError,Wv=function(g,t){this.stopped=g,this.result=t},Qv=Wv.prototype,_v=function(g,t,A){var e,C,I,i,o,n,r,s=A&&A.that,a=!(!A||!A.AS_ENTRIES),d=!(!A||!A.IS_ITERATOR),h=!(!A||!A.INTERRUPTED),l=Mv(t,s),c=function(g){return e&&Vv(e,"normal",g),new Wv(!0,g)},u=function(g){return a?(zv(g),h?l(g[0],g[1],c):l(g[0],g[1])):h?l(g,c):l(g)};if(d)e=g;else{if(!(C=jv(g)))throw Yv(Zv(g)+" is not iterable");if(Sv(C)){for(I=0,i=Fv(g);i>I;I++)if((o=u(g[I]))&&Gv(Qv,o))return o;return new Wv(!1)}e=Lv(g,C)}for(n=e.next;!(r=Bv(n,e)).done;){try{o=u(r.value)}catch(g){Vv(e,"throw",g)}if("object"==typeof o&&o&&Gv(Qv,o))return o}return new Wv(!1)},Uv=$,Hv=e.TypeError,Kv=function(g,t){if(Uv(t,g))return g;throw Hv("Incorrect invocation")},Xv=bA,Jv=e,qv=rv.exports,$v=C,gy=sA,ty=_v,Ay=Kv,ey=p,Cy=_,Iy=KI,iy=Wt.f,oy=Yn.forEach,ny=v,ry=YC.set,sy=YC.getterFor,ay=function(g,t,A){var e,C=-1!==g.indexOf("Map"),I=-1!==g.indexOf("Weak"),i=C?"set":"add",o=Jv[g],n=o&&o.prototype,r={};if(ny&&ey(o)&&(I||n.forEach&&!$v((function(){(new o).entries().next()})))){var s=(e=t((function(t,A){ry(Ay(t,s),{type:g,collection:new o}),null!=A&&ty(A,t[i],{that:t,AS_ENTRIES:C})}))).prototype,a=sy(g);oy(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(g){var t="add"==g||"set"==g;!(g in n)||I&&"clear"==g||gy(s,g,(function(A,e){var C=a(this).collection;if(!t&&I&&!Cy(A))return"get"==g&&void 0;var i=C[g](0===A?0:A,e);return t?this:i}))})),I||iy(s,"size",{configurable:!0,get:function(){return a(this).collection.size}})}else e=A.getConstructor(t,g,C,i),qv.enable();return Iy(e,g,!1,!0),r[g]=e,Xv({global:!0,forced:!0},r),I||A.setStrong(e,g,C),e},dy=RI,hy=function(g,t,A){for(var e in t)A&&A.unsafe&&g[e]?g[e]=t[e]:dy(g,e,t[e],A);return g},ly=q,cy=Wt,uy=v,py=Ct("species"),fy=Wt.f,vy=vI,yy=hy,my=Yt,by=Kv,wy=_v,ky=xi,xy=function(g){var t=ly(g),A=cy.f;uy&&t&&!t[py]&&A(t,py,{configurable:!0,get:function(){return this}})},Ey=v,Oy=rv.exports.fastKey,Ty=YC.set,Dy=YC.getterFor,Ny={getConstructor:function(g,t,A,e){var C=g((function(g,C){by(g,I),Ty(g,{type:t,index:vy(null),first:void 0,last:void 0,size:0}),Ey||(g.size=0),null!=C&&wy(C,g[e],{that:g,AS_ENTRIES:A})})),I=C.prototype,i=Dy(t),o=function(g,t,A){var e,C,I=i(g),o=n(g,t);return o?o.value=A:(I.last=o={index:C=Oy(t,!0),key:t,value:A,previous:e=I.last,next:void 0,removed:!1},I.first||(I.first=o),e&&(e.next=o),Ey?I.size++:g.size++,"F"!==C&&(I.index[C]=o)),g},n=function(g,t){var A,e=i(g),C=Oy(t);if("F"!==C)return e.index[C];for(A=e.first;A;A=A.next)if(A.key==t)return A};return yy(I,{clear:function(){for(var g=i(this),t=g.index,A=g.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=void 0),delete t[A.index],A=A.next;g.first=g.last=void 0,Ey?g.size=0:this.size=0},delete:function(g){var t=this,A=i(t),e=n(t,g);if(e){var C=e.next,I=e.previous;delete A.index[e.index],e.removed=!0,I&&(I.next=C),C&&(C.previous=I),A.first==e&&(A.first=C),A.last==e&&(A.last=I),Ey?A.size--:t.size--}return!!e},forEach:function(g){for(var t,A=i(this),e=my(g,arguments.length>1?arguments[1]:void 0);t=t?t.next:A.first;)for(e(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(g){return!!n(this,g)}}),yy(I,A?{get:function(g){var t=n(this,g);return t&&t.value},set:function(g,t){return o(this,0===g?0:g,t)}}:{add:function(g){return o(this,g=0===g?0:g,g)}}),Ey&&fy(I,"size",{get:function(){return i(this).size}}),C},setStrong:function(g,t,A){var e=t+" Iterator",C=Dy(t),I=Dy(e);ky(g,t,(function(g,t){Ty(this,{type:e,target:g,state:C(g),kind:t,last:void 0})}),(function(){for(var g=I(this),t=g.kind,A=g.last;A&&A.removed;)A=A.previous;return g.target&&(g.last=A=A?A.next:g.state.first)?"keys"==t?{value:A.key,done:!1}:"values"==t?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:(g.target=void 0,{value:void 0,done:!0})}),A?"entries":"values",!A,!0),xy(t)}};ay("Map",(function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}}),Ny);var Ry=U.Map,Py=function(){function g(){Us(this,g),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},ae(this.options,this.defaultOptions)}return Xs(g,[{key:"setOptions",value:function(g){var t=["useDefaultGroups"];if(void 0!==g)for(var A in g)if(Object.prototype.hasOwnProperty.call(g,A)&&-1===zl(t).call(t,A)){var e=g[A];this.add(A,e)}}},{key:"clear",value:function(){this._groups=new Ry,this._groupNames=[]}},{key:"get",value:function(g){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],A=this._groups.get(g);if(void 0===A&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var e=this._groupIndex%this._groupNames.length;++this._groupIndex,(A={}).color=this._groups.get(this._groupNames[e]),this._groups.set(g,A)}else{var C=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(A={}).color=this._defaultGroups[C],this._groups.set(g,A)}return A}},{key:"add",value:function(g,t){return this._groups.has(g)||this._groupNames.push(g),this._groups.set(g,t),t}}]),g}();bA({target:"Number",stat:!0},{isNaN:function(g){return g!=g}});var My=U.Number.isNaN,By=e.isFinite,zy=Number.isFinite||function(g){return"number"==typeof g&&By(g)};bA({target:"Number",stat:!0},{isFinite:zy});var Zy=U.Number.isFinite,Sy=Yn.some;bA({target:"Array",proto:!0,forced:!Od("some")},{some:function(g){return Sy(this,g,arguments.length>1?arguments[1]:void 0)}});var Fy=Oe("Array").some,Gy=$,Ly=Fy,jy=Array.prototype,Vy=function(g){var t=g.some;return g===jy||Gy(jy,g)&&t===jy.some?Ly:t},Yy=Vy,Wy=Ao,Qy=vg,_y=e.TypeError,Uy=bA,Hy=s,Ky=ke,Xy=function(g){if(Wy(g))return g;throw _y(Qy(g)+" is not a constructor")},Jy=Xt,qy=_,$y=vI,gm=C,tm=q("Reflect","construct"),Am=Object.prototype,em=[].push,Cm=gm((function(){function g(){}return!(tm((function(){}),[],g)instanceof g)})),Im=!gm((function(){tm((function(){}))})),im=Cm||Im;Uy({target:"Reflect",stat:!0,forced:im,sham:im},{construct:function(g,t){Xy(g),Jy(t);var A=arguments.length<3?g:Xy(arguments[2]);if(Im&&!Cm)return tm(g,t,A);if(g==A){switch(t.length){case 0:return new g;case 1:return new g(t[0]);case 2:return new g(t[0],t[1]);case 3:return new g(t[0],t[1],t[2]);case 4:return new g(t[0],t[1],t[2],t[3])}var e=[null];return Hy(em,e,t),new(Hy(Ky,g,e))}var C=A.prototype,I=$y(qy(C)?C:Am),i=Hy(g,I,t);return qy(i)?i:I}});var om=U.Reflect.construct;function nm(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}var rm=jl;bA({target:"Object",stat:!0},{setPrototypeOf:si});var sm=U.Object.setPrototypeOf;function am(g,t){return am=sm||function(g,t){return g.__proto__=t,g},am(g,t)}function dm(g,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");g.prototype=rm(t&&t.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Hs(g,"prototype",{writable:!1}),t&&am(g,t)}function hm(g,t){if(t&&("object"===$a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nm(g)}var lm=Gh;function cm(g){return cm=sm?lm:function(g){return g.__proto__||lm(g)},cm(g)}var um={exports:{}};!function(g){var t=function(g){var t,A=Object.prototype,e=A.hasOwnProperty,C="function"==typeof Symbol?Symbol:{},I=C.iterator||"@@iterator",i=C.asyncIterator||"@@asyncIterator",o=C.toStringTag||"@@toStringTag";function n(g,t,A){return Object.defineProperty(g,t,{value:A,enumerable:!0,configurable:!0,writable:!0}),g[t]}try{n({},"")}catch(g){n=function(g,t,A){return g[t]=A}}function r(g,t,A,e){var C=t&&t.prototype instanceof u?t:u,I=Object.create(C.prototype),i=new T(e||[]);return I._invoke=function(g,t,A){var e=a;return function(C,I){if(e===h)throw new Error("Generator is already running");if(e===l){if("throw"===C)throw I;return N()}for(A.method=C,A.arg=I;;){var i=A.delegate;if(i){var o=x(i,A);if(o){if(o===c)continue;return o}}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(e===a)throw e=l,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);e=h;var n=s(g,t,A);if("normal"===n.type){if(e=A.done?l:d,n.arg===c)continue;return{value:n.arg,done:A.done}}"throw"===n.type&&(e=l,A.method="throw",A.arg=n.arg)}}}(g,A,i),I}function s(g,t,A){try{return{type:"normal",arg:g.call(t,A)}}catch(g){return{type:"throw",arg:g}}}g.wrap=r;var a="suspendedStart",d="suspendedYield",h="executing",l="completed",c={};function u(){}function p(){}function f(){}var v={};n(v,I,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(D([])));m&&m!==A&&e.call(m,I)&&(v=m);var b=f.prototype=u.prototype=Object.create(v);function w(g){["next","throw","return"].forEach((function(t){n(g,t,(function(g){return this._invoke(t,g)}))}))}function k(g,t){function A(C,I,i,o){var n=s(g[C],g,I);if("throw"!==n.type){var r=n.arg,a=r.value;return a&&"object"==typeof a&&e.call(a,"__await")?t.resolve(a.__await).then((function(g){A("next",g,i,o)}),(function(g){A("throw",g,i,o)})):t.resolve(a).then((function(g){r.value=g,i(r)}),(function(g){return A("throw",g,i,o)}))}o(n.arg)}var C;this._invoke=function(g,e){function I(){return new t((function(t,C){A(g,e,t,C)}))}return C=C?C.then(I,I):I()}}function x(g,A){var e=g.iterator[A.method];if(e===t){if(A.delegate=null,"throw"===A.method){if(g.iterator.return&&(A.method="return",A.arg=t,x(g,A),"throw"===A.method))return c;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var C=s(e,g.iterator,A.arg);if("throw"===C.type)return A.method="throw",A.arg=C.arg,A.delegate=null,c;var I=C.arg;return I?I.done?(A[g.resultName]=I.value,A.next=g.nextLoc,"return"!==A.method&&(A.method="next",A.arg=t),A.delegate=null,c):I:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,c)}function E(g){var t={tryLoc:g[0]};1 in g&&(t.catchLoc=g[1]),2 in g&&(t.finallyLoc=g[2],t.afterLoc=g[3]),this.tryEntries.push(t)}function O(g){var t=g.completion||{};t.type="normal",delete t.arg,g.completion=t}function T(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(E,this),this.reset(!0)}function D(g){if(g){var A=g[I];if(A)return A.call(g);if("function"==typeof g.next)return g;if(!isNaN(g.length)){var C=-1,i=function A(){for(;++C<g.length;)if(e.call(g,C))return A.value=g[C],A.done=!1,A;return A.value=t,A.done=!0,A};return i.next=i}}return{next:N}}function N(){return{value:t,done:!0}}return p.prototype=f,n(b,"constructor",f),n(f,"constructor",p),p.displayName=n(f,o,"GeneratorFunction"),g.isGeneratorFunction=function(g){var t="function"==typeof g&&g.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},g.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,f):(g.__proto__=f,n(g,o,"GeneratorFunction")),g.prototype=Object.create(b),g},g.awrap=function(g){return{__await:g}},w(k.prototype),n(k.prototype,i,(function(){return this})),g.AsyncIterator=k,g.async=function(t,A,e,C,I){void 0===I&&(I=Promise);var i=new k(r(t,A,e,C),I);return g.isGeneratorFunction(A)?i:i.next().then((function(g){return g.done?g.value:i.next()}))},w(b),n(b,o,"Generator"),n(b,I,(function(){return this})),n(b,"toString",(function(){return"[object Generator]"})),g.keys=function(g){var t=[];for(var A in g)t.push(A);return t.reverse(),function A(){for(;t.length;){var e=t.pop();if(e in g)return A.value=e,A.done=!1,A}return A.done=!0,A}},g.values=D,T.prototype={constructor:T,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!g)for(var A in this)"t"===A.charAt(0)&&e.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=t)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if("throw"===g.type)throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var A=this;function C(e,C){return o.type="throw",o.arg=g,A.next=e,C&&(A.method="next",A.arg=t),!!C}for(var I=this.tryEntries.length-1;I>=0;--I){var i=this.tryEntries[I],o=i.completion;if("root"===i.tryLoc)return C("end");if(i.tryLoc<=this.prev){var n=e.call(i,"catchLoc"),r=e.call(i,"finallyLoc");if(n&&r){if(this.prev<i.catchLoc)return C(i.catchLoc,!0);if(this.prev<i.finallyLoc)return C(i.finallyLoc)}else if(n){if(this.prev<i.catchLoc)return C(i.catchLoc,!0)}else{if(!r)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return C(i.finallyLoc)}}}},abrupt:function(g,t){for(var A=this.tryEntries.length-1;A>=0;--A){var C=this.tryEntries[A];if(C.tryLoc<=this.prev&&e.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var I=C;break}}I&&("break"===g||"continue"===g)&&I.tryLoc<=t&&t<=I.finallyLoc&&(I=null);var i=I?I.completion:{};return i.type=g,i.arg=t,I?(this.method="next",this.next=I.finallyLoc,c):this.complete(i)},complete:function(g,t){if("throw"===g.type)throw g.arg;return"break"===g.type||"continue"===g.type?this.next=g.arg:"return"===g.type?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):"normal"===g.type&&t&&(this.next=t),c},finish:function(g){for(var t=this.tryEntries.length-1;t>=0;--t){var A=this.tryEntries[t];if(A.finallyLoc===g)return this.complete(A.completion,A.afterLoc),O(A),c}},catch:function(g){for(var t=this.tryEntries.length-1;t>=0;--t){var A=this.tryEntries[t];if(A.tryLoc===g){var e=A.completion;if("throw"===e.type){var C=e.arg;O(A)}return C}}throw new Error("illegal catch attempt")},delegateYield:function(g,A,e){return this.delegate={iterator:D(g),resultName:A,nextLoc:e},"next"===this.method&&(this.arg=t),c}},g}(g.exports);try{regeneratorRuntime=t}catch(g){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(um);var pm=um.exports,fm=wg,vm=Gg,ym=G,mm=MA,bm=e.TypeError,wm=function(g){return function(t,A,e,C){fm(A);var I=vm(t),i=ym(I),o=mm(I),n=g?o-1:0,r=g?-1:1;if(e<2)for(;;){if(n in i){C=i[n],n+=r;break}if(n+=r,g?n<0:o<=n)throw bm("Reduce of empty array with no initial value")}for(;g?n>=0:o>n;n+=r)n in i&&(C=A(C,i[n],n,I));return C}},km={left:wm(!1),right:wm(!0)},xm="process"==M(e.process),Em=km.left,Om=og,Tm=xm;bA({target:"Array",proto:!0,forced:!Od("reduce")||!Tm&&Om>79&&Om<83},{reduce:function(g){var t=arguments.length;return Em(this,g,t,t>1?arguments[1]:void 0)}});var Dm=Oe("Array").reduce,Nm=$,Rm=Dm,Pm=Array.prototype,Mm=function(g){var t=g.reduce;return g===Pm||Nm(Pm,g)&&t===Pm.reduce?Rm:t},Bm=Mm,zm=Cn,Zm=MA,Sm=Yt,Fm=e.TypeError,Gm=function(g,t,A,e,C,I,i,o){for(var n,r,s=C,a=0,d=!!i&&Sm(i,o);a<e;){if(a in A){if(n=d?d(A[a],a,t):A[a],I>0&&zm(n))r=Zm(n),s=Gm(g,t,n,r,s,I-1)-1;else{if(s>=9007199254740991)throw Fm("Exceed the acceptable array length");g[s]=n}s++}a++}return s},Lm=Gm,jm=wg,Vm=Gg,Ym=MA,Wm=zn;bA({target:"Array",proto:!0},{flatMap:function(g){var t,A=Vm(this),e=Ym(A);return jm(g),(t=Wm(A,0)).length=Lm(t,A,A,e,0,1,g,arguments.length>1?arguments[1]:void 0),t}});var Qm=Oe("Array").flatMap,_m=$,Um=Qm,Hm=Array.prototype,Km=function(g){var t=g.flatMap;return g===Hm||_m(Hm,g)&&t===Hm.flatMap?Um:t},Xm=Km;ay("Set",(function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}}),Ny);var Jm=U.Set,qm=Ja,$m=vo,gb=cn,tb=Math.floor,Ab=function(g,t){var A=g.length,e=tb(A/2);return A<8?eb(g,t):Cb(g,Ab(gb(g,0,e),t),Ab(gb(g,e),t),t)},eb=function(g,t){for(var A,e,C=g.length,I=1;I<C;){for(e=I,A=g[I];e&&t(g[e-1],A)>0;)g[e]=g[--e];e!==I++&&(g[e]=A)}return g},Cb=function(g,t,A,e){for(var C=t.length,I=A.length,i=0,o=0;i<C||o<I;)g[i+o]=i<C&&o<I?e(t[i],A[o])<=0?t[i++]:A[o++]:i<C?t[i++]:A[o++];return g},Ib=Ab,ib=gg.match(/firefox\/(\d+)/i),ob=!!ib&&+ib[1],nb=/MSIE|Trident/.test(gg),rb=gg.match(/AppleWebKit\/(\d+)\./),sb=!!rb&&+rb[1],ab=bA,db=u,hb=wg,lb=Gg,cb=MA,ub=tC,pb=C,fb=Ib,vb=Od,yb=ob,mb=nb,bb=og,wb=sb,kb=[],xb=db(kb.sort),Eb=db(kb.push),Ob=pb((function(){kb.sort(void 0)})),Tb=pb((function(){kb.sort(null)})),Db=vb("sort"),Nb=!pb((function(){if(bb)return bb<70;if(!(yb&&yb>3)){if(mb)return!0;if(wb)return wb<603;var g,t,A,e,C="";for(g=65;g<76;g++){switch(t=String.fromCharCode(g),g){case 66:case 69:case 70:case 72:A=3;break;case 68:case 71:A=4;break;default:A=2}for(e=0;e<47;e++)kb.push({k:t+e,v:A})}for(kb.sort((function(g,t){return t.v-g.v})),e=0;e<kb.length;e++)t=kb[e].k.charAt(0),C.charAt(C.length-1)!==t&&(C+=t);return"DGBEFHACIJK"!==C}}));ab({target:"Array",proto:!0,forced:Ob||!Tb||!Db||!Nb},{sort:function(g){void 0!==g&&hb(g);var t=lb(this);if(Nb)return void 0===g?xb(t):xb(t,g);var A,e,C=[],I=cb(t);for(e=0;e<I;e++)e in t&&Eb(C,t[e]);for(fb(C,function(g){return function(t,A){return void 0===A?-1:void 0===t?1:void 0!==g?+g(t,A)||0:ub(t)>ub(A)?1:-1}}(g)),A=C.length,e=0;e<A;)t[e]=C[e++];for(;e<I;)delete t[e++];return t}});var Rb,Pb=Oe("Array").sort,Mb=$,Bb=Pb,zb=Array.prototype,Zb=function(g){var t=g.sort;return g===zb||Mb(zb,g)&&t===zb.sort?Bb:t},Sb=Zb,Fb=Oe("Array").keys,Gb=qe,Lb=Vg,jb=$,Vb=Fb,Yb=Array.prototype,Wb={DOMTokenList:!0,NodeList:!0},Qb=function(g){var t=g.keys;return g===Yb||jb(Yb,g)&&t===Yb.keys||Lb(Wb,Gb(g))?Vb:t},_b=Oe("Array").values,Ub=qe,Hb=Vg,Kb=$,Xb=_b,Jb=Array.prototype,qb={DOMTokenList:!0,NodeList:!0},$b=function(g){var t=g.values;return g===Jb||Kb(Jb,g)&&t===Jb.values||Hb(qb,Ub(g))?Xb:t},gw=Oe("Array").entries,tw=qe,Aw=Vg,ew=$,Cw=gw,Iw=Array.prototype,iw={DOMTokenList:!0,NodeList:!0},ow=function(g){var t=g.entries;return g===Iw||ew(Iw,g)&&t===Iw.entries||Aw(iw,tw(g))?Cw:t},nw=new Uint8Array(16);function rw(){if(!Rb&&!(Rb="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rb(nw)}var sw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function aw(g){return"string"==typeof g&&sw.test(g)}for(var dw,hw=[],lw=0;lw<256;++lw)hw.push((lw+256).toString(16).substr(1));function cw(g,t,A){var e=(g=g||{}).random||(g.rng||rw)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,t){A=A||0;for(var C=0;C<16;++C)t[A+C]=e[C];return t}return function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=(hw[g[t+0]]+hw[g[t+1]]+hw[g[t+2]]+hw[g[t+3]]+"-"+hw[g[t+4]]+hw[g[t+5]]+"-"+hw[g[t+6]]+hw[g[t+7]]+"-"+hw[g[t+8]]+hw[g[t+9]]+"-"+hw[g[t+10]]+hw[g[t+11]]+hw[g[t+12]]+hw[g[t+13]]+hw[g[t+14]]+hw[g[t+15]]).toLowerCase();if(!aw(A))throw TypeError("Stringified UUID is invalid");return A}(e)}function uw(g,t){var A=yd(g);if(rs){var e=rs(g);t&&(e=Uh(e).call(e,(function(t){return ys(g,t).enumerable}))),A.push.apply(A,e)}return A}function pw(g){for(var t=1;t<arguments.length;t++){var A,e,C=null!=arguments[t]?arguments[t]:{};t%2?Sd(A=uw(Object(C),!0)).call(A,(function(t){Js(g,t,C[t])})):Rs?Fs(g,Rs(C)):Sd(e=uw(Object(C))).call(e,(function(t){_s(g,t,ys(C,t))}))}return g}function fw(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}function vw(g,t){var A=void 0!==td&&An(g)||g["@@iterator"];if(!A){if(sd(g)||(A=function(g,t){var A;if(!g)return;if("string"==typeof g)return yw(g,t);var e=nd(A=Object.prototype.toString.call(g)).call(A,8,-1);"Object"===e&&g.constructor&&(e=g.constructor.name);if("Map"===e||"Set"===e)return Fo(g);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return yw(g,t)}(g))||t&&g&&"number"==typeof g.length){A&&(g=A);var e=0,C=function(){};return{s:C,n:function(){return e>=g.length?{done:!0}:{done:!1,value:g[e++]}},e:function(g){throw g},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,i=!0,o=!1;return{s:function(){A=A.call(g)},n:function(){var g=A.next();return i=g.done,g},e:function(g){o=!0,I=g},f:function(){try{i||null==A.return||A.return()}finally{if(o)throw I}}}}function yw(g,t){(null==t||t>g.length)&&(t=g.length);for(var A=0,e=new Array(t);A<t;A++)e[A]=g[A];return e}var mw=function(){function g(t,A,e){var C,I,i;Us(this,g),Js(this,"_source",void 0),Js(this,"_transformers",void 0),Js(this,"_target",void 0),Js(this,"_listeners",{add:Me(C=this._add).call(C,this),remove:Me(I=this._remove).call(I,this),update:Me(i=this._update).call(i,this)}),this._source=t,this._transformers=A,this._target=e}return Xs(g,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(g){var t;return Bm(t=this._transformers).call(t,(function(g,t){return t(g)}),g)}},{key:"_add",value:function(g,t){null!=t&&this._target.add(this._transformItems(this._source.get(t.items)))}},{key:"_update",value:function(g,t){null!=t&&this._target.update(this._transformItems(this._source.get(t.items)))}},{key:"_remove",value:function(g,t){null!=t&&this._target.remove(this._transformItems(t.oldData))}}]),g}(),bw=function(){function g(t){Us(this,g),Js(this,"_source",void 0),Js(this,"_transformers",[]),this._source=t}return Xs(g,[{key:"filter",value:function(g){return this._transformers.push((function(t){return Uh(t).call(t,g)})),this}},{key:"map",value:function(g){return this._transformers.push((function(t){return pd(t).call(t,g)})),this}},{key:"flatMap",value:function(g){return this._transformers.push((function(t){return Xm(t).call(t,g)})),this}},{key:"to",value:function(g){return new mw(this._source,this._transformers,g)}}]),g}();function ww(g){return"string"==typeof g||"number"==typeof g}var kw=function(){function g(t){Us(this,g),Js(this,"delay",void 0),Js(this,"max",void 0),Js(this,"_queue",[]),Js(this,"_timeout",null),Js(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return Xs(g,[{key:"setOptions",value:function(g){g&&void 0!==g.delay&&(this.delay=g.delay),g&&void 0!==g.max&&(this.max=g.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var g=this._extended.object,t=this._extended.methods,A=0;A<t.length;A++){var e=t[A];e.original?g[e.name]=e.original:delete g[e.name]}this._extended=null}}},{key:"replace",value:function(g,t){var A=this,e=g[t];if(!e)throw new Error("Method "+t+" undefined");g[t]=function(){for(var g=arguments.length,t=new Array(g),C=0;C<g;C++)t[C]=arguments[C];A.queue({args:t,fn:e,context:this})}}},{key:"queue",value:function(g){"function"==typeof g?this._queue.push({fn:g}):this._queue.push(g),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var g=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=yc((function(){g.flush()}),this.delay))}},{key:"flush",value:function(){var g,t;Sd(g=hh(t=this._queue).call(t,0)).call(g,(function(g){g.fn.apply(g.context||g.fn,g.args||[])}))}}],[{key:"extend",value:function(t,A){var e=new g(A);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){e.flush()};var C=[{name:"flush",original:void 0}];if(A&&A.replace)for(var I=0;I<A.replace.length;I++){var i=A.replace[I];C.push({name:i,original:t[i]}),e.replace(t,i)}return e._extended={object:t,methods:C},e}}]),g}(),xw=function(){function g(){Us(this,g),Js(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Js(this,"subscribe",g.prototype.on),Js(this,"unsubscribe",g.prototype.off)}return Xs(g,[{key:"_trigger",value:function(g,t,A){var e,C;if("*"===g)throw new Error("Cannot trigger event *");Sd(e=od(C=[]).call(C,gd(this._subscribers[g]),gd(this._subscribers["*"]))).call(e,(function(e){e(g,t,null!=A?A:null)}))}},{key:"on",value:function(g,t){"function"==typeof t&&this._subscribers[g].push(t)}},{key:"off",value:function(g,t){var A;this._subscribers[g]=Uh(A=this._subscribers[g]).call(A,(function(g){return g!==t}))}}]),g}();dw=qm;var Ew=function(){function g(t){Us(this,g),Js(this,"_pairs",void 0),this._pairs=t}return Xs(g,[{key:dw,value:pm.mark((function g(){var t,A,e,C,I;return pm.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:t=vw(this._pairs),g.prev=1,t.s();case 3:if((A=t.n()).done){g.next=9;break}return e=Xa(A.value,2),C=e[0],I=e[1],g.next=7,[C,I];case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),t.e(g.t0);case 14:return g.prev=14,t.f(),g.finish(14);case 17:case"end":return g.stop()}}),g,this,[[1,11,14,17]])}))},{key:"entries",value:pm.mark((function g(){var t,A,e,C,I;return pm.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:t=vw(this._pairs),g.prev=1,t.s();case 3:if((A=t.n()).done){g.next=9;break}return e=Xa(A.value,2),C=e[0],I=e[1],g.next=7,[C,I];case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),t.e(g.t0);case 14:return g.prev=14,t.f(),g.finish(14);case 17:case"end":return g.stop()}}),g,this,[[1,11,14,17]])}))},{key:"keys",value:pm.mark((function g(){var t,A,e,C;return pm.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:t=vw(this._pairs),g.prev=1,t.s();case 3:if((A=t.n()).done){g.next=9;break}return e=Xa(A.value,1),C=e[0],g.next=7,C;case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),t.e(g.t0);case 14:return g.prev=14,t.f(),g.finish(14);case 17:case"end":return g.stop()}}),g,this,[[1,11,14,17]])}))},{key:"values",value:pm.mark((function g(){var t,A,e,C;return pm.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:t=vw(this._pairs),g.prev=1,t.s();case 3:if((A=t.n()).done){g.next=9;break}return e=Xa(A.value,2),C=e[1],g.next=7,C;case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),t.e(g.t0);case 14:return g.prev=14,t.f(),g.finish(14);case 17:case"end":return g.stop()}}),g,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var g;return pd(g=gd(this._pairs)).call(g,(function(g){return g[0]}))}},{key:"toItemArray",value:function(){var g;return pd(g=gd(this._pairs)).call(g,(function(g){return g[1]}))}},{key:"toEntryArray",value:function(){return gd(this._pairs)}},{key:"toObjectMap",value:function(){var g,t=Vl(null),A=vw(this._pairs);try{for(A.s();!(g=A.n()).done;){var e=Xa(g.value,2),C=e[0],I=e[1];t[C]=I}}catch(g){A.e(g)}finally{A.f()}return t}},{key:"toMap",value:function(){return new Ry(this._pairs)}},{key:"toIdSet",value:function(){return new Jm(this.toIdArray())}},{key:"toItemSet",value:function(){return new Jm(this.toItemArray())}},{key:"cache",value:function(){return new g(gd(this._pairs))}},{key:"distinct",value:function(g){var t,A=new Jm,e=vw(this._pairs);try{for(e.s();!(t=e.n()).done;){var C=Xa(t.value,2),I=C[0],i=C[1];A.add(g(i,I))}}catch(g){e.e(g)}finally{e.f()}return A}},{key:"filter",value:function(t){var A=this._pairs;return new g(Js({},qm,pm.mark((function g(){var e,C,I,i,o;return pm.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:e=vw(A),g.prev=1,e.s();case 3:if((C=e.n()).done){g.next=10;break}if(I=Xa(C.value,2),i=I[0],o=I[1],!t(o,i)){g.next=8;break}return g.next=8,[i,o];case 8:g.next=3;break;case 10:g.next=15;break;case 12:g.prev=12,g.t0=g.catch(1),e.e(g.t0);case 15:return g.prev=15,e.f(),g.finish(15);case 18:case"end":return g.stop()}}),g,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(g){var t,A=vw(this._pairs);try{for(A.s();!(t=A.n()).done;){var e=Xa(t.value,2),C=e[0];g(e[1],C)}}catch(g){A.e(g)}finally{A.f()}}},{key:"map",value:function(t){var A=this._pairs;return new g(Js({},qm,pm.mark((function g(){var e,C,I,i,o;return pm.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:e=vw(A),g.prev=1,e.s();case 3:if((C=e.n()).done){g.next=9;break}return I=Xa(C.value,2),i=I[0],o=I[1],g.next=7,[i,t(o,i)];case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),e.e(g.t0);case 14:return g.prev=14,e.f(),g.finish(14);case 17:case"end":return g.stop()}}),g,null,[[1,11,14,17]])}))))}},{key:"max",value:function(g){var t=$m(this._pairs),A=t.next();if(A.done)return null;for(var e=A.value[1],C=g(A.value[1],A.value[0]);!(A=t.next()).done;){var I=Xa(A.value,2),i=I[0],o=I[1],n=g(o,i);n>C&&(C=n,e=o)}return e}},{key:"min",value:function(g){var t=$m(this._pairs),A=t.next();if(A.done)return null;for(var e=A.value[1],C=g(A.value[1],A.value[0]);!(A=t.next()).done;){var I=Xa(A.value,2),i=I[0],o=I[1],n=g(o,i);n<C&&(C=n,e=o)}return e}},{key:"reduce",value:function(g,t){var A,e=vw(this._pairs);try{for(e.s();!(A=e.n()).done;){var C=Xa(A.value,2),I=C[0];t=g(t,C[1],I)}}catch(g){e.e(g)}finally{e.f()}return t}},{key:"sort",value:function(t){var A=this;return new g(Js({},qm,(function(){var g;return $m(Sb(g=gd(A._pairs)).call(g,(function(g,A){var e=Xa(g,2),C=e[0],I=e[1],i=Xa(A,2),o=i[0],n=i[1];return t(I,n,C,o)})))})))}}]),g}();var Ow=function(g){dm(A,g);var t=fw(A);function A(g,e){var C;return Us(this,A),Js(nm(C=t.call(this)),"flush",void 0),Js(nm(C),"length",void 0),Js(nm(C),"_options",void 0),Js(nm(C),"_data",void 0),Js(nm(C),"_idProp",void 0),Js(nm(C),"_queue",null),g&&!sd(g)&&(e=g,g=[]),C._options=e||{},C._data=new Ry,C.length=0,C._idProp=C._options.fieldId||"id",g&&g.length&&C.add(g),C.setOptions(e),C}return Xs(A,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(g){g&&void 0!==g.queue&&(!1===g.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=kw.extend(this,{replace:["add","update","remove"]})),g.queue&&"object"===$a(g.queue)&&this._queue.setOptions(g.queue)))}},{key:"add",value:function(g,t){var A,e=this,C=[];if(sd(g)){var I=pd(g).call(g,(function(g){return g[e._idProp]}));if(Yy(I).call(I,(function(g){return e._data.has(g)})))throw new Error("A duplicate id was found in the parameter array.");for(var i=0,o=g.length;i<o;i++)A=this._addItem(g[i]),C.push(A)}else{if(!g||"object"!==$a(g))throw new Error("Unknown dataType");A=this._addItem(g),C.push(A)}return C.length&&this._trigger("add",{items:C},t),C}},{key:"update",value:function(g,t){var A=this,e=[],C=[],I=[],i=[],o=this._idProp,n=function(g){var t=g[o];if(null!=t&&A._data.has(t)){var n=g,r=ae({},A._data.get(t)),s=A._updateItem(n);C.push(s),i.push(n),I.push(r)}else{var a=A._addItem(g);e.push(a)}};if(sd(g))for(var r=0,s=g.length;r<s;r++)g[r]&&"object"===$a(g[r])?n(g[r]):console.warn("Ignoring input item, which is not an object at index "+r);else{if(!g||"object"!==$a(g))throw new Error("Unknown dataType");n(g)}if(e.length&&this._trigger("add",{items:e},t),C.length){var a={items:C,oldData:I,data:i};this._trigger("update",a,t)}return od(e).call(e,C)}},{key:"updateOnly",value:function(g,t){var A,e=this;sd(g)||(g=[g]);var C=pd(A=pd(g).call(g,(function(g){var t=e._data.get(g[e._idProp]);if(null==t)throw new Error("Updating non-existent items is not allowed.");return{oldData:t,update:g}}))).call(A,(function(g){var t=g.oldData,A=g.update,C=t[e._idProp],I=function(g){for(var t,A=arguments.length,e=new Array(A>1?A-1:0),C=1;C<A;C++)e[C-1]=arguments[C];return kp.apply(void 0,od(t=[{},g]).call(t,e))}(t,A);return e._data.set(C,I),{id:C,oldData:t,updatedData:I}}));if(C.length){var I={items:pd(C).call(C,(function(g){return g.id})),oldData:pd(C).call(C,(function(g){return g.oldData})),data:pd(C).call(C,(function(g){return g.updatedData}))};return this._trigger("update",I,t),I.items}return[]}},{key:"get",value:function(g,t){var A=void 0,e=void 0,C=void 0;ww(g)?(A=g,C=t):sd(g)?(e=g,C=t):C=g;var I,i=C&&"Object"===C.returnType?"Object":"Array",o=C&&Uh(C),n=[],r=void 0,s=void 0,a=void 0;if(null!=A)(r=this._data.get(A))&&o&&!o(r)&&(r=void 0);else if(null!=e)for(var d=0,h=e.length;d<h;d++)null==(r=this._data.get(e[d]))||o&&!o(r)||n.push(r);else for(var l,c=0,u=(s=gd(Qb(l=this._data).call(l))).length;c<u;c++)a=s[c],null==(r=this._data.get(a))||o&&!o(r)||n.push(r);if(C&&C.order&&null==A&&this._sort(n,C.order),C&&C.fields){var p=C.fields;if(null!=A&&null!=r)r=this._filterFields(r,p);else for(var f=0,v=n.length;f<v;f++)n[f]=this._filterFields(n[f],p)}if("Object"==i){for(var y={},m=0,b=n.length;m<b;m++){var w=n[m];y[w[this._idProp]]=w}return y}return null!=A?null!==(I=r)&&void 0!==I?I:null:n}},{key:"getIds",value:function(g){var t=this._data,A=g&&Uh(g),e=g&&g.order,C=gd(Qb(t).call(t)),I=[];if(A)if(e){for(var i=[],o=0,n=C.length;o<n;o++){var r=C[o],s=this._data.get(r);null!=s&&A(s)&&i.push(s)}this._sort(i,e);for(var a=0,d=i.length;a<d;a++)I.push(i[a][this._idProp])}else for(var h=0,l=C.length;h<l;h++){var c=C[h],u=this._data.get(c);null!=u&&A(u)&&I.push(u[this._idProp])}else if(e){for(var p=[],f=0,v=C.length;f<v;f++){var y=C[f];p.push(t.get(y))}this._sort(p,e);for(var m=0,b=p.length;m<b;m++)I.push(p[m][this._idProp])}else for(var w=0,k=C.length;w<k;w++){var x=C[w],E=t.get(x);null!=E&&I.push(E[this._idProp])}return I}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(g,t){var A=t&&Uh(t),e=this._data,C=gd(Qb(e).call(e));if(t&&t.order)for(var I=this.get(t),i=0,o=I.length;i<o;i++){var n=I[i];g(n,n[this._idProp])}else for(var r=0,s=C.length;r<s;r++){var a=C[r],d=this._data.get(a);null==d||A&&!A(d)||g(d,a)}}},{key:"map",value:function(g,t){for(var A=t&&Uh(t),e=[],C=this._data,I=gd(Qb(C).call(C)),i=0,o=I.length;i<o;i++){var n=I[i],r=this._data.get(n);null==r||A&&!A(r)||e.push(g(r,n))}return t&&t.order&&this._sort(e,t.order),e}},{key:"_filterFields",value:function(g,t){var A;return g?Bm(A=sd(t)?t:yd(t)).call(A,(function(t,A){return t[A]=g[A],t}),{}):g}},{key:"_sort",value:function(g,t){if("string"==typeof t){var A=t;Sb(g).call(g,(function(g,t){var e=g[A],C=t[A];return e>C?1:e<C?-1:0}))}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");Sb(g).call(g,t)}}},{key:"remove",value:function(g,t){for(var A=[],e=[],C=sd(g)?g:[g],I=0,i=C.length;I<i;I++){var o=this._remove(C[I]);if(o){var n=o[this._idProp];null!=n&&(A.push(n),e.push(o))}}return A.length&&this._trigger("remove",{items:A,oldData:e},t),A}},{key:"_remove",value:function(g){var t;if(ww(g)?t=g:g&&"object"===$a(g)&&(t=g[this._idProp]),null!=t&&this._data.has(t)){var A=this._data.get(t)||null;return this._data.delete(t),--this.length,A}return null}},{key:"clear",value:function(g){for(var t,A=gd(Qb(t=this._data).call(t)),e=[],C=0,I=A.length;C<I;C++)e.push(this._data.get(A[C]));return this._data.clear(),this.length=0,this._trigger("remove",{items:A,oldData:e},g),A}},{key:"max",value:function(g){var t,A,e=null,C=null,I=vw($b(t=this._data).call(t));try{for(I.s();!(A=I.n()).done;){var i=A.value,o=i[g];"number"==typeof o&&(null==C||o>C)&&(e=i,C=o)}}catch(g){I.e(g)}finally{I.f()}return e||null}},{key:"min",value:function(g){var t,A,e=null,C=null,I=vw($b(t=this._data).call(t));try{for(I.s();!(A=I.n()).done;){var i=A.value,o=i[g];"number"==typeof o&&(null==C||o<C)&&(e=i,C=o)}}catch(g){I.e(g)}finally{I.f()}return e||null}},{key:"distinct",value:function(g){for(var t=this._data,A=gd(Qb(t).call(t)),e=[],C=0,I=0,i=A.length;I<i;I++){for(var o=A[I],n=t.get(o)[g],r=!1,s=0;s<C;s++)if(e[s]==n){r=!0;break}r||void 0===n||(e[C]=n,C++)}return e}},{key:"_addItem",value:function(g){var t=function(g,t){return null==g[t]&&(g[t]=cw()),g}(g,this._idProp),A=t[this._idProp];if(this._data.has(A))throw new Error("Cannot add item: item with id "+A+" already exists");return this._data.set(A,t),++this.length,A}},{key:"_updateItem",value:function(g){var t=g[this._idProp];if(null==t)throw new Error("Cannot update item: item has no id (item: "+rc(g)+")");var A=this._data.get(t);if(!A)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,pw(pw({},A),g)),t}},{key:"stream",value:function(g){if(g){var t=this._data;return new Ew(Js({},qm,pm.mark((function A(){var e,C,I,i;return pm.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:e=vw(g),A.prev=1,e.s();case 3:if((C=e.n()).done){A.next=11;break}if(I=C.value,null==(i=t.get(I))){A.next=9;break}return A.next=9,[I,i];case 9:A.next=3;break;case 11:A.next=16;break;case 13:A.prev=13,A.t0=A.catch(1),e.e(A.t0);case 16:return A.prev=16,e.f(),A.finish(16);case 19:case"end":return A.stop()}}),A,null,[[1,13,16,19]])}))))}var A;return new Ew(Js({},qm,Me(A=ow(this._data)).call(A,this._data)))}}]),A}(xw),Tw=function(g){dm(A,g);var t=fw(A);function A(g,e){var C,I;return Us(this,A),Js(nm(I=t.call(this)),"length",0),Js(nm(I),"_listener",void 0),Js(nm(I),"_data",void 0),Js(nm(I),"_ids",new Jm),Js(nm(I),"_options",void 0),I._options=e||{},I._listener=Me(C=I._onEvent).call(C,nm(I)),I.setData(g),I}return Xs(A,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(g){if(this._data){this._data.off&&this._data.off("*",this._listener);var t=this._data.getIds({filter:Uh(this._options)}),A=this._data.get(t);this._ids.clear(),this.length=0,this._trigger("remove",{items:t,oldData:A})}if(null!=g){this._data=g;for(var e=this._data.getIds({filter:Uh(this._options)}),C=0,I=e.length;C<I;C++){var i=e[C];this._ids.add(i)}this.length=e.length,this._trigger("add",{items:e})}else this._data=new Ow;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var g=this._data.getIds({filter:Uh(this._options)}),t=gd(this._ids),A={},e=[],C=[],I=[],i=0,o=g.length;i<o;i++){var n=g[i];A[n]=!0,this._ids.has(n)||(e.push(n),this._ids.add(n))}for(var r=0,s=t.length;r<s;r++){var a=t[r],d=this._data.get(a);null==d?console.error("If you see this, report it please."):A[a]||(C.push(a),I.push(d),this._ids.delete(a))}this.length+=e.length-C.length,e.length&&this._trigger("add",{items:e}),C.length&&this._trigger("remove",{items:C,oldData:I})}},{key:"get",value:function(g,t){if(null==this._data)return null;var A,e=null;ww(g)||sd(g)?(e=g,A=t):A=g;var C=ae({},this._options,A),I=Uh(this._options),i=A&&Uh(A);return I&&i&&(C.filter=function(g){return I(g)&&i(g)}),null==e?this._data.get(C):this._data.get(e,C)}},{key:"getIds",value:function(g){if(this._data.length){var t,A=Uh(this._options),e=null!=g?Uh(g):null;return t=e?A?function(g){return A(g)&&e(g)}:e:A,this._data.getIds({filter:t,order:g&&g.order})}return[]}},{key:"forEach",value:function(g,t){if(this._data){var A,e,C=Uh(this._options),I=t&&Uh(t);e=I?C?function(g){return C(g)&&I(g)}:I:C,Sd(A=this._data).call(A,g,{filter:e,order:t&&t.order})}}},{key:"map",value:function(g,t){if(this._data){var A,e,C=Uh(this._options),I=t&&Uh(t);return e=I?C?function(g){return C(g)&&I(g)}:I:C,pd(A=this._data).call(A,g,{filter:e,order:t&&t.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(g){var t;return this._data.stream(g||Js({},qm,Me(t=Qb(this._ids)).call(t,this._ids)))}},{key:"dispose",value:function(){var g;null!==(g=this._data)&&void 0!==g&&g.off&&this._data.off("*",this._listener);var t,e="This data view has already been disposed of.",C={get:function(){throw new Error(e)},set:function(){throw new Error(e)},configurable:!1},I=vw(rd(A.prototype));try{for(I.s();!(t=I.n()).done;){var i=t.value;_s(this,i,C)}}catch(g){I.e(g)}finally{I.f()}}},{key:"_onEvent",value:function(g,t,A){if(t&&t.items&&this._data){var e=t.items,C=[],I=[],i=[],o=[],n=[],r=[];switch(g){case"add":for(var s=0,a=e.length;s<a;s++){var d=e[s];this.get(d)&&(this._ids.add(d),C.push(d))}break;case"update":for(var h=0,l=e.length;h<l;h++){var c=e[h];this.get(c)?this._ids.has(c)?(I.push(c),n.push(t.data[h]),o.push(t.oldData[h])):(this._ids.add(c),C.push(c)):this._ids.has(c)&&(this._ids.delete(c),i.push(c),r.push(t.oldData[h]))}break;case"remove":for(var u=0,p=e.length;u<p;u++){var f=e[u];this._ids.has(f)&&(this._ids.delete(f),i.push(f),r.push(t.oldData[u]))}}this.length+=C.length-i.length,C.length&&this._trigger("add",{items:C},A),I.length&&this._trigger("update",{items:I,oldData:o,data:n},A),i.length&&this._trigger("remove",{items:i,oldData:r},A)}}}]),A}(xw);function Dw(g,t){return"object"===$a(t)&&null!==t&&g===t.idProp&&"function"==typeof t.add&&"function"==typeof t.clear&&"function"==typeof t.distinct&&"function"==typeof Sd(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof pd(t)&&"function"==typeof t.max&&"function"==typeof t.min&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.remove&&"function"==typeof t.setOptions&&"function"==typeof t.stream&&"function"==typeof t.update&&"function"==typeof t.updateOnly}function Nw(g,t){return"object"===$a(t)&&null!==t&&g===t.idProp&&"function"==typeof Sd(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof pd(t)&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.stream&&Dw(g,t.getDataSet())}var Rw=Object.freeze({__proto__:null,DELETE:wp,DataSet:Ow,DataStream:Ew,DataView:Tw,Queue:kw,createNewDataPipeFrom:function(g){return new bw(g)},isDataSetLike:Dw,isDataViewLike:Nw}),Pw=e,Mw=C,Bw=tC,zw=sl.trim,Zw=u("".charAt),Sw=Pw.parseFloat,Fw=Pw.Symbol,Gw=Fw&&Fw.iterator,Lw=1/Sw("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")!=-1/0||Gw&&!Mw((function(){Sw(Object(Gw))}))?function(g){var t=zw(Bw(g)),A=Sw(t);return 0===A&&"-"==Zw(t,0)?-0:A}:Sw;bA({global:!0,forced:parseFloat!=Lw},{parseFloat:Lw});var jw=U.parseFloat,Vw=bA,Yw=C,Ww=rn.f;Vw({target:"Object",stat:!0,forced:Yw((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:Ww});var Qw=U.Object,_w=function(g){return Qw.getOwnPropertyNames(g)},Uw=_w;function Hw(g,t){var A=["node","edge","label"],e=!0,C=rf(t,"chosen");if("boolean"==typeof C)e=C;else if("object"===$a(C)){if(-1===zl(A).call(A,g))throw new Error("choosify: subOption '"+g+"' should be one of '"+A.join("', '")+"'");var I=rf(t,["chosen",g]);"boolean"!=typeof I&&"function"!=typeof I||(e=I)}return e}function Kw(g,t,A){if(g.width<=0||g.height<=0)return!1;if(void 0!==A){var e={x:t.x-A.x,y:t.y-A.y};if(0!==A.angle){var C=-A.angle;t={x:Math.cos(C)*e.x-Math.sin(C)*e.y,y:Math.sin(C)*e.x+Math.cos(C)*e.y}}else t=e}var I=g.x+g.width,i=g.y+g.width;return g.left<t.x&&I>t.x&&g.top<t.y&&i>t.y}function Xw(g){return"string"==typeof g&&""!==g}function Jw(g,t,A,e){var C=e.x,I=e.y;if("function"==typeof e.distanceToBorder){var i=e.distanceToBorder(g,t),o=Math.sin(t)*i,n=Math.cos(t)*i;n===i?(C+=i,I=e.y):o===i?(C=e.x,I-=i):(C+=n,I-=o)}else e.shape.width>e.shape.height?(C=e.x+.5*e.shape.width,I=e.y-A):(C=e.x+A,I=e.y-.5*e.shape.height);return{x:C,y:I}}var qw=function(){function g(t){Us(this,g),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return Xs(g,[{key:"_add",value:function(g,t){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[g]&&(this.lines[g]={width:0,height:0,blocks:[]});var e=t;void 0!==t&&""!==t||(e=" ");var C=this.measureText(e,A),I=ae({},$b(C));I.text=t,I.width=C.width,I.mod=A,void 0!==t&&""!==t||(I.width=0),this.lines[g].blocks.push(I),this.lines[g].width+=I.width}},{key:"curWidth",value:function(){var g=this.lines[this.current];return void 0===g?0:g.width}},{key:"append",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,g,t)}},{key:"newLine",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,g,t),this.current++}},{key:"determineLineHeights",value:function(){for(var g=0;g<this.lines.length;g++){var t=this.lines[g],A=0;if(void 0!==t.blocks)for(var e=0;e<t.blocks.length;e++){var C=t.blocks[e];A<C.height&&(A=C.height)}t.height=A}}},{key:"determineLabelSize",value:function(){for(var g=0,t=0,A=0;A<this.lines.length;A++){var e=this.lines[A];e.width>g&&(g=e.width),t+=e.height}this.width=g,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var g=[],t=0;t<this.lines.length;t++){var A=this.lines[t];if(0!==A.blocks.length&&(t!==this.lines.length-1||0!==A.width)){var e={};ae(e,A),e.blocks=[];for(var C=void 0,I=[],i=0;i<A.blocks.length;i++){var o=A.blocks[i];0!==o.width?I.push(o):void 0===C&&(C=o)}0===I.length&&void 0!==C&&I.push(C),e.blocks=I,g.push(e)}}return g}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var g=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:g}}}]),g}(),$w={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},gk=function(){function g(t){Us(this,g),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Xs(g,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(g){" "===g&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=g&&(this.buffer+=g)}},{key:"parseWS",value:function(g){return!!/[ \t]/.test(g)&&(this.mono?this.add(g):this.spacing=!0,!0)}},{key:"setTag",value:function(g){this.emitBlock(),this[g]=!0,this.modStack.unshift(g)}},{key:"unsetTag",value:function(g){this.emitBlock(),this[g]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(g,t){return!(this.mono||this[g]||!this.match(t))&&(this.setTag(g),!0)}},{key:"match",value:function(g){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],A=this.prepareRegExp(g),e=Xa(A,2),C=e[0],I=e[1],i=C.test(this.text.substr(this.position,I));return i&&t&&(this.position+=I-1),i}},{key:"parseEndTag",value:function(g,t,A){var e=this.mod()===g;return!(!(e="mono"===g?e&&this.mono:e&&!this.mono)||!this.match(t))&&(void 0!==A?(this.position===this.text.length-1||this.match(A,!1))&&this.unsetTag(g):this.unsetTag(g),!0)}},{key:"replace",value:function(g,t){return!!this.match(g)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(g){var t,A;if(g instanceof RegExp)A=g,t=1;else{var e=$w[g];A=void 0!==e?e:new RegExp(g),t=g.length}return[A,t]}}]),g}(),tk=function(){function g(t,A,e,C){var I=this;Us(this,g),this.ctx=t,this.parent=A,this.selected=e,this.hover=C;this.lines=new qw((function(g,A){if(void 0===g)return 0;var i=I.parent.getFormattingValues(t,e,C,A),o=0;""!==g&&(o=I.ctx.measureText(g).width);return{width:o,values:i}}))}return Xs(g,[{key:"process",value:function(g){if(!Xw(g))return this.lines.finalize();var t=this.parent.fontOptions;g=(g=g.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var A=String(g).split("\n"),e=A.length;if(t.multi)for(var C=0;C<e;C++){var I=this.splitBlocks(A[C],t.multi);if(void 0!==I)if(0!==I.length){if(t.maxWdt>0)for(var i=0;i<I.length;i++){var o=I[i].mod,n=I[i].text;this.splitStringIntoLines(n,o,!0)}else for(var r=0;r<I.length;r++){var s=I[r].mod,a=I[r].text;this.lines.append(a,s)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var d=0;d<e;d++)this.splitStringIntoLines(A[d]);else for(var h=0;h<e;h++)this.lines.newLine(A[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(g){var t="none";return"markdown"===g||"md"===g?t="markdown":!0!==g&&"html"!==g||(t="html"),t}},{key:"splitHtmlBlocks",value:function(g){for(var t=new gk(g),A=function(g){return!!/&/.test(g)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var e=t.text.charAt(t.position);t.parseWS(e)||/</.test(e)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||A(e)||t.add(e),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(g){for(var t=this,A=new gk(g),e=!0,C=function(g){return!!/\\/.test(g)&&(A.position<t.text.length+1&&(A.position++,g=t.text.charAt(A.position),/ \t/.test(g)?A.spacing=!0:(A.add(g),e=!1)),!0)};A.position<A.text.length;){var I=A.text.charAt(A.position);A.parseWS(I)||C(I)||(e||A.spacing)&&(A.parseStartTag("bold","*")||A.parseStartTag("ital","_")||A.parseStartTag("mono","`"))||A.parseEndTag("bold","*","afterBold")||A.parseEndTag("ital","_","afterItal")||A.parseEndTag("mono","`","afterMono")||(A.add(I),e=!1),A.position++}return A.emitBlock(),A.blocks}},{key:"splitBlocks",value:function(g,t){var A=this.decodeMarkupSystem(t);return"none"===A?[{text:g,mod:"normal"}]:"markdown"===A?this.splitMarkdownBlocks(g):"html"===A?this.splitHtmlBlocks(g):void 0}},{key:"overMaxWidth",value:function(g){var t=this.ctx.measureText(g).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(g){for(var t="",A=0;A<g.length;){var e=t+(""===t?"":" ")+g[A];if(this.overMaxWidth(e))break;t=e,A++}return A}},{key:"getLongestFitWord",value:function(g){for(var t=0;t<g.length&&!this.overMaxWidth(nd(g).call(g,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var e=(g=(g=g.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");e.length>0;){var C=this.getLongestFit(e);if(0===C){var I=e[0],i=this.getLongestFitWord(I);this.lines.newLine(nd(I).call(I,0,i),t),e[0]=nd(I).call(I,i)}else{var o=C;" "===e[C-1]?C--:" "===e[o]&&o++;var n=nd(e).call(e,0,C).join("");C==e.length&&A?this.lines.append(n,t):this.lines.newLine(n,t),e=nd(e).call(e,o)}}}}]),g}(),Ak=["bold","ital","boldital","mono"],ek=function(){function g(t,A){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Us(this,g),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(A),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=e}return Xs(g,[{key:"setOptions",value:function(g){if(this.elementOptions=g,this.initFontOptions(g.font),Xw(g.label)?this.labelDirty=!0:g.label=void 0,void 0!==g.font&&null!==g.font)if("string"==typeof g.font)this.baseSize=this.fontOptions.size;else if("object"===$a(g.font)){var t=g.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(t){var A=this;Hp(Ak,(function(g){A.fontOptions[g]={}})),g.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:Hp(t,(function(g,t){null!=g&&"object"!==$a(g)&&(A.fontOptions[t]=g)}))}},{key:"constrain",value:function(g){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},A=rf(g,"widthConstraint");if("number"==typeof A)t.maxWdt=Number(A),t.minWdt=Number(A);else if("object"===$a(A)){var e=rf(g,["widthConstraint","maximum"]);"number"==typeof e&&(t.maxWdt=Number(e));var C=rf(g,["widthConstraint","minimum"]);"number"==typeof C&&(t.minWdt=Number(C))}var I=rf(g,"heightConstraint");if("number"==typeof I)t.minHgt=Number(I);else if("object"===$a(I)){var i=rf(g,["heightConstraint","minimum"]);"number"==typeof i&&(t.minHgt=Number(i));var o=rf(g,["heightConstraint","valign"]);"string"==typeof o&&("top"!==o&&"bottom"!==o||(t.valign=o))}return t}},{key:"update",value:function(g,t){this.setOptions(g,!0),this.propagateFonts(t),Wp(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Hw("label",t)}},{key:"adjustSizes",value:function(g){var t=g?g.right+g.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var A=g?g.top+g.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=A)}},{key:"addFontOptionsToPile",value:function(g,t){for(var A=0;A<t.length;++A)this.addFontToPile(g,t[A])}},{key:"addFontToPile",value:function(g,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var A=t.font;g.push(A)}}},{key:"getBasicOptions",value:function(t){for(var A={},e=0;e<t.length;++e){var C=t[e],I={};g.parseFontString(I,C)&&(C=I),Hp(C,(function(g,t){void 0!==g&&(Object.prototype.hasOwnProperty.call(A,t)||(-1!==zl(Ak).call(Ak,t)?A[t]={}:A[t]=g))}))}return A}},{key:"getFontOption",value:function(t,A,e){for(var C,I=0;I<t.length;++I){var i=t[I];if(Object.prototype.hasOwnProperty.call(i,A)){if(null==(C=i[A]))continue;var o={};if(g.parseFontString(o,C)&&(C=o),Object.prototype.hasOwnProperty.call(C,e))return C[e]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,e))return this.fontOptions[e];throw new Error("Did not find value for multi-font for property: '"+e+"'")}},{key:"getFontOptions",value:function(g,t){for(var A={},e=["color","size","face","mod","vadjust"],C=0;C<e.length;++C){var I=e[C];A[I]=this.getFontOption(g,t,I)}return A}},{key:"propagateFonts",value:function(g){var t=this,A=[];this.addFontOptionsToPile(A,g),this.fontOptions=this.getBasicOptions(A);for(var e=function(g){var e=Ak[g],C=t.fontOptions[e];Hp(t.getFontOptions(A,e),(function(g,t){C[t]=g})),C.size=Number(C.size),C.vadjust=Number(C.vadjust)},C=0;C<Ak.length;++C)e(C)}},{key:"draw",value:function(g,t,A,e,C){var I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var i=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&i<this.elementOptions.scaling.label.drawThreshold-1||(i>=this.elementOptions.scaling.label.maxVisible&&(i=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(g,e,C,t,A,I),this._drawBackground(g),this._drawText(g,t,this.size.yLine,I,i))}}},{key:"_drawBackground",value:function(g){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){g.fillStyle=this.fontOptions.background;var t=this.getSize();g.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(g,t,A){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",C=arguments.length>4?arguments[4]:void 0,I=this._setAlignment(g,t,A,e),i=Xa(I,2);t=i[0],A=i[1],g.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(A-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(A+=(this.size.height-this.size.labelHeight)/2));for(var o=0;o<this.lineCount;o++){var n=this.lines[o];if(n&&n.blocks){var r=0;this.isEdgeLabel||"center"===this.fontOptions.align?r+=(this.size.width-n.width)/2:"right"===this.fontOptions.align&&(r+=this.size.width-n.width);for(var s=0;s<n.blocks.length;s++){var a=n.blocks[s];g.font=a.font;var d=this._getColor(a.color,C,a.strokeColor),h=Xa(d,2),l=h[0],c=h[1];a.strokeWidth>0&&(g.lineWidth=a.strokeWidth,g.strokeStyle=c,g.lineJoin="round"),g.fillStyle=l,a.strokeWidth>0&&g.strokeText(a.text,t+r,A+a.vadjust),g.fillText(a.text,t+r,A+a.vadjust),r+=a.width}A+=n.height}}}},{key:"_setAlignment",value:function(g,t,A,e){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){t=0,A=0;"top"===this.fontOptions.align?(g.textBaseline="alphabetic",A-=4):"bottom"===this.fontOptions.align?(g.textBaseline="hanging",A+=4):g.textBaseline="middle"}else g.textBaseline=e;return[t,A]}},{key:"_getColor",value:function(g,t,A){var e=g||"#000000",C=A||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var I=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));e=Xp(e,I),C=Xp(C,I)}return[e,C]}},{key:"getTextSize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(g,t,A),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var g=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var A=.5*-this.size.width;switch(this.fontOptions.align){case"middle":g=A,t=.5*-this.size.height;break;case"top":g=A,t=-(this.size.height+2);break;case"bottom":g=A,t=2}}return{left:g,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(g,t,A){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,C=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(g,t,A),this.size.left=e-.5*this.size.width,this.size.top=C-.5*this.size.height,this.size.yLine=C+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===I&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(g,t,A,e){var C=function(g,t,A){return"normal"===t?"mod"===A?"":g[A]:void 0!==g[t][A]?g[t][A]:g[A]},I={color:C(this.fontOptions,e,"color"),size:C(this.fontOptions,e,"size"),face:C(this.fontOptions,e,"face"),mod:C(this.fontOptions,e,"mod"),vadjust:C(this.fontOptions,e,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||A)&&("normal"===e&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?I.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(I,this.elementOptions.id,t,A));var i="";return void 0!==I.mod&&""!==I.mod&&(i+=I.mod+" "),i+=I.size+"px "+I.face,g.font=i.replace(/"/g,""),I.font=g.font,I.height=I.size,I}},{key:"differentState",value:function(g,t){return g!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(g,t,A,e){return new tk(g,this,t,A).process(e)}},{key:"_processLabel",value:function(g,t,A){if(!1!==this.labelDirty||this.differentState(t,A)){var e=this._processLabelText(g,t,A,this.elementOptions.label);this.fontOptions.minWdt>0&&e.width<this.fontOptions.minWdt&&(e.width=this.fontOptions.minWdt),this.size.labelHeight=e.height,this.fontOptions.minHgt>0&&e.height<this.fontOptions.minHgt&&(e.height=this.fontOptions.minHgt),this.lines=e.lines,this.lineCount=e.lines.length,this.size.width=e.width,this.size.height=e.height,this.selectedState=t,this.hoverState=A,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(g,t){if(!t||"string"!=typeof t)return!1;var A=t.split(" ");return g.size=+A[0].replace("px",""),g.face=A[1],g.color=A[2],!0}}]),g}(),Ck=function(){function g(t,A,e){Us(this,g),this.body=A,this.labelModule=e,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Xs(g,[{key:"setOptions",value:function(g){this.options=g}},{key:"_setMargins",value:function(g){this.margin={},this.options.margin&&("object"==$a(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),g.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(g,t){var A=this.options.borderWidth;return g&&this.resize(g),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+A}},{key:"enableShadow",value:function(g,t){t.shadow&&(g.shadowColor=t.shadowColor,g.shadowBlur=t.shadowSize,g.shadowOffsetX=t.shadowX,g.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(g,t){t.shadow&&(g.shadowColor="rgba(0,0,0,0)",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(g,t){if(!1!==t.borderDashes)if(void 0!==g.setLineDash){var A=t.borderDashes;!0===A&&(A=[5,15]),g.setLineDash(A)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(g,t){!1!==t.borderDashes&&(void 0!==g.setLineDash?g.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(g,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(g,t)}},{key:"initContextForDraw",value:function(g,t){var A=t.borderWidth/this.body.view.scale;g.lineWidth=Math.min(this.width,A),g.strokeStyle=t.borderColor,g.fillStyle=t.color}},{key:"performStroke",value:function(g,t){var A=t.borderWidth/this.body.view.scale;g.save(),A>0&&(this.enableBorderDashes(g,t),g.stroke(),this.disableBorderDashes(g,t)),g.restore()}},{key:"performFill",value:function(g,t){g.save(),g.fillStyle=t.color,this.enableShadow(g,t),Rc(g).call(g),this.disableShadow(g,t),g.restore(),this.performStroke(g,t)}},{key:"_addBoundingBoxMargin",value:function(g){this.boundingBox.left-=g,this.boundingBox.top-=g,this.boundingBox.bottom+=g,this.boundingBox.right+=g}},{key:"_updateBoundingBox",value:function(g,t,A,e,C){void 0!==A&&this.resize(A,e,C),this.left=g-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(g,t,A,e,C){this._updateBoundingBox(g,t,A,e,C)}},{key:"getDimensionsFromLabel",value:function(g,t,A){this.textSize=this.labelModule.getTextSize(g,t,A);var e=this.textSize.width,C=this.textSize.height;return 0===e&&(e=14,C=14),{width:e,height:C}}}]),g}();function Ik(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var ik=function(g){dm(A,g);var t=Ik(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C))._setMargins(C),I}return Xs(A,[{key:"resize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,A)){var e=this.getDimensionsFromLabel(g,t,A);this.width=e.width+this.margin.right+this.margin.left,this.height=e.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(g,t,A,e,C,I){this.resize(g,e,C),this.left=t-this.width/2,this.top=A-this.height/2,this.initContextForDraw(g,I),ze(g,this.left,this.top,this.width,this.height,I.borderRadius),this.performFill(g,I),this.updateBoundingBox(t,A,g,e,C),this.labelModule.draw(g,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,e,C)}},{key:"updateBoundingBox",value:function(g,t,A,e,C){this._updateBoundingBox(g,t,A,e,C);var I=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(I)}},{key:"distanceToBorder",value:function(g,t){g&&this.resize(g);var A=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+A}}]),A}(Ck);function ok(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var nk=function(g){dm(A,g);var t=ok(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C)).labelOffset=0,I.selected=!1,I}return Xs(A,[{key:"setOptions",value:function(g,t,A){this.options=g,void 0===t&&void 0===A||this.setImages(t,A)}},{key:"setImages",value:function(g,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=g):(this.imageObj=g,this.imageObjAlt=t)}},{key:"switchImages",value:function(g){var t=g&&!this.selected||!g&&this.selected;if(this.selected=g,void 0!==this.imageObjAlt&&t){var A=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=A}}},{key:"_getImagePadding",value:function(){var g={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var t=this.options.imagePadding;"object"==$a(t)?(g.top=t.top,g.right=t.right,g.bottom=t.bottom,g.left=t.left):(g.top=t,g.right=t,g.bottom=t,g.left=t)}return g}},{key:"_resizeImage",value:function(){var g,t;if(!1===this.options.shapeProperties.useImageSize){var A=1,e=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?A=this.imageObj.width/this.imageObj.height:e=this.imageObj.height/this.imageObj.width),g=2*this.options.size*A,t=2*this.options.size*e}else{var C=this._getImagePadding();g=this.imageObj.width+C.left+C.right,t=this.imageObj.height+C.top+C.bottom}this.width=g,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(g,t,A,e){this.initContextForDraw(g,e),Be(g,t,A,e.size),this.performFill(g,e)}},{key:"_drawImageAtPosition",value:function(g,t){if(0!=this.imageObj.width){g.globalAlpha=void 0!==t.opacity?t.opacity:1,this.enableShadow(g,t);var A=1;!0===this.options.shapeProperties.interpolation&&(A=this.imageObj.width/this.width/this.body.view.scale);var e=this._getImagePadding(),C=this.left+e.left,I=this.top+e.top,i=this.width-e.left-e.right,o=this.height-e.top-e.bottom;this.imageObj.drawImageAtPosition(g,A,C,I,i,o),this.disableShadow(g,t)}}},{key:"_drawImageLabel",value:function(g,t,A,e,C){var I=0;if(void 0!==this.height){I=.5*this.height;var i=this.labelModule.getTextSize(g,e,C);i.lineCount>=1&&(I+=i.height/2)}var o=A+I;this.options.label&&(this.labelOffset=I),this.labelModule.draw(g,t,o,e,C,"hanging")}}]),A}(Ck);function rk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var sk=function(g){dm(A,g);var t=rk(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C))._setMargins(C),I}return Xs(A,[{key:"resize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,A)){var e=this.getDimensionsFromLabel(g,t,A),C=Math.max(e.width+this.margin.right+this.margin.left,e.height+this.margin.top+this.margin.bottom);this.options.size=C/2,this.width=C,this.height=C,this.radius=this.width/2}}},{key:"draw",value:function(g,t,A,e,C,I){this.resize(g,e,C),this.left=t-this.width/2,this.top=A-this.height/2,this._drawRawCircle(g,t,A,I),this.updateBoundingBox(t,A),this.labelModule.draw(g,this.left+this.textSize.width/2+this.margin.left,A,e,C)}},{key:"updateBoundingBox",value:function(g,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=g-this.options.size,this.boundingBox.right=g+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(g){return g&&this.resize(g),.5*this.width}}]),A}(nk);function ak(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var dk=function(g){dm(A,g);var t=ak(A);function A(g,e,C,I,i){var o;return Us(this,A),(o=t.call(this,g,e,C)).setImages(I,i),o}return Xs(A,[{key:"resize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,e=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(e){var C=2*this.options.size;return this.width=C,this.height=C,void(this.radius=.5*this.width)}this.needsRefresh(t,A)&&this._resizeImage()}},{key:"draw",value:function(g,t,A,e,C,I){this.switchImages(e),this.resize();var i=t,o=A;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=A,i+=this.width/2,o+=this.height/2):(this.left=t-this.width/2,this.top=A-this.height/2),this._drawRawCircle(g,i,o,I),g.save(),g.clip(),this._drawImageAtPosition(g,I),g.restore(),this._drawImageLabel(g,i,o,e,C),this.updateBoundingBox(t,A)}},{key:"updateBoundingBox",value:function(g,t){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=t,this.boundingBox.left=g,this.boundingBox.right=g+2*this.options.size,this.boundingBox.bottom=t+2*this.options.size):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=g-this.options.size,this.boundingBox.right=g+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(g){return g&&this.resize(g),.5*this.width}}]),A}(nk);function hk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var lk=function(g){dm(A,g);var t=hk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"resize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,A)){var C,I;this.labelModule.getTextSize(g,t,A);var i=2*e.size;this.width=null!==(C=this.customSizeWidth)&&void 0!==C?C:i,this.height=null!==(I=this.customSizeHeight)&&void 0!==I?I:i,this.radius=.5*this.width}}},{key:"_drawShape",value:function(g,t,A,e,C,I,i,o){var n,r=this;return this.resize(g,I,i,o),this.left=e-this.width/2,this.top=C-this.height/2,this.initContextForDraw(g,o),(n=t,Object.prototype.hasOwnProperty.call(Ge,n)?Ge[n]:function(g){for(var t=arguments.length,A=new Array(t>1?t-1:0),e=1;e<t;e++)A[e-1]=arguments[e];CanvasRenderingContext2D.prototype[n].call(g,A)})(g,e,C,o.size),this.performFill(g,o),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(g.font=(I?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),g.fillStyle=this.options.icon.color||"black",g.textAlign="center",g.textBaseline="middle",g.fillText(this.options.icon.code,e,C)),{drawExternalLabel:function(){if(void 0!==r.options.label){r.labelModule.calculateLabelSize(g,I,i,e,C,"hanging");var t=C+.5*r.height+.5*r.labelModule.size.height;r.labelModule.draw(g,e,t,I,i,"hanging")}r.updateBoundingBox(e,C)}}}},{key:"updateBoundingBox",value:function(g,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=g-this.options.size,this.boundingBox.right=g+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),A}(Ck);function ck(g,t){var A=yd(g);if(rs){var e=rs(g);t&&(e=Uh(e).call(e,(function(t){return ys(g,t).enumerable}))),A.push.apply(A,e)}return A}function uk(g){for(var t=1;t<arguments.length;t++){var A,e,C=null!=arguments[t]?arguments[t]:{};t%2?Sd(A=ck(Object(C),!0)).call(A,(function(t){Js(g,t,C[t])})):Rs?Fs(g,Rs(C)):Sd(e=ck(Object(C))).call(e,(function(t){_s(g,t,ys(C,t))}))}return g}function pk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var fk=function(g){dm(A,g);var t=pk(A);function A(g,e,C,I){var i;return Us(this,A),(i=t.call(this,g,e,C,I)).ctxRenderer=I,i}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){this.resize(g,e,C,I),this.left=t-this.width/2,this.top=A-this.height/2,g.save();var i=this.ctxRenderer({ctx:g,id:this.options.id,x:t,y:A,state:{selected:e,hover:C},style:uk({},I),label:this.options.label});if(null!=i.drawNode&&i.drawNode(),g.restore(),i.drawExternalLabel){var o=i.drawExternalLabel;i.drawExternalLabel=function(){g.save(),o(),g.restore()}}return i.nodeDimensions&&(this.customSizeWidth=i.nodeDimensions.width,this.customSizeHeight=i.nodeDimensions.height),i}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function vk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var yk=function(g){dm(A,g);var t=vk(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C))._setMargins(C),I}return Xs(A,[{key:"resize",value:function(g,t,A){if(this.needsRefresh(t,A)){var e=this.getDimensionsFromLabel(g,t,A).width+this.margin.right+this.margin.left;this.width=e,this.height=e,this.radius=this.width/2}}},{key:"draw",value:function(g,t,A,e,C,I){this.resize(g,e,C),this.left=t-this.width/2,this.top=A-this.height/2,this.initContextForDraw(g,I),Se(g,t-this.width/2,A-this.height/2,this.width,this.height),this.performFill(g,I),this.updateBoundingBox(t,A,g,e,C),this.labelModule.draw(g,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,e,C)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(Ck);function mk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var bk=function(g){dm(A,g);var t=mk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"diamond",4,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function wk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var kk=function(g){dm(A,g);var t=wk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"circle",2,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g){return g&&this.resize(g),this.options.size}}]),A}(lk);function xk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Ek=function(g){dm(A,g);var t=xk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"resize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,A)){var e=this.getDimensionsFromLabel(g,t,A);this.height=2*e.height,this.width=e.width+e.height,this.radius=.5*this.width}}},{key:"draw",value:function(g,t,A,e,C,I){this.resize(g,e,C),this.left=t-.5*this.width,this.top=A-.5*this.height,this.initContextForDraw(g,I),Ze(g,this.left,this.top,this.width,this.height),this.performFill(g,I),this.updateBoundingBox(t,A,g,e,C),this.labelModule.draw(g,t,A,e,C)}},{key:"distanceToBorder",value:function(g,t){g&&this.resize(g);var A=.5*this.width,e=.5*this.height,C=Math.sin(t)*A,I=Math.cos(t)*e;return A*e/Math.sqrt(C*C+I*I)}}]),A}(Ck);function Ok(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Tk=function(g){dm(A,g);var t=Ok(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C))._setMargins(C),I}return Xs(A,[{key:"resize",value:function(g,t,A){this.needsRefresh(t,A)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(g,t,A,e,C,I){var i=this;return this.resize(g,e,C),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=A-this.height/2,this._icon(g,t,A,e,C,I),{drawExternalLabel:function(){if(void 0!==i.options.label){i.labelModule.draw(g,i.left+i.iconSize.width/2+i.margin.left,A+i.height/2+5,e)}i.updateBoundingBox(t,A)}}}},{key:"updateBoundingBox",value:function(g,t){if(this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=g-.5*this.options.icon.size,this.boundingBox.right=g+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(g,t,A,e,C,I){var i=Number(this.options.icon.size);void 0!==this.options.icon.code?(g.font=[null!=this.options.icon.weight?this.options.icon.weight:e?"bold":"",(null!=this.options.icon.weight&&e?5:0)+i+"px",this.options.icon.face].join(" "),g.fillStyle=this.options.icon.color||"black",g.textAlign="center",g.textBaseline="middle",this.enableShadow(g,I),g.fillText(this.options.icon.code,t,A),this.disableShadow(g,I)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(Ck);function Dk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Nk=function(g){dm(A,g);var t=Dk(A);function A(g,e,C,I,i){var o;return Us(this,A),(o=t.call(this,g,e,C)).setImages(I,i),o}return Xs(A,[{key:"resize",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,e=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(e){var C=2*this.options.size;return this.width=C,void(this.height=C)}this.needsRefresh(t,A)&&this._resizeImage()}},{key:"draw",value:function(g,t,A,e,C,I){g.save(),this.switchImages(e),this.resize();var i=t,o=A;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=A,i+=this.width/2,o+=this.height/2):(this.left=t-this.width/2,this.top=A-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var n=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,s=(e?r:n)/this.body.view.scale;g.lineWidth=Math.min(this.width,s),g.beginPath();var a=e?this.options.color.highlight.border:C?this.options.color.hover.border:this.options.color.border,d=e?this.options.color.highlight.background:C?this.options.color.hover.background:this.options.color.background;void 0!==I.opacity&&(a=Xp(a,I.opacity),d=Xp(d,I.opacity)),g.strokeStyle=a,g.fillStyle=d,g.rect(this.left-.5*g.lineWidth,this.top-.5*g.lineWidth,this.width+g.lineWidth,this.height+g.lineWidth),Rc(g).call(g),this.performStroke(g,I),g.closePath()}this._drawImageAtPosition(g,I),this._drawImageLabel(g,i,o,e,C),this.updateBoundingBox(t,A),g.restore()}},{key:"updateBoundingBox",value:function(g,t){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=g,this.top=t):(this.left=g-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(nk);function Rk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Pk=function(g){dm(A,g);var t=Rk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"square",2,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function Mk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Bk=function(g){dm(A,g);var t=Mk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"hexagon",4,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function zk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Zk=function(g){dm(A,g);var t=zk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"star",4,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function Sk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Fk=function(g){dm(A,g);var t=Sk(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C))._setMargins(C),I}return Xs(A,[{key:"resize",value:function(g,t,A){this.needsRefresh(t,A)&&(this.textSize=this.labelModule.getTextSize(g,t,A),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(g,t,A,e,C,I){this.resize(g,e,C),this.left=t-this.width/2,this.top=A-this.height/2,this.enableShadow(g,I),this.labelModule.draw(g,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,e,C),this.disableShadow(g,I),this.updateBoundingBox(t,A,g,e,C)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(Ck);function Gk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Lk=function(g){dm(A,g);var t=Gk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"triangle",3,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function jk(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Vk=function(g){dm(A,g);var t=jk(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"draw",value:function(g,t,A,e,C,I){return this._drawShape(g,"triangleDown",3,t,A,e,C,I)}},{key:"distanceToBorder",value:function(g,t){return this._distanceToBorder(g,t)}}]),A}(lk);function Yk(g,t){var A=yd(g);if(rs){var e=rs(g);t&&(e=Uh(e).call(e,(function(t){return ys(g,t).enumerable}))),A.push.apply(A,e)}return A}function Wk(g){for(var t=1;t<arguments.length;t++){var A,e,C=null!=arguments[t]?arguments[t]:{};t%2?Sd(A=Yk(Object(C),!0)).call(A,(function(t){Js(g,t,C[t])})):Rs?Fs(g,Rs(C)):Sd(e=Yk(Object(C))).call(e,(function(t){_s(g,t,ys(C,t))}))}return g}var Qk=function(){function g(t,A,e,C,I,i){Us(this,g),this.options=If(I),this.globalOptions=I,this.defaultOptions=i,this.body=A,this.edges=[],this.id=void 0,this.imagelist=e,this.grouplist=C,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new ek(this.body,this.options,!1),this.setOptions(t)}return Xs(g,[{key:"attachEdge",value:function(g){var t;-1===zl(t=this.edges).call(t,g)&&this.edges.push(g)}},{key:"detachEdge",value:function(g){var t,A,e=zl(t=this.edges).call(t,g);-1!=e&&hh(A=this.edges).call(A,e,1)}},{key:"setOptions",value:function(t){var A=this.options.shape;if(t){if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");g.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=wl(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=wl(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=jw(t.value)),g.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var e=[t,this.options,this.defaultOptions];return this.chooser=Hw("node",e),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&g.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(A),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var g={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?g.borderWidth=this.options.borderWidthSelected:g.borderWidth*=2,g.color=this.options.color.highlight.background,g.borderColor=this.options.color.highlight.border,g.shadow=this.options.shadow.enabled):this.hover&&(g.color=this.options.color.hover.background,g.borderColor=this.options.color.hover.border,g.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(g,this.options.id,this.selected,this.hover),!1===g.shadow&&(g.shadowColor===this.options.shadow.color&&g.shadowSize===this.options.shadow.size&&g.shadowX===this.options.shadow.x&&g.shadowY===this.options.shadow.y||(g.shadow=!0))):g.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;g.borderColor=Xp(g.borderColor,t),g.color=Xp(g.color,t),g.shadowColor=Xp(g.shadowColor,t)}return g}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),g.updateGroupOptions(this.options,Wk(Wk({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var A=this.grouplist.get(this.options.group,!1),e=[t,this.options,A,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(g){if(g===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new ik(this.options,this.body,this.labelModule);break;case"circle":this.shape=new sk(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new dk(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new fk(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new yk(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new bk(this.options,this.body,this.labelModule);break;case"dot":this.shape=new kk(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Ek(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Tk(this.options,this.body,this.labelModule);break;case"image":this.shape=new Nk(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Pk(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Bk(this.options,this.body,this.labelModule);break;case"star":this.shape=new Zk(this.options,this.body,this.labelModule);break;case"text":this.shape=new Fk(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Lk(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Vk(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(g,t){return this.shape.distanceToBorder(g,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(g,t,A){if(void 0!==this.options.value){var e=this.options.scaling.customScalingFunction(g,t,A,this.options.value),C=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var I=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+e*I}this.options.size=this.options.scaling.min+e*C}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(g){var t=this.getFormattingValues();return this.shape.draw(g,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(g){this.shape.updateBoundingBox(this.x,this.y,g)}},{key:"resize",value:function(g){var t=this.getFormattingValues();this.shape.resize(g,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(g){var t=[];return this.labelModule.visible()&&Kw(this.labelModule.getSize(),g)&&t.push({nodeId:this.id,labelId:0}),Kw(this.shape.boundingBox,g)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(g){return this.shape.left<g.right&&this.shape.left+this.shape.width>g.left&&this.shape.top<g.bottom&&this.shape.top+this.shape.height>g.top}},{key:"isBoundingBoxOverlappingWith",value:function(g){return this.shape.boundingBox.left<g.right&&this.shape.boundingBox.right>g.left&&this.shape.boundingBox.top<g.bottom&&this.shape.boundingBox.bottom>g.top}}],[{key:"checkOpacity",value:function(g){return 0<=g&&g<=1}},{key:"checkCoordinateOrigin",value:function(g){return void 0===g||"center"===g||"top-left"===g}},{key:"updateGroupOptions",value:function(t,A,e){var C;if(void 0!==e){var I=t.group;if(void 0!==A&&void 0!==A.group&&I!==A.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof I||"string"==typeof I&&""!=I){var i=e.get(I);void 0!==i.opacity&&void 0===A.opacity&&(g.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0));var o=Uh(C=Uw(A)).call(C,(function(g){return null!=A[g]}));o.push("font"),Yp(o,t,i),t.color=qp(t.color)}}}},{key:"parseOptions",value:function(t,A){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},I=arguments.length>4?arguments[4]:void 0,i=["color","fixed","shadow"];if(Yp(i,t,A,e),g.checkMass(A),void 0!==t.opacity&&(g.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==A.opacity&&(g.checkOpacity(A.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+A.opacity),A.opacity=void 0)),A.shapeProperties&&!g.checkCoordinateOrigin(A.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+A.shapeProperties.coordinateOrigin),of(t,A,"shadow",C),void 0!==A.color&&null!==A.color){var o=qp(A.color);jp(t.color,o)}else!0===e&&null===A.color&&(t.color=If(C.color));void 0!==A.fixed&&null!==A.fixed&&("boolean"==typeof A.fixed?(t.fixed.x=A.fixed,t.fixed.y=A.fixed):(void 0!==A.fixed.x&&"boolean"==typeof A.fixed.x&&(t.fixed.x=A.fixed.x),void 0!==A.fixed.y&&"boolean"==typeof A.fixed.y&&(t.fixed.y=A.fixed.y))),!0===e&&null===A.font&&(t.font=If(C.font)),g.updateGroupOptions(t,A,I),void 0!==A.scaling&&of(t.scaling,A.scaling,"label",C.scaling)}},{key:"checkMass",value:function(g,t){if(void 0!==g.mass&&g.mass<=0){var A="";void 0!==t&&(A=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+A+", setting mass to 1.",wf),g.mass=1}}}]),g}();function _k(g,t){var A=void 0!==td&&An(g)||g["@@iterator"];if(!A){if(sd(g)||(A=function(g,t){var A;if(!g)return;if("string"==typeof g)return Uk(g,t);var e=nd(A=Object.prototype.toString.call(g)).call(A,8,-1);"Object"===e&&g.constructor&&(e=g.constructor.name);if("Map"===e||"Set"===e)return Fo(g);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Uk(g,t)}(g))||t&&g&&"number"==typeof g.length){A&&(g=A);var e=0,C=function(){};return{s:C,n:function(){return e>=g.length?{done:!0}:{done:!1,value:g[e++]}},e:function(g){throw g},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,i=!0,o=!1;return{s:function(){A=A.call(g)},n:function(){var g=A.next();return i=g.done,g},e:function(g){o=!0,I=g},f:function(){try{i||null==A.return||A.return()}finally{if(o)throw I}}}}function Uk(g,t){(null==t||t>g.length)&&(t=g.length);for(var A=0,e=new Array(t);A<t;A++)e[A]=g[A];return e}var Hk=function(){function g(t,A,e,C){var I,i=this;if(Us(this,g),this.body=t,this.images=A,this.groups=e,this.layoutEngine=C,this.body.functions.createNode=Me(I=this.create).call(I,this),this.nodesListeners={add:function(g,t){i.add(t.items)},update:function(g,t){i.update(t.items,t.data,t.oldData)},remove:function(g,t){i.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(g,t,A,e){if(t===g)return.5;var C=1/(t-g);return Math.max(0,(e-g)*C)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=If(this.defaultOptions),this.bindEventListeners()}return Xs(g,[{key:"bindEventListeners",value:function(){var g,t,A=this;this.body.emitter.on("refreshNodes",Me(g=this.refresh).call(g,this)),this.body.emitter.on("refresh",Me(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",(function(){Hp(A.nodesListeners,(function(g,t){A.body.data.nodes&&A.body.data.nodes.off(t,g)})),delete A.body.functions.createNode,delete A.nodesListeners.add,delete A.nodesListeners.update,delete A.nodesListeners.remove,delete A.nodesListeners}))}},{key:"setOptions",value:function(g){if(void 0!==g){if(Qk.parseOptions(this.options,g),void 0!==g.opacity&&(My(g.opacity)||!Zy(g.opacity)||g.opacity<0||g.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+g.opacity):this.options.opacity=g.opacity),void 0!==g.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==g.font||void 0!==g.widthConstraint||void 0!==g.heightConstraint)for(var A=0,e=yd(this.body.nodes);A<e.length;A++){var C=e[A];this.body.nodes[C].updateLabelModule(),this.body.nodes[C].needsRefresh()}if(void 0!==g.size)for(var I in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,I)&&this.body.nodes[I].needsRefresh();void 0===g.hidden&&void 0===g.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=this.body.data.nodes;if(Nw("id",g))this.body.data.nodes=g;else if(sd(g))this.body.data.nodes=new Ow,this.body.data.nodes.add(g);else{if(g)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Ow}if(A&&Hp(this.nodesListeners,(function(g,t){A.off(t,g)})),this.body.nodes={},this.body.data.nodes){var e=this;Hp(this.nodesListeners,(function(g,t){e.body.data.nodes.on(t,g)}));var C=this.body.data.nodes.getIds();this.add(C,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(g){for(var t,A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=[],C=0;C<g.length;C++){t=g[C];var I=this.body.data.nodes.get(t),i=this.create(I);e.push(i),this.body.nodes[t]=i}this.layoutEngine.positionInitially(e),!1===A&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(g,t,A){for(var e=this.body.nodes,C=!1,I=0;I<g.length;I++){var i=g[I],o=e[i],n=t[I];void 0!==o?o.setOptions(n)&&(C=!0):(C=!0,o=this.create(n),e[i]=o)}C||void 0===A||(C=Yy(t).call(t,(function(g,t){var e=A[t];return e&&e.level!==g.level}))),!0===C?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(g){for(var t=this.body.nodes,A=0;A<g.length;A++){delete t[g[A]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qk;return new t(g,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var g=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Hp(this.body.nodes,(function(A,e){var C=g.body.data.nodes.get(e);void 0!==C&&(!0===t&&A.setOptions({x:null,y:null}),A.setOptions({fixed:!1}),A.setOptions(C))}))}},{key:"getPositions",value:function(g){var t={};if(void 0!==g){if(!0===sd(g)){for(var A=0;A<g.length;A++)if(void 0!==this.body.nodes[g[A]]){var e=this.body.nodes[g[A]];t[g[A]]={x:Math.round(e.x),y:Math.round(e.y)}}}else if(void 0!==this.body.nodes[g]){var C=this.body.nodes[g];t[g]={x:Math.round(C.x),y:Math.round(C.y)}}}else for(var I=0;I<this.body.nodeIndices.length;I++){var i=this.body.nodes[this.body.nodeIndices[I]];t[this.body.nodeIndices[I]]={x:Math.round(i.x),y:Math.round(i.y)}}return t}},{key:"getPosition",value:function(g){if(null==g)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[g])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(g));return{x:Math.round(this.body.nodes[g].x),y:Math.round(this.body.nodes[g].y)}}},{key:"storePositions",value:function(){var g,t=[],A=this.body.data.nodes.getDataSet(),e=_k(A.get());try{for(e.s();!(g=e.n()).done;){var C=g.value,I=C.id,i=this.body.nodes[I],o=Math.round(i.x),n=Math.round(i.y);C.x===o&&C.y===n||t.push({id:I,x:o,y:n})}}catch(g){e.e(g)}finally{e.f()}A.update(t)}},{key:"getBoundingBox",value:function(g){if(void 0!==this.body.nodes[g])return this.body.nodes[g].shape.boundingBox}},{key:"getConnectedNodes",value:function(g,t){var A=[];if(void 0!==this.body.nodes[g])for(var e=this.body.nodes[g],C={},I=0;I<e.edges.length;I++){var i=e.edges[I];"to"!==t&&i.toId==e.id?void 0===C[i.fromId]&&(A.push(i.fromId),C[i.fromId]=!0):"from"!==t&&i.fromId==e.id&&void 0===C[i.toId]&&(A.push(i.toId),C[i.toId]=!0)}return A}},{key:"getConnectedEdges",value:function(g){var t=[];if(void 0!==this.body.nodes[g])for(var A=this.body.nodes[g],e=0;e<A.edges.length;e++)t.push(A.edges[e].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",g);return t}},{key:"moveNode",value:function(g,t,A){var e=this;void 0!==this.body.nodes[g]?(this.body.nodes[g].x=Number(t),this.body.nodes[g].y=Number(A),yc((function(){e.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",g)}}]),g}(),Kk=Vg,Xk=b,Jk=_,qk=Xt,$k=function(g){return void 0!==g&&(Kk(g,"value")||Kk(g,"writable"))},gx=f,tx=DI;bA({target:"Reflect",stat:!0},{get:function g(t,A){var e,C,I=arguments.length<3?t:arguments[2];return qk(t)===I?t[A]:(e=gx.f(t,A))?$k(e)?e.value:void 0===e.get?void 0:Xk(e.get,I):Jk(C=tx(t))?g(C,A,I):void 0}});var Ax=U.Reflect.get,ex=vs;function Cx(g,t){for(;!Object.prototype.hasOwnProperty.call(g,t)&&null!==(g=cm(g)););return g}function Ix(){return Ix="undefined"!=typeof Reflect&&Ax?Ax:function(g,t,A){var e=Cx(g,t);if(e){var C=ex(e,t);return C.get?C.get.call(arguments.length<3?g:A):C.value}},Ix.apply(this,arguments)}var ix=bA,ox=Math.hypot,nx=Math.abs,rx=Math.sqrt;ix({target:"Math",stat:!0,forced:!!ox&&ox(1/0,NaN)!==1/0},{hypot:function(g,t){for(var A,e,C=0,I=0,i=arguments.length,o=0;I<i;)o<(A=nx(arguments[I++]))?(C=C*(e=o/A)*e+1,o=A):C+=A>0?(e=A/o)*e:A;return o===1/0?1/0:o*rx(C)}});var sx=U.Math.hypot;function ax(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var dx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"transform",value:function(g,t){sd(g)||(g=[g]);for(var A=t.point.x,e=t.point.y,C=t.angle,I=t.length,i=0;i<g.length;++i){var o=g[i],n=o.x*Math.cos(C)-o.y*Math.sin(C),r=o.x*Math.sin(C)+o.y*Math.cos(C);o.x=A+I*n,o.y=e+I*r}}},{key:"drawPath",value:function(g,t){g.beginPath(),g.moveTo(t[0].x,t[0].y);for(var A=1;A<t.length;++A)g.lineTo(t[A].x,t[A].y);g.closePath()}}]),g}(),hx=function(g){dm(A,g);var t=ax(A);function A(){return Us(this,A),t.apply(this,arguments)}return Xs(A,null,[{key:"draw",value:function(g,t){if(t.image){g.save(),g.translate(t.point.x,t.point.y),g.rotate(Math.PI/2+t.angle);var A=null!=t.imageWidth?t.imageWidth:t.image.width,e=null!=t.imageHeight?t.imageHeight:t.image.height;t.image.drawImageAtPosition(g,1,-A/2,0,A,e),g.restore()}return!1}}]),A}(dx),lx=function(g){dm(A,g);var t=ax(A);function A(){return Us(this,A),t.apply(this,arguments)}return Xs(A,null,[{key:"draw",value:function(g,t){var A=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),A}(dx),cx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),ux=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A={x:-.4,y:0};dx.transform(A,t),g.strokeStyle=g.fillStyle,g.fillStyle="rgba(0, 0, 0, 0)";var e=Math.PI,C=t.angle-e/2,I=t.angle+e/2;return g.beginPath(),g.arc(A.x,A.y,.4*t.length,C,I,!1),g.stroke(),!0}}]),g}(),px=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A={x:-.3,y:0};dx.transform(A,t),g.strokeStyle=g.fillStyle,g.fillStyle="rgba(0, 0, 0, 0)";var e=Math.PI,C=t.angle+e/2,I=t.angle+3*e/2;return g.beginPath(),g.arc(A.x,A.y,.4*t.length,C,I,!1),g.stroke(),!0}}]),g}(),fx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),vx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),yx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A={x:-.4,y:0};return dx.transform(A,t),Be(g,A.x,A.y,.4*t.length),!0}}]),g}(),mx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),bx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),wx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),kx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return dx.transform(A,t),dx.drawPath(g,A),!0}}]),g}(),xx=function(){function g(){Us(this,g)}return Xs(g,null,[{key:"draw",value:function(g,t){var A;switch(t.type&&(A=t.type.toLowerCase()),A){case"image":return hx.draw(g,t);case"circle":return yx.draw(g,t);case"box":return bx.draw(g,t);case"crow":return cx.draw(g,t);case"curve":return ux.draw(g,t);case"diamond":return wx.draw(g,t);case"inv_curve":return px.draw(g,t);case"triangle":return fx.draw(g,t);case"inv_triangle":return vx.draw(g,t);case"bar":return mx.draw(g,t);case"vee":return kx.draw(g,t);default:return lx.draw(g,t)}}}]),g}();function Ex(g,t){var A=yd(g);if(rs){var e=rs(g);t&&(e=Uh(e).call(e,(function(t){return ys(g,t).enumerable}))),A.push.apply(A,e)}return A}function Ox(g){for(var t=1;t<arguments.length;t++){var A,e,C=null!=arguments[t]?arguments[t]:{};t%2?Sd(A=Ex(Object(C),!0)).call(A,(function(t){Js(g,t,C[t])})):Rs?Fs(g,Rs(C)):Sd(e=Ex(Object(C))).call(e,(function(t){_s(g,t,ys(C,t))}))}return g}var Tx=function(){function g(t,A,e){Us(this,g),this._body=A,this._labelModule=e,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return Xs(g,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(g){this.options=g,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(g,t,A,e){var C=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();g.strokeStyle=this.getColor(g,t),g.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(g,t,C):this._drawLine(g,t,C)}},{key:"_drawLine",value:function(g,t,A,e,C){if(this.from!=this.to)this._line(g,t,A,e,C);else{var I=Xa(this._getCircleData(g),3),i=I[0],o=I[1],n=I[2];this._circle(g,t,i,o,n)}}},{key:"_drawDashedLine",value:function(g,t,A,e,C){g.lineCap="round";var I=sd(t.dashes)?t.dashes:[5,5];if(void 0!==g.setLineDash){if(g.save(),g.setLineDash(I),g.lineDashOffset=0,this.from!=this.to)this._line(g,t,A);else{var i=Xa(this._getCircleData(g),3),o=i[0],n=i[1],r=i[2];this._circle(g,t,o,n,r)}g.setLineDash([0]),g.lineDashOffset=0,g.restore()}else{if(this.from!=this.to)Fe(g,this.from.x,this.from.y,this.to.x,this.to.y,I);else{var s=Xa(this._getCircleData(g),3),a=s[0],d=s[1],h=s[2];this._circle(g,t,a,d,h)}this.enableShadow(g,t),g.stroke(),this.disableShadow(g,t)}}},{key:"findBorderPosition",value:function(g,t,A){return this.from!=this.to?this._findBorderPosition(g,t,A):this._findBorderPositionCircle(g,t,A)}},{key:"findBorderPositions",value:function(g){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,g),to:this._findBorderPosition(this.to,g)};var t,A=Xa(nd(t=this._getCircleData(g)).call(t,0,2),2),e=A[0],C=A[1];return{from:this._findBorderPositionCircle(this.from,g,{x:e,y:C,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,g,{x:e,y:C,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(g){var t=this.options.selfReference.size;void 0!==g&&void 0===this.from.shape.width&&this.from.shape.resize(g);var A=Jw(g,this.options.selfReference.angle,t,this.from);return[A.x,A.y,t]}},{key:"_pointOnCircle",value:function(g,t,A,e){var C=2*e*Math.PI;return{x:g+A*Math.cos(C),y:t-A*Math.sin(C)}}},{key:"_findBorderPositionCircle",value:function(g,t,A){var e,C=A.x,I=A.y,i=A.low,o=A.high,n=A.direction,r=this.options.selfReference.size,s=.5*(i+o),a=0;!0===this.options.arrowStrikethrough&&(-1===n?a=this.options.endPointOffset.from:1===n&&(a=this.options.endPointOffset.to));var d=0;do{s=.5*(i+o),e=this._pointOnCircle(C,I,r,s);var h=Math.atan2(g.y-e.y,g.x-e.x),l=g.distanceToBorder(t,h)+a-Math.sqrt(Math.pow(e.x-g.x,2)+Math.pow(e.y-g.y,2));if(Math.abs(l)<.05)break;l>0?n>0?i=s:o=s:n>0?o=s:i=s,++d}while(i<=o&&d<10);return Ox(Ox({},e),{},{t:s})}},{key:"getLineWidth",value:function(g,t){return!0===g?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(g,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var A=g.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),e=this.from.options.color.highlight.border,C=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(e=Xp(this.from.options.color.border,t.opacity),C=Xp(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?C=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(e=this.from.options.color.border),A.addColorStop(0,e),A.addColorStop(1,C),A}return"to"===t.inheritsColor?Xp(this.to.options.color.border,t.opacity):Xp(this.from.options.color.border,t.opacity)}return Xp(t.color,t.opacity)}},{key:"_circle",value:function(g,t,A,e,C){this.enableShadow(g,t);var I=0,i=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var o=this.options.selfReference.angle,n=this.options.selfReference.angle+Math.PI,r=this._findBorderPositionCircle(this.from,g,{x:A,y:e,low:o,high:n,direction:-1}),s=this._findBorderPositionCircle(this.from,g,{x:A,y:e,low:o,high:n,direction:1});I=Math.atan2(r.y-e,r.x-A),i=Math.atan2(s.y-e,s.x-A)}g.beginPath(),g.arc(A,e,C,I,i,!1),g.stroke(),this.disableShadow(g,t)}},{key:"getDistanceToEdge",value:function(g,t,A,e,C,I){if(this.from!=this.to)return this._getDistanceToEdge(g,t,A,e,C,I);var i=Xa(this._getCircleData(void 0),3),o=i[0],n=i[1],r=i[2],s=o-C,a=n-I;return Math.abs(Math.sqrt(s*s+a*a)-r)}},{key:"_getDistanceToLine",value:function(g,t,A,e,C,I){var i=A-g,o=e-t,n=((C-g)*i+(I-t)*o)/(i*i+o*o);n>1?n=1:n<0&&(n=0);var r=g+n*i-C,s=t+n*o-I;return Math.sqrt(r*r+s*s)}},{key:"getArrowData",value:function(g,t,A,e,C,I){var i,o,n,r,s,a,d,h=I.width;"from"===t?(n=this.from,r=this.to,s=I.fromArrowScale<0,a=Math.abs(I.fromArrowScale),d=I.fromArrowType):"to"===t?(n=this.to,r=this.from,s=I.toArrowScale<0,a=Math.abs(I.toArrowScale),d=I.toArrowType):(n=this.to,r=this.from,s=I.middleArrowScale<0,a=Math.abs(I.middleArrowScale),d=I.middleArrowType);var l=15*a+3*h;if(n!=r){var c=l/sx(n.x-r.x,n.y-r.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var u=this._findBorderPosition(n,g,{via:A}),p=this.getPoint(u.t+c*("from"===t?1:-1),A);i=Math.atan2(u.y-p.y,u.x-p.x),o=u}else i=Math.atan2(n.y-r.y,n.x-r.x),o=this._findBorderPosition(n,g);else{var f=(s?-c:c)/2,v=this.getPoint(.5+f,A),y=this.getPoint(.5-f,A);i=Math.atan2(v.y-y.y,v.x-y.x),o=this.getPoint(.5,A)}}else{var m=Xa(this._getCircleData(g),3),b=m[0],w=m[1],k=m[2];if("from"===t){var x=this.options.selfReference.angle,E=this.options.selfReference.angle+Math.PI,O=this._findBorderPositionCircle(this.from,g,{x:b,y:w,low:x,high:E,direction:-1});i=-2*O.t*Math.PI+1.5*Math.PI+.1*Math.PI,o=O}else if("to"===t){var T=this.options.selfReference.angle,D=this.options.selfReference.angle+Math.PI,N=this._findBorderPositionCircle(this.from,g,{x:b,y:w,low:T,high:D,direction:1});i=-2*N.t*Math.PI+1.5*Math.PI-1.1*Math.PI,o=N}else{var R=this.options.selfReference.angle/(2*Math.PI);o=this._pointOnCircle(b,w,k,R),i=-2*R*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:o,core:{x:o.x-.9*l*Math.cos(i),y:o.y-.9*l*Math.sin(i)},angle:i,length:l,type:d}}},{key:"drawArrowHead",value:function(g,t,A,e,C){g.strokeStyle=this.getColor(g,t),g.fillStyle=g.strokeStyle,g.lineWidth=t.width,xx.draw(g,C)&&(this.enableShadow(g,t),Rc(g).call(g),this.disableShadow(g,t))}},{key:"enableShadow",value:function(g,t){!0===t.shadow&&(g.shadowColor=t.shadowColor,g.shadowBlur=t.shadowSize,g.shadowOffsetX=t.shadowX,g.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(g,t){!0===t.shadow&&(g.shadowColor="rgba(0,0,0,0)",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0)}},{key:"drawBackground",value:function(g,t){if(!1!==t.background){var A={strokeStyle:g.strokeStyle,lineWidth:g.lineWidth,dashes:g.dashes};g.strokeStyle=t.backgroundColor,g.lineWidth=t.backgroundSize,this.setStrokeDashed(g,t.backgroundDashes),g.stroke(),g.strokeStyle=A.strokeStyle,g.lineWidth=A.lineWidth,g.dashes=A.dashes,this.setStrokeDashed(g,t.dashes)}}},{key:"setStrokeDashed",value:function(g,t){if(!1!==t)if(void 0!==g.setLineDash){var A=sd(t)?t:[5,5];g.setLineDash(A)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==g.setLineDash?g.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),g}();function Dx(g,t){var A=yd(g);if(rs){var e=rs(g);t&&(e=Uh(e).call(e,(function(t){return ys(g,t).enumerable}))),A.push.apply(A,e)}return A}function Nx(g){for(var t=1;t<arguments.length;t++){var A,e,C=null!=arguments[t]?arguments[t]:{};t%2?Sd(A=Dx(Object(C),!0)).call(A,(function(t){Js(g,t,C[t])})):Rs?Fs(g,Rs(C)):Sd(e=Dx(Object(C))).call(e,(function(t){_s(g,t,ys(C,t))}))}return g}function Rx(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Px=function(g){dm(A,g);var t=Rx(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"_findBorderPositionBezier",value:function(g,t){var A,e,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),I=10,i=.2,o=!1,n=1,r=0,s=this.to,a=this.options.endPointOffset?this.options.endPointOffset.to:0;g.id===this.from.id&&(s=this.from,o=!0,a=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(a=0);var d=0;do{e=.5*(r+n),A=this.getPoint(e,C);var h=Math.atan2(s.y-A.y,s.x-A.x),l=s.distanceToBorder(t,h)+a,c=Math.sqrt(Math.pow(A.x-s.x,2)+Math.pow(A.y-s.y,2)),u=l-c;if(Math.abs(u)<i)break;u<0?!1===o?r=e:n=e:!1===o?n=e:r=e,++d}while(r<=n&&d<I);return Nx(Nx({},A),{},{t:e})}},{key:"_getDistanceToBezierEdge",value:function(g,t,A,e,C,I,i){var o,n,r,s,a,d=1e9,h=g,l=t;for(n=1;n<10;n++)r=.1*n,s=Math.pow(1-r,2)*g+2*r*(1-r)*i.x+Math.pow(r,2)*A,a=Math.pow(1-r,2)*t+2*r*(1-r)*i.y+Math.pow(r,2)*e,n>0&&(d=(o=this._getDistanceToLine(h,l,s,a,C,I))<d?o:d),h=s,l=a;return d}},{key:"_bezierCurve",value:function(g,t,A,e){g.beginPath(),g.moveTo(this.fromPoint.x,this.fromPoint.y),null!=A&&null!=A.x?null!=e&&null!=e.x?g.bezierCurveTo(A.x,A.y,e.x,e.y,this.toPoint.x,this.toPoint.y):g.quadraticCurveTo(A.x,A.y,this.toPoint.x,this.toPoint.y):g.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(g,t),this.enableShadow(g,t),g.stroke(),this.disableShadow(g,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),A}(Tx);function Mx(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Bx=function(g){dm(A,g);var t=Mx(A);function A(g,e,C){var I;return Us(this,A),(I=t.call(this,g,e,C)).via=I.via,I._boundFunction=function(){I.positionBezierNode()},I._body.emitter.on("_repositionBezierNodes",I._boundFunction),I}return Xs(A,[{key:"setOptions",value:function(g){Ix(cm(A.prototype),"setOptions",this).call(this,g);var t=!1;this.options.physics!==g.physics&&(t=!0),this.options=g,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var g="edgeId:"+this.id,t=this._body.functions.createNode({id:g,shape:"circle",physics:!0,hidden:!0});this._body.nodes[g]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(g,t,A){this._bezierCurve(g,t,A)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var A=this._getCircleData(),e=Xa(A,3),C=e[0],I=e[1],i=e[2],o=2*Math.PI*(1-g);return{x:C+i*Math.sin(o),y:I+i-i*(1-Math.cos(o))}}return{x:Math.pow(1-g,2)*this.fromPoint.x+2*g*(1-g)*t.x+Math.pow(g,2)*this.toPoint.x,y:Math.pow(1-g,2)*this.fromPoint.y+2*g*(1-g)*t.y+Math.pow(g,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(g,t){return this._findBorderPositionBezier(g,t,this.via)}},{key:"_getDistanceToEdge",value:function(g,t,A,e,C,I){return this._getDistanceToBezierEdge(g,t,A,e,C,I,this.via)}}]),A}(Px);function zx(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Zx=function(g){dm(A,g);var t=zx(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"_line",value:function(g,t,A){this._bezierCurve(g,t,A)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var g,t,A=this.options.smooth.roundness,e=this.options.smooth.type,C=Math.abs(this.from.x-this.to.x),I=Math.abs(this.from.y-this.to.y);if("discrete"===e||"diagonalCross"===e){var i,o;i=o=C<=I?A*I:A*C,this.from.x>this.to.x&&(i=-i),this.from.y>=this.to.y&&(o=-o);var n=this.from.x+i,r=this.from.y+o;return"discrete"===e&&(C<=I?n=C<A*I?this.from.x:n:r=I<A*C?this.from.y:r),{x:n,y:r}}if("straightCross"===e){var s=(1-A)*C,a=(1-A)*I;return C<=I?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}if("horizontal"===e){var d=(1-A)*C;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===e){var h=(1-A)*I;return this.from.y<this.to.y&&(h=-h),{x:this.from.x,y:this.to.y+h}}if("curvedCW"===e){C=this.to.x-this.from.x,I=this.from.y-this.to.y;var l=Math.sqrt(C*C+I*I),c=Math.PI,u=(Math.atan2(I,C)+(.5*A+.5)*c)%(2*c);return{x:this.from.x+(.5*A+.5)*l*Math.sin(u),y:this.from.y+(.5*A+.5)*l*Math.cos(u)}}if("curvedCCW"===e){C=this.to.x-this.from.x,I=this.from.y-this.to.y;var p=Math.sqrt(C*C+I*I),f=Math.PI,v=(Math.atan2(I,C)+(.5*-A+.5)*f)%(2*f);return{x:this.from.x+(.5*A+.5)*p*Math.sin(v),y:this.from.y+(.5*A+.5)*p*Math.cos(v)}}g=t=C<=I?A*I:A*C,this.from.x>this.to.x&&(g=-g),this.from.y>=this.to.y&&(t=-t);var y=this.from.x+g,m=this.from.y+t;return C<=I?y=this.from.x<=this.to.x?this.to.x<y?this.to.x:y:this.to.x>y?this.to.x:y:m=this.from.y>=this.to.y?this.to.y>m?this.to.y:m:this.to.y<m?this.to.y:m,{x:y,y:m}}},{key:"_findBorderPosition",value:function(g,t){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(g,t,A.via)}},{key:"_getDistanceToEdge",value:function(g,t,A,e,C,I){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(g,t,A,e,C,I,i)}},{key:"getPoint",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),A=g,e=Math.pow(1-A,2)*this.fromPoint.x+2*A*(1-A)*t.x+Math.pow(A,2)*this.toPoint.x,C=Math.pow(1-A,2)*this.fromPoint.y+2*A*(1-A)*t.y+Math.pow(A,2)*this.toPoint.y;return{x:e,y:C}}}]),A}(Px);function Sx(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Fx=function(g){dm(A,g);var t=Sx(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"_getDistanceToBezierEdge2",value:function(g,t,A,e,C,I,i,o){for(var n=1e9,r=g,s=t,a=[0,0,0,0],d=1;d<10;d++){var h=.1*d;a[0]=Math.pow(1-h,3),a[1]=3*h*Math.pow(1-h,2),a[2]=3*Math.pow(h,2)*(1-h),a[3]=Math.pow(h,3);var l=a[0]*g+a[1]*i.x+a[2]*o.x+a[3]*A,c=a[0]*t+a[1]*i.y+a[2]*o.y+a[3]*e;if(d>0){var u=this._getDistanceToLine(r,s,l,c,C,I);n=u<n?u:n}r=l,s=c}return n}}]),A}(Px);function Gx(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Lx=function(g){dm(A,g);var t=Gx(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"_line",value:function(g,t,A){var e=A[0],C=A[1];this._bezierCurve(g,t,e,C)}},{key:"_getViaCoordinates",value:function(){var g,t,A,e,C=this.from.x-this.to.x,I=this.from.y-this.to.y,i=this.options.smooth.roundness;return(Math.abs(C)>Math.abs(I)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(t=this.from.y,e=this.to.y,g=this.from.x-i*C,A=this.to.x+i*C):(t=this.from.y-i*I,e=this.to.y+i*I,g=this.from.x,A=this.to.x),[{x:g,y:t},{x:A,y:e}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(g,t){return this._findBorderPositionBezier(g,t)}},{key:"_getDistanceToEdge",value:function(g,t,A,e,C,I){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),o=Xa(i,2),n=o[0],r=o[1];return this._getDistanceToBezierEdge2(g,t,A,e,C,I,n,r)}},{key:"getPoint",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),A=Xa(t,2),e=A[0],C=A[1],I=g,i=[Math.pow(1-I,3),3*I*Math.pow(1-I,2),3*Math.pow(I,2)*(1-I),Math.pow(I,3)],o=i[0]*this.fromPoint.x+i[1]*e.x+i[2]*C.x+i[3]*this.toPoint.x,n=i[0]*this.fromPoint.y+i[1]*e.y+i[2]*C.y+i[3]*this.toPoint.y;return{x:o,y:n}}}]),A}(Fx);function jx(g){var t=function(){if("undefined"==typeof Reflect||!om)return!1;if(om.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(om(Boolean,[],(function(){}))),!0}catch(g){return!1}}();return function(){var A,e=cm(g);if(t){var C=cm(this).constructor;A=om(e,arguments,C)}else A=e.apply(this,arguments);return hm(this,A)}}var Vx=function(g){dm(A,g);var t=jx(A);function A(g,e,C){return Us(this,A),t.call(this,g,e,C)}return Xs(A,[{key:"_line",value:function(g,t){g.beginPath(),g.moveTo(this.fromPoint.x,this.fromPoint.y),g.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(g,t),g.stroke(),this.disableShadow(g,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(g){return{x:(1-g)*this.fromPoint.x+g*this.toPoint.x,y:(1-g)*this.fromPoint.y+g*this.toPoint.y}}},{key:"_findBorderPosition",value:function(g,t){var A=this.to,e=this.from;g.id===this.from.id&&(A=this.from,e=this.to);var C=Math.atan2(A.y-e.y,A.x-e.x),I=A.x-e.x,i=A.y-e.y,o=Math.sqrt(I*I+i*i),n=(o-g.distanceToBorder(t,C))/o;return{x:(1-n)*e.x+n*A.x,y:(1-n)*e.y+n*A.y,t:0}}},{key:"_getDistanceToEdge",value:function(g,t,A,e,C,I){return this._getDistanceToLine(g,t,A,e,C,I)}}]),A}(Tx),Yx=function(){function g(t,A,e,C,I){if(Us(this,g),void 0===A)throw new Error("No body provided");this.options=If(C),this.globalOptions=C,this.defaultOptions=I,this.body=A,this.imagelist=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new ek(this.body,this.options,!0),this.setOptions(t)}return Xs(g,[{key:"setOptions",value:function(t){if(t){var A=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;g.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=jw(t.value));var e=[t,this.options,this.defaultOptions];return this.chooser=Hw("edge",e),this.updateLabelModule(t),A=this.updateEdgeType()||A,this._setInteractionWidths(),this.connect(),A}}},{key:"getFormattingValues",value:function(){var g=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,A=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,e=this.options.color.inherit,C={toArrow:g,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:A,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:e?void 0:this.options.color.color,inheritsColor:e,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var I=this.options.selectionWidth;"function"==typeof I?C.width=I(C.width):"number"==typeof I&&(C.width+=I),C.width=Math.max(C.width,.3/this.body.view.scale),C.color=this.options.color.highlight,C.shadow=this.options.shadow.enabled}else if(this.hover){var i=this.options.hoverWidth;"function"==typeof i?C.width=i(C.width):"number"==typeof i&&(C.width+=i),C.width=Math.max(C.width,.3/this.body.view.scale),C.color=this.options.color.hover,C.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(C,this.options.id,this.selected,this.hover),void 0!==C.color&&(C.inheritsColor=!1),!1===C.shadow&&(C.shadowColor===this.options.shadow.color&&C.shadowSize===this.options.shadow.size&&C.shadowX===this.options.shadow.x&&C.shadowY===this.options.shadow.y||(C.shadow=!0)));else C.shadow=this.options.shadow.enabled,C.width=Math.max(C.width,.3/this.body.view.scale);return C}},{key:"updateLabelModule",value:function(g){var t=[g,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var g=this.options.smooth,t=!1,A=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Bx&&!0===g.enabled&&"dynamic"===g.type||this.edgeType instanceof Lx&&!0===g.enabled&&"cubicBezier"===g.type||this.edgeType instanceof Zx&&!0===g.enabled&&"dynamic"!==g.type&&"cubicBezier"!==g.type||this.edgeType instanceof Vx&&!1===g.type.enabled)&&(A=!1),!0===A&&(t=this.cleanup())),!0===A?!0===g.enabled?"dynamic"===g.type?(t=!0,this.edgeType=new Bx(this.options,this.body,this.labelModule)):"cubicBezier"===g.type?this.edgeType=new Lx(this.options,this.body,this.labelModule):this.edgeType=new Zx(this.options,this.body,this.labelModule):this.edgeType=new Vx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(g,t,A){if(void 0!==this.options.value){var e=this.options.scaling.customScalingFunction(g,t,A,this.options.value),C=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var I=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+e*I}this.options.width=this.options.scaling.min+e*C}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(g){var t=this.getFormattingValues();if(!t.hidden){var A=this.edgeType.getViaNode();this.edgeType.drawLine(g,t,this.selected,this.hover,A),this.drawLabel(g,A)}}},{key:"drawArrows",value:function(g){var t=this.getFormattingValues();if(!t.hidden){var A=this.edgeType.getViaNode(),e={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(e.from=this.edgeType.getArrowData(g,"from",A,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=e.from.core),t.fromArrowSrc&&(e.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(e.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(e.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(e.to=this.edgeType.getArrowData(g,"to",A,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=e.to.core),t.toArrowSrc&&(e.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(e.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(e.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(e.middle=this.edgeType.getArrowData(g,"middle",A,this.selected,this.hover,t),t.middleArrowSrc&&(e.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(e.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(e.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(g,t,this.selected,this.hover,e.from),t.middleArrow&&this.edgeType.drawArrowHead(g,t,this.selected,this.hover,e.middle),t.toArrow&&this.edgeType.drawArrowHead(g,t,this.selected,this.hover,e.to)}}},{key:"drawLabel",value:function(g,t){if(void 0!==this.options.label){var A,e=this.from,C=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(g,this.selected,this.hover),e.id!=C.id){this.labelModule.pointToSelf=!1,A=this.edgeType.getPoint(.5,t),g.save();var I=this._getRotation(g);0!=I.angle&&(g.translate(I.x,I.y),g.rotate(I.angle)),this.labelModule.draw(g,A.x,A.y,this.selected,this.hover),g.restore()}else{this.labelModule.pointToSelf=!0;var i=Jw(g,this.options.selfReference.angle,this.options.selfReference.size,e);A=this._pointOnCircle(i.x,i.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(g,A.x,A.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(g){var t=[];if(this.labelModule.visible()){var A=this._getRotation();Kw(this.labelModule.getSize(),g,A)&&t.push({edgeId:this.id,labelId:0})}var e={left:g.x,top:g.y};return this.isOverlappingWith(e)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(g){if(this.connected){var t=this.from.x,A=this.from.y,e=this.to.x,C=this.to.y,I=g.left,i=g.top;return this.edgeType.getDistanceToEdge(t,A,e,C,I,i)<10}return!1}},{key:"_getRotation",value:function(g){var t=this.edgeType.getViaNode(),A=this.edgeType.getPoint(.5,t);void 0!==g&&this.labelModule.calculateLabelSize(g,this.selected,this.hover,A.x,A.y);var e={x:A.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return e;if("horizontal"===this.options.font.align)return e;var C=this.from.y-this.to.y,I=this.from.x-this.to.x,i=Math.atan2(C,I);return(i<-1&&I<0||i>0&&I<0)&&(i+=Math.PI),e.angle=i,e}},{key:"_pointOnCircle",value:function(g,t,A,e){return{x:g+A*Math.cos(e),y:t-A*Math.sin(e)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(g,t){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},C=arguments.length>4&&void 0!==arguments[4]&&arguments[4],I=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(Vp(I,g,t,A),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(Zy(t.endPointOffset.from)?g.endPointOffset.from=t.endPointOffset.from:(g.endPointOffset.from=void 0!==e.endPointOffset.from?e.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(Zy(t.endPointOffset.to)?g.endPointOffset.to=t.endPointOffset.to:(g.endPointOffset.to=void 0!==e.endPointOffset.to?e.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Xw(t.label)?g.label=t.label:Xw(g.label)||(g.label=void 0),of(g,t,"smooth",e),of(g,t,"shadow",e),of(g,t,"background",e),void 0!==t.dashes&&null!==t.dashes?g.dashes=t.dashes:!0===A&&null===t.dashes&&(g.dashes=Vl(e.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(g.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(g.scaling.max=t.scaling.max),of(g.scaling,t.scaling,"label",e.scaling)):!0===A&&null===t.scaling&&(g.scaling=Vl(e.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){var i=t.arrows.toLowerCase();g.arrows.to.enabled=-1!=zl(i).call(i,"to"),g.arrows.middle.enabled=-1!=zl(i).call(i,"middle"),g.arrows.from.enabled=-1!=zl(i).call(i,"from")}else{if("object"!==$a(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+rc(t.arrows));of(g.arrows,t.arrows,"to",e.arrows),of(g.arrows,t.arrows,"middle",e.arrows),of(g.arrows,t.arrows,"from",e.arrows)}else!0===A&&null===t.arrows&&(g.arrows=Vl(e.arrows));if(void 0!==t.color&&null!==t.color){var o=Fp(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,n=g.color;if(C)Wp(n,e.color,!1,A);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&delete n[r];if(Fp(n))n.color=n,n.highlight=n,n.hover=n,n.inherit=!1,void 0===o.opacity&&(n.opacity=1);else{var s=!1;void 0!==o.color&&(n.color=o.color,s=!0),void 0!==o.highlight&&(n.highlight=o.highlight,s=!0),void 0!==o.hover&&(n.hover=o.hover,s=!0),void 0!==o.inherit&&(n.inherit=o.inherit),void 0!==o.opacity&&(n.opacity=Math.min(1,Math.max(0,o.opacity))),!0===s?n.inherit=!1:void 0===n.inherit&&(n.inherit="from")}}else!0===A&&null===t.color&&(g.color=If(e.color));!0===A&&null===t.font&&(g.font=If(e.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),g.selfReference.size=t.selfReferenceSize)}}]),g}(),Wx=function(){function g(t,A,e){var C,I=this;Us(this,g),this.body=t,this.images=A,this.groups=e,this.body.functions.createEdge=Me(C=this.create).call(C,this),this.edgesListeners={add:function(g,t){I.add(t.items)},update:function(g,t){I.update(t.items)},remove:function(g,t){I.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(g,t,A,e){if(t===g)return.5;var C=1/(t-g);return Math.max(0,(e-g)*C)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Wp(this.options,this.defaultOptions),this.bindEventListeners()}return Xs(g,[{key:"bindEventListeners",value:function(){var g,t,A=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(g){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===g&&(g="continuous");var e=!1;for(var C in A.body.edges)if(Object.prototype.hasOwnProperty.call(A.body.edges,C)){var I=A.body.edges[C],i=A.body.data.edges.get(C);if(null!=i){var o=i.smooth;void 0!==o&&!0===o.enabled&&"dynamic"===o.type&&(void 0===g?I.setOptions({smooth:!1}):I.setOptions({smooth:{type:g}}),e=!0)}}!0===t&&!0===e&&A.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){A.reconnectEdges()})),this.body.emitter.on("refreshEdges",Me(g=this.refresh).call(g,this)),this.body.emitter.on("refresh",Me(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",(function(){Hp(A.edgesListeners,(function(g,t){A.body.data.edges&&A.body.data.edges.off(t,g)})),delete A.body.functions.createEdge,delete A.edgesListeners.add,delete A.edgesListeners.update,delete A.edgesListeners.remove,delete A.edgesListeners}))}},{key:"setOptions",value:function(g){if(void 0!==g){Yx.parseOptions(this.options,g,!0,this.defaultOptions,!0);var t=!1;if(void 0!==g.smooth)for(var A in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,A)&&(t=this.body.edges[A].updateEdgeType()||t);if(void 0!==g.font)for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&this.body.edges[e].updateLabelModule();void 0===g.hidden&&void 0===g.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(g){var t=this,A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.body.data.edges;if(Nw("id",g))this.body.data.edges=g;else if(sd(g))this.body.data.edges=new Ow,this.body.data.edges.add(g);else{if(g)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Ow}if(e&&Hp(this.edgesListeners,(function(g,t){e.off(t,g)})),this.body.edges={},this.body.data.edges){Hp(this.edgesListeners,(function(g,A){t.body.data.edges.on(A,g)}));var C=this.body.data.edges.getIds();this.add(C,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===A&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(g){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=this.body.edges,e=this.body.data.edges,C=0;C<g.length;C++){var I=g[C],i=A[I];i&&i.disconnect();var o=e.get(I,{showInternalIds:!0});A[I]=this.create(o)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(g){for(var t=this.body.edges,A=this.body.data.edges,e=!1,C=0;C<g.length;C++){var I=g[C],i=A.get(I),o=t[I];void 0!==o?(o.disconnect(),e=o.setOptions(i)||e,o.connect()):(this.body.edges[I]=this.create(i),e=!0)}!0===e?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(g){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==g.length){var A=this.body.edges;Hp(g,(function(g){var t=A[g];void 0!==t&&t.remove()})),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var g=this;Hp(this.body.edges,(function(t,A){var e=g.body.data.edges.get(A);void 0!==e&&t.setOptions(e)}))}},{key:"create",value:function(g){return new Yx(g,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var g,t=this.body.nodes,A=this.body.edges;for(g in t)Object.prototype.hasOwnProperty.call(t,g)&&(t[g].edges=[]);for(g in A)if(Object.prototype.hasOwnProperty.call(A,g)){var e=A[g];e.from=null,e.to=null,e.connect()}}},{key:"getConnectedNodes",value:function(g){var t=[];if(void 0!==this.body.edges[g]){var A=this.body.edges[g];void 0!==A.fromId&&t.push(A.fromId),void 0!==A.toId&&t.push(A.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var g=this,t=[];Hp(this.body.edges,(function(A,e){var C=g.body.nodes[A.toId],I=g.body.nodes[A.fromId];void 0!==C&&!0===C.isCluster||void 0!==I&&!0===I.isCluster||void 0!==C&&void 0!==I||t.push(e)})),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var g=this.body.data.edges;if(null!=g){var t=this.body.edges,A=[];Sd(g).call(g,(function(g,e){void 0===t[e]&&A.push(e)})),this.add(A,!0)}}}]),g}(),Qx=function(){function g(t,A,e){Us(this,g),this.body=t,this.physicsBody=A,this.barnesHutTree,this.setOptions(e),this._rng=Tp("BARNES HUT SOLVER")}return Xs(g,[{key:"setOptions",value:function(g){this.options=g,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var g,t=this.body.nodes,A=this.physicsBody.physicsNodeIndices,e=A.length,C=this._formBarnesHutTree(t,A);this.barnesHutTree=C;for(var I=0;I<e;I++)(g=t[A[I]]).options.mass>0&&this._getForceContributions(C.root,g)}}},{key:"_getForceContributions",value:function(g,t){this._getForceContribution(g.children.NW,t),this._getForceContribution(g.children.NE,t),this._getForceContribution(g.children.SW,t),this._getForceContribution(g.children.SE,t)}},{key:"_getForceContribution",value:function(g,t){if(g.childrenCount>0){var A=g.centerOfMass.x-t.x,e=g.centerOfMass.y-t.y,C=Math.sqrt(A*A+e*e);C*g.calcSize>this.thetaInversed?this._calculateForces(C,A,e,t,g):4===g.childrenCount?this._getForceContributions(g,t):g.children.data.id!=t.id&&this._calculateForces(C,A,e,t,g)}}},{key:"_calculateForces",value:function(g,t,A,e,C){0===g&&(t=g=.1),this.overlapAvoidanceFactor<1&&e.shape.radius&&(g=Math.max(.1+this.overlapAvoidanceFactor*e.shape.radius,g-e.shape.radius));var I=this.options.gravitationalConstant*C.mass*e.options.mass/Math.pow(g,3),i=t*I,o=A*I;this.physicsBody.forces[e.id].x+=i,this.physicsBody.forces[e.id].y+=o}},{key:"_formBarnesHutTree",value:function(g,t){for(var A,e=t.length,C=g[t[0]].x,I=g[t[0]].y,i=g[t[0]].x,o=g[t[0]].y,n=1;n<e;n++){var r=g[t[n]],s=r.x,a=r.y;r.options.mass>0&&(s<C&&(C=s),s>i&&(i=s),a<I&&(I=a),a>o&&(o=a))}var d=Math.abs(i-C)-Math.abs(o-I);d>0?(I-=.5*d,o+=.5*d):(C+=.5*d,i-=.5*d);var h=Math.max(1e-5,Math.abs(i-C)),l=.5*h,c=.5*(C+i),u=.5*(I+o),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:c-l,maxX:c+l,minY:u-l,maxY:u+l},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(var f=0;f<e;f++)(A=g[t[f]]).options.mass>0&&this._placeInTree(p.root,A);return p}},{key:"_updateBranchMass",value:function(g,t){var A=g.centerOfMass,e=g.mass+t.options.mass,C=1/e;A.x=A.x*g.mass+t.x*t.options.mass,A.x*=C,A.y=A.y*g.mass+t.y*t.options.mass,A.y*=C,g.mass=e;var I=Math.max(Math.max(t.height,t.radius),t.width);g.maxWidth=g.maxWidth<I?I:g.maxWidth}},{key:"_placeInTree",value:function(g,t,A){1==A&&void 0!==A||this._updateBranchMass(g,t);var e,C=g.children.NW.range;e=C.maxX>t.x?C.maxY>t.y?"NW":"SW":C.maxY>t.y?"NE":"SE",this._placeInRegion(g,t,e)}},{key:"_placeInRegion",value:function(g,t,A){var e=g.children[A];switch(e.childrenCount){case 0:e.children.data=t,e.childrenCount=1,this._updateBranchMass(e,t);break;case 1:e.children.data.x===t.x&&e.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(e),this._placeInTree(e,t));break;case 4:this._placeInTree(e,t)}}},{key:"_splitBranch",value:function(g){var t=null;1===g.childrenCount&&(t=g.children.data,g.mass=0,g.centerOfMass.x=0,g.centerOfMass.y=0),g.childrenCount=4,g.children.data=null,this._insertRegion(g,"NW"),this._insertRegion(g,"NE"),this._insertRegion(g,"SW"),this._insertRegion(g,"SE"),null!=t&&this._placeInTree(g,t)}},{key:"_insertRegion",value:function(g,t){var A,e,C,I,i=.5*g.size;switch(t){case"NW":A=g.range.minX,e=g.range.minX+i,C=g.range.minY,I=g.range.minY+i;break;case"NE":A=g.range.minX+i,e=g.range.maxX,C=g.range.minY,I=g.range.minY+i;break;case"SW":A=g.range.minX,e=g.range.minX+i,C=g.range.minY+i,I=g.range.maxY;break;case"SE":A=g.range.minX+i,e=g.range.max